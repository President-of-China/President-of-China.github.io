(self.webpackChunk_lls_web_app=self.webpackChunk_lls_web_app||[]).push([[8489],{97097:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(_,p,f,c){c===void 0&&(c=f),Object.defineProperty(_,c,{enumerable:!0,get:function(){return p[f]}})}:function(_,p,f,c){c===void 0&&(c=f),_[c]=p[f]}),i=this&&this.__exportStar||function(_,p){for(var f in _)f!=="default"&&!p.hasOwnProperty(f)&&r(p,_,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.VERSION=void 0,n.VERSION=u(9346).version,i(u(82159),n)},82159:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BLECharacteristicWriteMethod=n.ClientApiV1HTTPPostRequest=n.PlatformType=n.ProjectFolderStatus=n.DeviceSystemFolder=n.DeviceOrientation=n.DeviceType=n.MenuBarItem=n.HubConnectionType=n.ClientApiNotification=n.ClientApiRequest=void 0;var u;(function(a){a.HUB_SEND="/hub/send",a.HUB_START_SCAN="/hub/startscan",a.HUB_STOP_SCAN="/hub/stopscan",a.HUB_GET_CONNECTIONS="/hub/connections",a.HUB_CONNECT="/hub/connect",a.HUB_DISCONNECT="/hub/disconnect",a.HUB_FIRMWARE_UPDATING="/hub/updatingFirmware",a.HUB_CONNETIONS_VALIDATE="/hub/connections/validate",a.AUDIO_START_RECORDING="/audio/startrecording",a.AUDIO_STOP_RECORDING="/audio/stoprecording",a.AUDIO_CHECK_RECORDING_PERMISSION="/audio/checkrecordingpermission",a.AUDIO_START_REPORTING_LEVELS="/audio/startreportinglevels",a.AUDIO_STOP_REPORTING_LEVELS="/audio/stopreportinglevels",a.CONFIGURATION_REQUEST="/configuration/request",a.CONTENT_WRITE_RESOURCE="/content/writeresource",a.CONTENT_CONFIRM_DOWNLOAD_RESOURCE="/content/confirmdownloadresource",a.CONTENT_DELETE_RESOURCES="/content/deleteresources",a.CONTENT_CLEAN_TEMP="/content/cleantemp",a.CONTENT_DELETE_CONTENT="/content/deletecontent",a.CONTENT_OPEN_EXTERNAL_LINK="/content/openlink",a.DEVICE_SET_ORIENTATION="device/setorientation",a.DEVICE_SELECT_FOLDER="device/selectFolder",a.MENU_DISABLE_INITIAL_ITEMS="/menu/disableInitialItems",a.MENU_ENABLE_INITIAL_ITEMS="/menu/enableInitialItems",a.MENU_HIDE_PROJECT_ITEMS="/menu/hideProjectItems",a.MENU_SHOW_PROJECT_ITEMS="/menu/showProjectItems",a.MISC_PING="/ping",a.REQUEST_RATING="/misc/requestrating",a.MOVE_APP_BACK="/misc/moveAppBack",a.PROJECTS_DELETE="/projects/delete",a.PROJECTS_REQUEST_ALL="/projects/list",a.PROJECTS_REQUEST_INITIAL_PROJECTS="/projects/initialprojects",a.PROJECTS_MOVE="/projects/move",a.PROJECTS_SAVE_AS="/projects/saveAs",a.PROJECTS_SHARE="/projects/share",a.PROJECTS_SHOW_OPEN_DIALOG="/projects/showOpenDialog",a.PROJECTS_CHANGE_PROJECT_FOLDER="/projects/changeProjectFolder",a.ENABLE_PYTHON_KEYBOARD="/python/enablepythonkeyboard",a.DISABLE_PYTHON_KEYBOARD="/python/disablepythonkeyboard",a.PYTHON_TRIGGER_PASTE="/python/triggerpaste",a.SETTINGS_SAVE="/settings/save",a.GAMEPAD_SUBSCRIBE="gamepad/subscribe"})(u=n.ClientApiRequest||(n.ClientApiRequest={}));var r;(function(a){a.HUB_CONNECTED="/hub/connected",a.HUB_DISCONNECTED="/hub/disconnected",a.HUB_SCANNING_STOPPED="/hub/scanningstopped",a.HUB_DEVICE_FOUND="hub/devicefound",a.HUB_DID_RECEIVE_MESSAGE="/hub/didReceiveMessage",a.HUB_CONNECTION_FAILED="/hub/connectionfailed",a.HUB_CONNECTING="/hub/connecting",a.AUDIO_LEVEL_UPDATE="/audio/levelupdate",a.CONFIGURATION_CHANGED="/configuration/changed",a.CONTENT_RESTORED="/content/contentrestored",a.CONTENT_DELETED="/content/contentdeleted",a.MENU_ITEM_CLICKED="/menu/itemClicked",a.MENU_NAVIGATE_HISTORY="/menu/navigateHistory",a.PROJECTS_REQUEST_OPEN="/projects/opennotification",a.PROJECT_MOVED="/projects/moved",a.PYTHON_PRESS_KEYBOARD_BUTTON="/python/presskeyboardbutton",a.PYTHON_PASTE="/python/paste",a.GAMEPAD_CONNECTED="gamepad/connected",a.GAMEPAD_SNAPSHOT="gamepad/snapshot",a.GAMEPAD_DISCONNECTED="gamepad/disconnected",a.HOST_LIFECYCLE_BACKGROUND="host/lifecycle/background",a.HOST_LIFECYCLE_FOREGROUND="host/lifecycle/foreground",a.HOST_KEYBOARD_OVERLAY="host/keyboard/overlay"})(r=n.ClientApiNotification||(n.ClientApiNotification={}));var i;(function(a){a.USB="usb",a.BTC="bluetooth-classic",a.BLE="bluetooth-lowenergy",a.HID="usb-hid",a.VIR="virtual"})(i=n.HubConnectionType||(n.HubConnectionType={}));var _;(function(a){a.CheckForUpdate="checkForUpdate",a.NewProject="newProject",a.OpenProject="openProject",a.SaveAs="saveAs",a.MoveTo="moveTo",a.Share="share",a.Settings="settings",a.Help="help"})(_=n.MenuBarItem||(n.MenuBarItem={}));var p;(function(a){a.Phone="phone",a.Tablet="tablet",a.Desktop="desktop"})(p=n.DeviceType||(n.DeviceType={}));var f;(function(a){a.Portrait="portrait",a.LandscapeLeft="landscapeLeft",a.LandscapeRight="landscapeRight",a.Any="any"})(f=n.DeviceOrientation||(n.DeviceOrientation={}));var c;(function(a){a.Home="home",a.Desktop="desktop",a.Documents="documents",a.SandboxDocuments="sandboxDocuments"})(c=n.DeviceSystemFolder||(n.DeviceSystemFolder={}));var h;(function(a){a.Ok="ok",a.Missing="missing",a.NeedsMigration="needsMigration"})(h=n.ProjectFolderStatus||(n.ProjectFolderStatus={}));var y;(function(a){a.electron="electron",a.android="android",a.chrome="chrome",a.ios="ios",a.win10s="win10s",a.win10i="win10i",a.macos="macos",a.macosappstore="macosappstore",a.web="web",a.other=""})(y=n.PlatformType||(n.PlatformType={}));var o;(function(a){a.SENTRY_ENABLED="/v1/sentryEnabled"})(o=n.ClientApiV1HTTPPostRequest||(n.ClientApiV1HTTPPostRequest={}));var m;(function(a){a.WITH_RESPONSE="with_response",a.WITHOUT_RESPONSE="without_response"})(m=n.BLECharacteristicWriteMethod||(n.BLECharacteristicWriteMethod={}))},1860:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(a,l,v,g){g===void 0&&(g=v),Object.defineProperty(a,g,{enumerable:!0,get:function(){return l[v]}})}:function(a,l,v,g){g===void 0&&(g=v),a[g]=l[v]}),i=this&&this.__setModuleDefault||(Object.create?function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}:function(a,l){a.default=l}),_=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var v in a)v!=="default"&&Object.prototype.hasOwnProperty.call(a,v)&&r(l,a,v);return i(l,a),l};Object.defineProperty(n,"__esModule",{value:!0}),n.SnowplowTracking=void 0;const p=u(74800),f=u(42691),c=_(u(8952)),h=u(67268),y=u(30811),o=f.format.combine(f.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),f.format.printf(({level:a,message:l,timestamp:v})=>`${v} ${a}: ${l}`));class m{constructor(l,v,g,I,P){this.opts=l,this.httpClient=v,this.education={trackApplicationLaunch:(...E)=>this.trackEvent("life-cycle","application-launch",{contexts:E}),trackClick:(E,T,...b)=>this.trackEvent("page_navigation","click",{objectId:E,objectProperty:T,contexts:b}),trackLessonStart:(E,...T)=>this.trackEvent("lesson","start",{objectId:E,contexts:T}),trackLessonProgress:(E,T,...b)=>this.trackEvent("lesson","progress",{objectId:E,objectProperty:"step",value:T,contexts:b}),trackLessonComplete:(E,...T)=>this.trackEvent("lesson","complete",{objectId:E,contexts:T}),trackHubConnect:(E,T,b,...w)=>this.trackEvent("hub","connect",{objectId:E,objectProperty:T,value:b,contexts:w}),trackHubDisconnect:(E,T,b,...w)=>this.trackEvent("hub","disconnect",{objectId:E,objectProperty:T,value:b,contexts:w}),trackHubRename:(E,T,b,...w)=>this.trackEvent("hub","rename",{objectId:E,objectProperty:T,value:b,contexts:w}),trackProjectCreate:(E,T,...b)=>this.trackEvent("project","create",{objectId:E,objectProperty:T,contexts:b}),trackProjectClose:(E,T,...b)=>this.trackEvent("project","close",{objectId:E,objectProperty:T,contexts:b}),trackProjectOpen:(E,T,...b)=>this.trackEvent("project","open",{objectId:E,objectProperty:T,contexts:b}),trackProjectSave:(E,T,...b)=>this.trackEvent("project","save",{objectId:E,objectProperty:T,contexts:b}),trackProjectRename:(E,T,...b)=>this.trackEvent("project","rename",{objectId:E,objectProperty:T,contexts:b}),trackProjectMove:(E,T,...b)=>this.trackEvent("project","move",{objectId:E,objectProperty:T,contexts:b}),trackProjectDuplicate:(E,T,...b)=>this.trackEvent("project","duplicate",{objectId:E,objectProperty:T,contexts:b}),trackBuildStart:(E,...T)=>this.trackEvent("building-instruction","start",{objectId:E,contexts:T}),trackBuildComplete:(E,...T)=>this.trackEvent("building-instruction","complete",{objectId:E,contexts:T}),trackBuildProgress:(E,T,b,...w)=>this.trackEvent("building-instruction","progress",{objectId:E,objectProperty:T,value:b,contexts:w}),trackVideoPlay:(E,...T)=>this.trackEvent("video","play",{objectId:E,contexts:T}),trackVideoStop:(E,T,...b)=>this.trackEvent("video","play",{objectId:E,objectProperty:T,contexts:b}),trackPlay:(E,T,...b)=>this.trackEvent("play",E,{objectProperty:T,contexts:b})},this.trackStructEvent=(E,T,b,w,D,L,$,re)=>{const le=this.tracker.trackStructEvent(E,T,b,w,D,L,$,re);return this.httpClient.sendRequest(le)},this.trackEvent=(E,T,b)=>{var w,D,L;const re=[y.createCpcontext_1_0_2({install_id:this.opts.installId,epoch_millis:this.epochMillis(),app_version:this.opts.appVersion,device_model_description:this.opts.deviceModelDescription,operating_system_description:this.opts.operatingSystemDescription}),...(w=b==null?void 0:b.contexts)!==null&&w!==void 0?w:[]].map(oe=>h.asSnowplowJson(oe));this.logger.debug(`Tracking contexts: ${JSON.stringify(re)}`);const le=this.tracker.trackStructEvent(E,T,(D=b==null?void 0:b.objectId)!==null&&D!==void 0?D:"",(L=b==null?void 0:b.objectProperty)!==null&&L!==void 0?L:"",b==null?void 0:b.value,re);return this.httpClient.sendRequest(le)},this.onLaunch=(...E)=>(this.tracker.setUserId(this.opts.installId),this.tracker.addPayloadPair("sid",this.opts.domainSessionId),this.logger.debug("onLaunch event"),this.trackEvent("stateChange","launch",{contexts:E})),this.onPause=(...E)=>(this.logger.debug("onPause event"),this.trackEvent("stateChange","pause",{contexts:E})),this.onResume=(...E)=>(this.logger.debug("onResume event"),this.trackEvent("stateChange","resume",{contexts:E})),this.trackAction=(E,T,b,w,...D)=>(this.logger.debug("trackAction event"),this.trackEvent("genericAction",E,{objectId:T,objectProperty:b,value:w,contexts:D})),this.trackNavigation=(E,...T)=>(this.logger.debug("trackNavigation event"),this.trackEvent("pageNavigation",E,{contexts:T})),this.setLogLevel=E=>{this.logger.level=E},this.setScreenResolution=(E,T)=>{this.tracker.setScreenResolution(E.toString(),T.toString())},this.setViewPortResolution=(E,T)=>{this.tracker.setViewport(E.toString(),T.toString())},this.setLanguage=E=>{this.tracker.setLang(E)},this.opts=l,this.epochMillis=P||(()=>Date.now());let R=new f.transports.Console({format:o});this.logger=f.createLogger({level:g,transports:[R]}),this.tracker=p.trackerCore(!0,E=>{this.logger.debug(`Core request: ${JSON.stringify(E)}`)}),this.tracker.setTimezone(l.timezone),this.tracker.setPlatform(l.platform),this.tracker.setAppId(l.appName),this.tracker.setScreenResolution(l.screenResolution.widthInPixels.toString(),l.screenResolution.heightInPixels.toString()),this.tracker.setViewport(l.viewportResolution.widthInPixels.toString(),l.viewportResolution.heightInPixels.toString()),this.tracker.setLang(l.language),this.tracker.setTrackerVersion(`${c.name}-${c.version}`),this.logger.silly(`created Snowplow backend with app name: ${l.appName} and server name: ${l.serverName}`)}}n.SnowplowTracking=m},35978:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(p,f,c,h){function y(o){return o instanceof c?o:new c(function(m){m(o)})}return new(c||(c=Promise))(function(o,m){function a(g){try{v(h.next(g))}catch(I){m(I)}}function l(g){try{v(h.throw(g))}catch(I){m(I)}}function v(g){g.done?o(g.value):y(g.value).then(a,l)}v((h=h.apply(p,f||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultHttpClient=void 0;const i=u(67268);class _{constructor(f){this.serverName=f,this.sendRequest=c=>r(this,void 0,void 0,function*(){const h=i.toRecord(c.build()),y=new URL(this.url);Object.keys(h).forEach(m=>y.searchParams.append(m,h[m].toString()));const o=new Request(encodeURI(y.toString()),{method:"GET"});yield fetch(o)}),this.url=`https://${f}:443/i`}}n.DefaultHttpClient=_},18129:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(o,m,a,l){l===void 0&&(l=a),Object.defineProperty(o,l,{enumerable:!0,get:function(){return m[a]}})}:function(o,m,a,l){l===void 0&&(l=a),o[l]=m[a]}),i=this&&this.__setModuleDefault||(Object.create?function(o,m){Object.defineProperty(o,"default",{enumerable:!0,value:m})}:function(o,m){o.default=m}),_=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var m={};if(o!=null)for(var a in o)a!=="default"&&Object.prototype.hasOwnProperty.call(o,a)&&r(m,o,a);return i(m,o),m};Object.defineProperty(n,"__esModule",{value:!0}),n.Platform=n.createTracking=n.LogLevel=n.schemas=void 0;const p=u(1860),f=u(98352),c=u(35978);n.schemas=_(u(91564));var h;(function(o){o.Debug="debug",o.Warning="warning",o.Info="info",o.Verbose="verbose",o.Error="error",o.Silly="silly"})(h=n.LogLevel||(n.LogLevel={})),n.createTracking=o=>new p.SnowplowTracking(Object.assign(Object.assign({},o.configuration),{platform:o.platform,serverName:o.serverName,timezone:o.timezone,installId:f.getOrCreateInstallId(o.store),domainSessionId:o.domainSessionId}),new c.DefaultHttpClient(o.serverName),o.logLevel);var y;(function(o){o.web="web",o.mob="mob",o.pc="pc",o.srv="srv",o.app="app",o.tv="tv",o.cnsl="cnsl",o.iot="iot"})(y=n.Platform||(n.Platform={}))},98352:function(S,n,u){"use strict";var r=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(n,"__esModule",{value:!0}),n.getOrCreateInstallId=n.keys=void 0;const i=r(u(90105));n.keys={appInstallId:"InstallID"},n.getOrCreateInstallId=_=>{var p;return(p=_.read(n.keys.appInstallId))!==null&&p!==void 0?p:_.write(n.keys.appInstallId,i.default.v4())}},30811:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createCpcontext_1_0_2=void 0;function u(r){return{schema:{vendor:"com.lego",name:"cpcontext",version:"1-0-2"},data:r}}n.createCpcontext_1_0_2=u},91564:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createExperience_1_0_0=n.createCanvas_1_0_1=n.createVideo_1_0_0=n.createSettings_1_0_0=n.createProject_1_0_2=n.createProject_1_0_1=n.createProject_1_0_0=n.createProgress_1_0_0=n.createLesson_1_0_0=n.createHub_1_0_5=n.createHub_1_0_4=n.createHub_1_0_3=n.createHub_1_0_2=n.createHub_1_0_1=n.createHub_1_0_0=n.createCpcontext_1_0_2=n.createCanvas_1_0_0=n.createBuildingInstruction_1_0_0=void 0;function u(E){return{schema:{vendor:"com.lego",name:"building_instruction",version:"1-0-0"},data:E}}n.createBuildingInstruction_1_0_0=u;function r(E){return{schema:{vendor:"com.lego",name:"canvas",version:"1-0-0"},data:E}}n.createCanvas_1_0_0=r;function i(E){return{schema:{vendor:"com.lego",name:"cpcontext",version:"1-0-2"},data:E}}n.createCpcontext_1_0_2=i;function _(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-0"},data:E}}n.createHub_1_0_0=_;function p(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-1"},data:E}}n.createHub_1_0_1=p;function f(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-2"},data:E}}n.createHub_1_0_2=f;function c(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-3"},data:E}}n.createHub_1_0_3=c;function h(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-4"},data:E}}n.createHub_1_0_4=h;function y(E){return{schema:{vendor:"com.lego",name:"hub",version:"1-0-5"},data:E}}n.createHub_1_0_5=y;function o(E){return{schema:{vendor:"com.lego",name:"lesson",version:"1-0-0"},data:E}}n.createLesson_1_0_0=o;function m(E){return{schema:{vendor:"com.lego",name:"progress",version:"1-0-0"},data:E}}n.createProgress_1_0_0=m;function a(E){return{schema:{vendor:"com.lego",name:"project",version:"1-0-0"},data:E}}n.createProject_1_0_0=a;function l(E){return{schema:{vendor:"com.lego",name:"project",version:"1-0-1"},data:E}}n.createProject_1_0_1=l;function v(E){return{schema:{vendor:"com.lego",name:"project",version:"1-0-2"},data:E}}n.createProject_1_0_2=v;function g(E){return{schema:{vendor:"com.lego",name:"settings",version:"1-0-0"},data:E}}n.createSettings_1_0_0=g;function I(E){return{schema:{vendor:"com.lego",name:"video",version:"1-0-0"},data:E}}n.createVideo_1_0_0=I;function P(E){return{schema:{vendor:"com.lego",name:"canvas",version:"1-0-1"},data:E}}n.createCanvas_1_0_1=P;function R(E){return{schema:{vendor:"com.lego",name:"experience",version:"1-0-0"},data:E}}n.createExperience_1_0_0=R},67268:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toRecord=n.asSnowplowJson=void 0,n.asSnowplowJson=({schema:u,data:r})=>({schema:`iglu:${u.vendor}/${u.name}/jsonschema/${u.version}`,data:n.toRecord(r)}),n.toRecord=u=>{const r={};for(const[i,_]of Object.entries(u))r[i]=_;return r}},90105:(S,n,u)=>{var r=u(33755),i=u(49719),_=i;_.v1=r,_.v4=i,S.exports=_},596:S=>{for(var n=[],u=0;u<256;++u)n[u]=(u+256).toString(16).substr(1);function r(i,_){var p=_||0,f=n;return[f[i[p++]],f[i[p++]],f[i[p++]],f[i[p++]],"-",f[i[p++]],f[i[p++]],"-",f[i[p++]],f[i[p++]],"-",f[i[p++]],f[i[p++]],"-",f[i[p++]],f[i[p++]],f[i[p++]],f[i[p++]],f[i[p++]],f[i[p++]]].join("")}S.exports=r},90786:S=>{var n=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(n){var u=new Uint8Array(16);S.exports=function(){return n(u),u}}else{var r=new Array(16);S.exports=function(){for(var _=0,p;_<16;_++)(_&3)===0&&(p=Math.random()*4294967296),r[_]=p>>>((_&3)<<3)&255;return r}}},33755:(S,n,u)=>{var r=u(90786),i=u(596),_,p,f=0,c=0;function h(y,o,m){var a=o&&m||0,l=o||[];y=y||{};var v=y.node||_,g=y.clockseq!==void 0?y.clockseq:p;if(v==null||g==null){var I=r();v==null&&(v=_=[I[0]|1,I[1],I[2],I[3],I[4],I[5]]),g==null&&(g=p=(I[6]<<8|I[7])&16383)}var P=y.msecs!==void 0?y.msecs:new Date().getTime(),R=y.nsecs!==void 0?y.nsecs:c+1,E=P-f+(R-c)/1e4;if(E<0&&y.clockseq===void 0&&(g=g+1&16383),(E<0||P>f)&&y.nsecs===void 0&&(R=0),R>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=P,c=R,p=g,P+=122192928e5;var T=((P&268435455)*1e4+R)%4294967296;l[a++]=T>>>24&255,l[a++]=T>>>16&255,l[a++]=T>>>8&255,l[a++]=T&255;var b=P/4294967296*1e4&268435455;l[a++]=b>>>8&255,l[a++]=b&255,l[a++]=b>>>24&15|16,l[a++]=b>>>16&255,l[a++]=g>>>8|128,l[a++]=g&255;for(var w=0;w<6;++w)l[a+w]=v[w];return o||i(l)}S.exports=h},49719:(S,n,u)=>{var r=u(90786),i=u(596);function _(p,f,c){var h=f&&c||0;typeof p=="string"&&(f=p==="binary"?new Array(16):null,p=null),p=p||{};var y=p.random||(p.rng||r)();if(y[6]=y[6]&15|64,y[8]=y[8]&63|128,f)for(var o=0;o<16;++o)f[h+o]=y[o];return f||i(y)}S.exports=_},39462:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(74184),_=u(62904);n.EditorContext=r.createContext(void 0),n.EditorProvider=({children:p,isTablet:f=!1,configuration:c})=>{const[h,y]=r.useState(void 0);i.useLayoutOnResize(h);const o=r.useCallback(m=>{const a=_.createMonacoEditor(m,f,c);return y(a),a},[]);return r.createElement(n.EditorContext.Provider,{value:{editor:h,createEditor:o}},p)}},62904:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(85406),i=u(33753);function _(p,f,c={}){const h=r.editor.create(p,Object.assign({suggest:{showWords:!1},automaticLayout:!1,theme:i.spikeThemeIdentifier,minimap:{enabled:!1},contextmenu:!1,folding:!1,codeLens:!1,links:!1},c));return h.addCommand(r.KeyCode.F1,()=>null),f&&h.onDidType(y=>{const o=h.getSelection();["\u201C","\u201D","\u201E","\u201F","\u301D","\u301E","\u301F","\uFF02"].includes(y)&&h.getModel().pushEditOperations([],[{range:new r.Range(o.startLineNumber,o.startColumn-1,o.startLineNumber,o.startColumn),text:'"'}],null)}),h}n.createMonacoEditor=_},33753:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(85406),i="spike-theme";n.spikeThemeIdentifier=i;const _={base:"vs",inherit:!0,colors:{"editorLineNumber.foreground":"#7C7C7C","editorIndentGuide.background":"#E9E9E9"},rules:[{token:"keyword.python",foreground:"0078CC"},{token:"identifier.python",foreground:"000000"},{token:"string.python",foreground:"D8009B"},{token:"string.escape.python",foreground:"D8009B"},{token:"number.python",foreground:"FF7D00"},{token:"comment.python",foreground:"00963E"},{token:"delimiter.parenthesis.python",foreground:"00877B"},{token:"delimiter.python",foreground:"000000"},{token:"delimiter.bracket.python",foreground:"00877B"}]};r.editor.defineTheme(i,_)},81697:(S,n,u)=>{"use strict";function r(i){for(var _ in i)n.hasOwnProperty(_)||(n[_]=i[_])}Object.defineProperty(n,"__esModule",{value:!0}),r(u(39462))},24682:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(93697);u(26164);const _=p=>{const f=r.useRef(void 0);return i.useCreateMonaco(f),r.createElement("div",{className:"lls-code-editor"},r.createElement("div",Object.assign({className:"lls-code-editor__editor",dir:"ltr",ref:f},p)))};n.LLSCodeEditor=_},45444:(S,n,u)=>{"use strict";function r(i){for(var _ in i)n.hasOwnProperty(_)||(n[_]=i[_])}Object.defineProperty(n,"__esModule",{value:!0}),r(u(24682))},98214:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(57480),_=u(61490),p=u(35517);u(90671),n.LLSContextMenu=({isTouchDevice:f,isChromebook:c,children:h})=>{var y,o;const m=_.useEditor(),a=r.useRef(),[l,v]=r.useState(void 0),g=r.useCallback(P=>v(P),[]),I=r.useCallback(()=>{v(void 0),f||m.focus()},[m]);return i.useOnEditorContextMenu(m,g,c),r.useEffect(()=>{if(l&&m)return m.getModel().onDidChangeContent(I).dispose},[l,I,m]),r.createElement(r.Fragment,null,r.createElement("div",{className:"LLSContextMenu",ref:a,style:{top:((y=l)===null||y===void 0?void 0:y.y)||0,left:((o=l)===null||o===void 0?void 0:o.x)||0}}),r.createElement(p.LLSDropdown,{show:!!l,refElement:a.current,onClickOutside:I,placement:"top-start"},h))}},27294:(S,n,u)=>{"use strict";function r(i){for(var _ in i)n.hasOwnProperty(_)||(n[_]=i[_])}Object.defineProperty(n,"__esModule",{value:!0}),r(u(98214))},35517:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(9013),i=u(2784),_=u(28316),p=u(29040);u(74754);class f extends i.PureComponent{componentDidUpdate(){this.scheduleUpdate&&this.props.show&&this.scheduleUpdate()}render(){const{children:y,show:o,refElement:m,className:a}=this.props;return i.createElement(p.Popper,{eventsEnabled:o,referenceElement:m,placement:this.props.placement},({ref:l,style:v,placement:g,scheduleUpdate:I})=>(this.scheduleUpdate=I,_.createPortal(i.createElement("div",{className:r.default("code-dropdown__background",o&&"show"),onClick:this.props.onClickOutside},i.createElement("div",{className:r.default("code-dropdown",o&&"show",a),ref:l,style:Object.assign(Object.assign({},v),{top:o?v.top:"5px"}),"data-placement":g},y)),document.body)))}}n.LLSDropdown=f,f.defaultProps={placement:"bottom"};class c extends i.PureComponent{render(){return i.createElement("div",{className:r.default("code-dropdown-item",this.props.selected&&"active",this.props.underline&&"underline",this.props.uppercase&&"uppercase"),onClick:this.props.onClickHandler},this.props.children)}}c.defaultProps={uppercase:!0},function(h){h.Item=c}(f=n.LLSDropdown||(n.LLSDropdown={}))},48711:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784);n.useCanUndoRedo=i=>{const[_,p]=r.useState(!1),[f,c]=r.useState(!1),h=i.model;r.useEffect(()=>{p(i.initialVersion!==i.currentVersion),c(i.furthestVersion>i.currentVersion)},[h]);const y=o=>{o<i.currentVersion?(c(!0),o===i.initialVersion&&p(!1)):(o<=i.furthestVersion?o===i.furthestVersion&&c(!1):(c(!1),i.furthestVersion=o),p(!0)),i.currentVersion=o};return r.useEffect(()=>{const o=h.onDidChangeContent(m=>{const a=h.getAlternativeVersionId();y(a)});return()=>{o.dispose()}},[h]),{canUndo:_,canRedo:f}}},93697:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(81697);n.useCreateMonaco=_=>{const{createEditor:p}=r.useContext(i.EditorContext);r.useEffect(()=>{if(_.current){const f=p(_.current);return()=>{f.dispose()}}},[_])}},54405:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(85406),_=u(61490),p=u(26923);n.useEditorActions=f=>{const c=_.useEditor(),h=r.useCallback(()=>c.trigger("keyboard","undo",""),[c]),y=r.useCallback(()=>c.trigger("keyboard","redo",""),[c]),o=r.useCallback(()=>c.trigger("keyboard","editor.action.fontZoomReset",""),[c]),m=r.useCallback(()=>c.trigger("keyboard","editor.action.fontZoomIn",""),[c]),a=r.useCallback(()=>c.trigger("keyboard","editor.action.fontZoomOut",""),[c]),l=r.useCallback(()=>{const E=c.getPosition();E.column===1?c.setPosition({lineNumber:E.lineNumber-1,column:1e6}):c.setPosition({lineNumber:E.lineNumber,column:E.column-1})},[c]),v=r.useCallback(()=>{const E=c.getPosition(),T=c.getModel().getLineMaxColumn(E.lineNumber);E.column===T?c.setPosition({lineNumber:E.lineNumber+1,column:0}):c.setPosition({lineNumber:E.lineNumber,column:E.column+1})},[c]),g=r.useCallback(E=>{const T=c.getSelection(),b=new i.Range(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn),D={identifier:{major:1,minor:1},range:b,text:E,forceMoveMarkers:!0};c.executeEdits("my-source",[D])},[c]),I=r.useCallback(E=>g(p.replaceTabsWithSpaces(E)),[c,g]),P=r.useCallback(()=>{f()},[I]);r.useEffect(()=>{c&&c.addCommand(i.KeyMod.CtrlCmd|i.KeyCode.KEY_V,P)},[c,P]);const R=r.useCallback(()=>{const E=c.getModel().getOptions().tabSize,b=c.getSelection().startColumn-1,w=b%E,L=(w===0?b+E:b+E-w)-b;g(" ".repeat(L))},[c,g]);return c?{undo:h,redo:y,resetZoom:o,zoomIn:m,zoomOut:a,moveLeft:l,moveRight:v,write:g,paste:I,pasteFromClipboard:P,insertTab:R}:{}}},61490:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(81697);n.useEditor=()=>r.useContext(i.EditorContext).editor},74184:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(10139);function _(p){r.useEffect(()=>{if(p){const f=i.debounce(()=>{p.layout()},50);return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}}},[p])}n.useLayoutOnResize=_},76958:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=f=>"touches"in f,_=f=>{!i(f)||f.touches.length<2&&f.preventDefault&&f.preventDefault()},p=(f,{isPreventDefault:c=!0,delay:h=300}={})=>{const y=r.useRef(),o=r.useRef(),m=r.useCallback(l=>{c&&l.target&&(l.target.addEventListener("touchend",_,{passive:!1}),o.current=l.target),y.current=setTimeout(()=>f(l),h)},[f,h]),a=r.useCallback(()=>{y.current&&clearTimeout(y.current),c&&o.current&&o.current.removeEventListener("touchend",_)},[]);return{onMouseDown:l=>m(l),onTouchStart:l=>m(l),onMouseUp:a,onMouseLeave:a,onTouchEnd:a}};n.default=p},57480:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(76958);n.useOnEditorContextMenu=(_,p,f)=>{const c=r.useCallback(o=>{const m=o.touches[0],a={x:m.clientX,y:m.clientY},l=_.getTargetAtClientPoint(a.x,a.y);l&&_.setPosition(l.position),document.activeElement.blur(),p(a)},[p,_]),h=r.useCallback(o=>{const m=o.target.position;m&&(_.setPosition(m),p({x:o.event.posx,y:o.event.posy})),document.activeElement.blur()},[p,_]),y=i.default(c);r.useEffect(()=>{var o,m,a;if(_){const l=_.onContextMenu(h),v=_.getDomNode();return f||((o=v)===null||o===void 0||o.addEventListener("touchstart",y.onTouchStart),(m=v)===null||m===void 0||m.addEventListener("touchend",y.onTouchEnd),(a=v)===null||a===void 0||a.addEventListener("touchmove",y.onTouchEnd)),()=>{var g,I,P;f||((g=v)===null||g===void 0||g.removeEventListener("touchstart",y.onTouchStart),(I=v)===null||I===void 0||I.removeEventListener("touchend",y.onTouchEnd),(P=v)===null||P===void 0||P.removeEventListener("touchmove",y.onTouchEnd)),l.dispose()}}},[_,y,h])}},64428:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(2784),i=u(61490),_=26,p=8,f=c=>c/1.5*(_-p)+p;n.useZoom=c=>{const h=i.useEditor();r.useEffect(()=>{h&&h.updateOptions({fontSize:f(c)})},[c,h])}},61991:(S,n,u)=>{"use strict";function r(_){for(var p in _)n.hasOwnProperty(p)||(n[p]=_[p])}Object.defineProperty(n,"__esModule",{value:!0});const i=u(85406);n.monaco=i,r(u(45444)),r(u(27294)),r(u(81697)),r(u(48711)),r(u(61490)),r(u(54405)),r(u(64428)),r(u(46374))},46374:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(85406);n.monacoModels={},n.getEditorModelCache=(i,_,p="python")=>{if(typeof n.monacoModels[i]=="undefined"){const f=r.editor.createModel(_,p);n.monacoModels[i]={model:f,initialVersion:f.getAlternativeVersionId(),currentVersion:f.getAlternativeVersionId(),furthestVersion:f.getAlternativeVersionId()}}return n.monacoModels[i]}},26923:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const u=(r,i)=>{let _=0;return r.replace(/\t/g," ".repeat(i)).split("").reduce((p,f)=>{if(f===" ")_++;else if(_===1)p+=" "+f,_=0;else if(_>1){const c=Math.floor(_/i)*i;p+=" ".repeat(c)+f,_=0}else p+=f;return p},"")};n.replaceTabsWithSpaces=r=>{const i=4;return r.split(/\r?\n/).map(_=>u(_,i)).join(`
`)}},9013:(S,n)=>{var u,r;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var i={}.hasOwnProperty;function _(){for(var p=[],f=0;f<arguments.length;f++){var c=arguments[f];if(!!c){var h=typeof c;if(h==="string"||h==="number")p.push(c);else if(Array.isArray(c)&&c.length){var y=_.apply(null,c);y&&p.push(y)}else if(h==="object")for(var o in c)i.call(c,o)&&c[o]&&p.push(o)}}return p.join(" ")}S.exports?(_.default=_,S.exports=_):(u=[],r=function(){return _}.apply(n,u),r!==void 0&&(S.exports=r))})()},10139:function(S,n,u){S=u.nmd(S);var r;/**
* @license
* Lodash <https://lodash.com/>
* Copyright JS Foundation and other contributors <https://js.foundation/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var i,_="4.17.11",p=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="__lodash_hash_undefined__",y=500,o="__lodash_placeholder__",m=1,a=2,l=4,v=1,g=2,I=1,P=2,R=4,E=8,T=16,b=32,w=64,D=128,L=256,$=512,re=30,le="...",oe=800,X=16,F=1,B=2,W=3,ce=1/0,te=9007199254740991,K=17976931348623157e292,ee=0/0,de=4294967295,z=de-1,G=de>>>1,ge=[["ary",D],["bind",I],["bindKey",P],["curry",E],["curryRight",T],["flip",$],["partial",b],["partialRight",w],["rearg",L]],pe="[object Arguments]",fe="[object Array]",Ee="[object AsyncFunction]",De="[object Boolean]",Ie="[object Date]",Mt="[object DOMException]",Gt="[object Error]",At="[object Function]",yn="[object GeneratorFunction]",ft="[object Map]",vn="[object Number]",rn="[object Null]",ct="[object Object]",dr="[object Promise]",ie="[object Proxy]",Y="[object RegExp]",ae="[object Set]",he="[object String]",ue="[object Symbol]",Ce="[object Undefined]",ke="[object WeakMap]",Ze="[object WeakSet]",$e="[object ArrayBuffer]",lt="[object DataView]",bn="[object Float32Array]",Wt="[object Float64Array]",pr="[object Int8Array]",fr="[object Int16Array]",En="[object Int32Array]",Yn="[object Uint8Array]",On="[object Uint8ClampedArray]",Kr="[object Uint16Array]",Qr="[object Uint32Array]",$r=/\b__p \+= '';/g,Rs=/\b(__p \+=) '' \+/g,Ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oi=/&(?:amp|lt|gt|quot|#39);/g,ii=/[&<>"']/g,Ns=RegExp(oi.source),Fs=RegExp(ii.source),Ls=/<%-([\s\S]+?)%>/g,Us=/<%([\s\S]+?)%>/g,si=/<%=([\s\S]+?)%>/g,ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ui=/^\w*$/,ks=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ln=/[\\^$.*+?()[\]{}|]/g,js=RegExp(Ln.source),ci=/^\s+|\s+$/g,Un=/^\s+/,mt=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tn=/\{\n\/\* \[wrapped with (.+)\] \*/,Yr=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/\\(\\)?/g,mr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zn=/\w*$/,li=/^[-+]0x[0-9a-f]+$/i,zr=/^0b[01]+$/i,xs=/^\[object .+?Constructor\]$/,Sn=/^0o[0-7]+$/i,gr=/^(?:0|[1-9]\d*)$/,wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,Zr=/['\n\r\u2028\u2029\\]/g,Kt="\\ud800-\\udfff",Bs="\\u0300-\\u036f",Jr="\\ufe20-\\ufe2f",_r="\\u20d0-\\u20ff",hr=Bs+Jr+_r,di="\\u2700-\\u27bf",yr="a-z\\xdf-\\xf6\\xf8-\\xff",vr="\\xac\\xb1\\xd7\\xf7",qr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pi="\\u2000-\\u206f",fi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eo="A-Z\\xc0-\\xd6\\xd8-\\xde",to="\\ufe0e\\ufe0f",no=vr+qr+pi+fi,br="['\u2019]",Vs="["+Kt+"]",mi="["+no+"]",Er="["+hr+"]",ro="\\d+",on="["+di+"]",Jt="["+yr+"]",In="[^"+Kt+no+ro+di+yr+eo+"]",qt="\\ud83c[\\udffb-\\udfff]",Hs="(?:"+Er+"|"+qt+")",oo="[^"+Kt+"]",Or="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",rt="["+eo+"]",Tr="\\u200d",io="(?:"+Jt+"|"+In+")",so="(?:"+rt+"|"+In+")",ao="(?:"+br+"(?:d|ll|m|re|s|t|ve))?",Sr="(?:"+br+"(?:D|LL|M|RE|S|T|VE))?",Ye=Hs+"?",Nt="["+to+"]?",uo="(?:"+Tr+"(?:"+[oo,Or,k].join("|")+")"+Nt+Ye+")*",gi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_i="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sn=Nt+Ye+uo,wr="(?:"+[on,Or,k].join("|")+")"+sn,Xs="(?:"+[oo+Er+"?",Er,Or,k,Vs].join("|")+")",Gs=RegExp(br,"g"),Zn=RegExp(Er,"g"),Ir=RegExp(qt+"(?="+qt+")|"+Xs+sn,"g"),hi=RegExp([rt+"?"+Jt+"+"+ao+"(?="+[mi,rt,"$"].join("|")+")",so+"+"+Sr+"(?="+[mi,rt+io,"$"].join("|")+")",rt+"?"+io+"+"+ao,rt+"+"+Sr,_i,gi,ro,wr].join("|"),"g"),yi=RegExp("["+Tr+Kt+hr+to+"]"),Ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bi=-1,Xe={};Xe[bn]=Xe[Wt]=Xe[pr]=Xe[fr]=Xe[En]=Xe[Yn]=Xe[On]=Xe[Kr]=Xe[Qr]=!0,Xe[pe]=Xe[fe]=Xe[$e]=Xe[De]=Xe[lt]=Xe[Ie]=Xe[Gt]=Xe[At]=Xe[ft]=Xe[vn]=Xe[ct]=Xe[Y]=Xe[ae]=Xe[he]=Xe[ke]=!1;var He={};He[pe]=He[fe]=He[$e]=He[lt]=He[De]=He[Ie]=He[bn]=He[Wt]=He[pr]=He[fr]=He[En]=He[ft]=He[vn]=He[ct]=He[Y]=He[ae]=He[he]=He[ue]=He[Yn]=He[On]=He[Kr]=He[Qr]=!0,He[Gt]=He[At]=He[ke]=!1;var Ei={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ks={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ti={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Si=parseFloat,wi=parseInt,co=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,Ii=typeof self=="object"&&self&&self.Object===Object&&self,ot=co||Ii||Function("return this")(),lo=n&&!n.nodeType&&n,jn=lo&&!0&&S&&!S.nodeType&&S,Pi=jn&&jn.exports===lo,po=Pi&&co.process,gt=function(){try{var V=jn&&jn.require&&jn.require("util").types;return V||po&&po.binding&&po.binding("util")}catch(Z){}}(),Ci=gt&&gt.isArrayBuffer,fo=gt&&gt.isDate,Pr=gt&&gt.isMap,Mi=gt&&gt.isRegExp,Ai=gt&&gt.isSet,Ri=gt&&gt.isTypedArray;function Tt(V,Z,Q){switch(Q.length){case 0:return V.call(Z);case 1:return V.call(Z,Q[0]);case 2:return V.call(Z,Q[0],Q[1]);case 3:return V.call(Z,Q[0],Q[1],Q[2])}return V.apply(Z,Q)}function Qs(V,Z,Q,ye){for(var Me=-1,je=V==null?0:V.length;++Me<je;){var it=V[Me];Z(ye,it,Q(it),V)}return ye}function Ft(V,Z){for(var Q=-1,ye=V==null?0:V.length;++Q<ye&&Z(V[Q],Q,V)!==!1;);return V}function $s(V,Z){for(var Q=V==null?0:V.length;Q--&&Z(V[Q],Q,V)!==!1;);return V}function Di(V,Z){for(var Q=-1,ye=V==null?0:V.length;++Q<ye;)if(!Z(V[Q],Q,V))return!1;return!0}function an(V,Z){for(var Q=-1,ye=V==null?0:V.length,Me=0,je=[];++Q<ye;){var it=V[Q];Z(it,Q,V)&&(je[Me++]=it)}return je}function Cr(V,Z){var Q=V==null?0:V.length;return!!Q&&Pn(V,Z,0)>-1}function mo(V,Z,Q){for(var ye=-1,Me=V==null?0:V.length;++ye<Me;)if(Q(Z,V[ye]))return!0;return!1}function Ke(V,Z){for(var Q=-1,ye=V==null?0:V.length,Me=Array(ye);++Q<ye;)Me[Q]=Z(V[Q],Q,V);return Me}function Je(V,Z){for(var Q=-1,ye=Z.length,Me=V.length;++Q<ye;)V[Me+Q]=Z[Q];return V}function _t(V,Z,Q,ye){var Me=-1,je=V==null?0:V.length;for(ye&&je&&(Q=V[++Me]);++Me<je;)Q=Z(Q,V[Me],Me,V);return Q}function Jn(V,Z,Q,ye){var Me=V==null?0:V.length;for(ye&&Me&&(Q=V[--Me]);Me--;)Q=Z(Q,V[Me],Me,V);return Q}function go(V,Z){for(var Q=-1,ye=V==null?0:V.length;++Q<ye;)if(Z(V[Q],Q,V))return!0;return!1}var Lt=Mr("length");function Ni(V){return V.split("")}function Fi(V){return V.match(Dt)||[]}function _o(V,Z,Q){var ye;return Q(V,function(Me,je,it){if(Z(Me,je,it))return ye=je,!1}),ye}function qn(V,Z,Q,ye){for(var Me=V.length,je=Q+(ye?1:-1);ye?je--:++je<Me;)if(Z(V[je],je,V))return je;return-1}function Pn(V,Z,Q){return Z===Z?ku(V,Z,Q):qn(V,ho,Q)}function Li(V,Z,Q,ye){for(var Me=Q-1,je=V.length;++Me<je;)if(ye(V[Me],Z))return Me;return-1}function ho(V){return V!==V}function yo(V,Z){var Q=V==null?0:V.length;return Q?bo(V,Z)/Q:ee}function Mr(V){return function(Z){return Z==null?i:Z[V]}}function Ar(V){return function(Z){return V==null?i:V[Z]}}function xn(V,Z,Q,ye,Me){return Me(V,function(je,it,Ge){Q=ye?(ye=!1,je):Z(Q,je,it,Ge)}),Q}function vo(V,Z){var Q=V.length;for(V.sort(Z);Q--;)V[Q]=V[Q].value;return V}function bo(V,Z){for(var Q,ye=-1,Me=V.length;++ye<Me;){var je=Z(V[ye]);je!==i&&(Q=Q===i?je:Q+je)}return Q}function Bn(V,Z){for(var Q=-1,ye=Array(V);++Q<V;)ye[Q]=Z(Q);return ye}function Ui(V,Z){return Ke(Z,function(Q){return[Q,V[Q]]})}function St(V){return function(Z){return V(Z)}}function M(V,Z){return Ke(Z,function(Q){return V[Q]})}function N(V,Z){return V.has(Z)}function j(V,Z){for(var Q=-1,ye=V.length;++Q<ye&&Pn(Z,V[Q],0)>-1;);return Q}function ne(V,Z){for(var Q=V.length;Q--&&Pn(Z,V[Q],0)>-1;);return Q}function me(V,Z){for(var Q=V.length,ye=0;Q--;)V[Q]===Z&&++ye;return ye}var ve=Ar(Ei),Oe=Ar(Ks);function Pe(V){return"\\"+Ti[V]}function qe(V,Z){return V==null?i:V[Z]}function nt(V){return yi.test(V)}function Qt(V){return Ws.test(V)}function er(V){for(var Z,Q=[];!(Z=V.next()).done;)Q.push(Z.value);return Q}function un(V){var Z=-1,Q=Array(V.size);return V.forEach(function(ye,Me){Q[++Z]=[Me,ye]}),Q}function ht(V,Z){return function(Q){return V(Z(Q))}}function yt(V,Z){for(var Q=-1,ye=V.length,Me=0,je=[];++Q<ye;){var it=V[Q];(it===Z||it===o)&&(V[Q]=o,je[Me++]=Q)}return je}function Vn(V){var Z=-1,Q=Array(V.size);return V.forEach(function(ye){Q[++Z]=ye}),Q}function Uu(V){var Z=-1,Q=Array(V.size);return V.forEach(function(ye){Q[++Z]=[ye,ye]}),Q}function ku(V,Z,Q){for(var ye=Q-1,Me=V.length;++ye<Me;)if(V[ye]===Z)return ye;return-1}function ju(V,Z,Q){for(var ye=Q+1;ye--;)if(V[ye]===Z)return ye;return ye}function tr(V){return nt(V)?Bu(V):Lt(V)}function $t(V){return nt(V)?Vu(V):Ni(V)}var xu=Ar(Oi);function Bu(V){for(var Z=Ir.lastIndex=0;Ir.test(V);)++Z;return Z}function Vu(V){return V.match(Ir)||[]}function Hu(V){return V.match(hi)||[]}var Xu=function V(Z){Z=Z==null?ot:Eo.defaults(ot.Object(),Z,Eo.pick(ot,vi));var Q=Z.Array,ye=Z.Date,Me=Z.Error,je=Z.Function,it=Z.Math,Ge=Z.Object,ki=Z.RegExp,Gu=Z.String,jt=Z.TypeError,Oo=Q.prototype,Wu=je.prototype,nr=Ge.prototype,To=Z["__core-js_shared__"],So=Wu.toString,We=nr.hasOwnProperty,Ku=0,Ys=function(){var e=/[^.]+$/.exec(To&&To.keys&&To.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wo=nr.toString,Qu=So.call(Ge),$u=ot._,Yu=ki("^"+So.call(We).replace(Ln,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=Pi?Z.Buffer:i,Cn=Z.Symbol,Po=Z.Uint8Array,zs=Io?Io.allocUnsafe:i,Co=ht(Ge.getPrototypeOf,Ge),Zs=Ge.create,Js=nr.propertyIsEnumerable,Mo=Oo.splice,qs=Cn?Cn.isConcatSpreadable:i,Rr=Cn?Cn.iterator:i,Hn=Cn?Cn.toStringTag:i,Ao=function(){try{var e=Kn(Ge,"defineProperty");return e({},"",{}),e}catch(t){}}(),zu=Z.clearTimeout!==ot.clearTimeout&&Z.clearTimeout,Zu=ye&&ye.now!==ot.Date.now&&ye.now,Ju=Z.setTimeout!==ot.setTimeout&&Z.setTimeout,Ro=it.ceil,Do=it.floor,ji=Ge.getOwnPropertySymbols,qu=Io?Io.isBuffer:i,ec=Z.isFinite,tc=Oo.join,nc=ht(Ge.keys,Ge),st=it.max,dt=it.min,rc=ye.now,oc=Z.parseInt,ea=it.random,ic=Oo.reverse,xi=Kn(Z,"DataView"),Dr=Kn(Z,"Map"),Bi=Kn(Z,"Promise"),rr=Kn(Z,"Set"),Nr=Kn(Z,"WeakMap"),Fr=Kn(Ge,"create"),No=Nr&&new Nr,Lr={},sc=Qn(xi),ac=Qn(Dr),uc=Qn(Bi),cc=Qn(rr),lc=Qn(Nr),Fo=Cn?Cn.prototype:i,Ur=Fo?Fo.valueOf:i,ta=Fo?Fo.toString:i;function C(e){if(ze(e)&&!Ae(e)&&!(e instanceof Ue)){if(e instanceof xt)return e;if(We.call(e,"__wrapped__"))return tu(e)}return new xt(e)}var or=function(){function e(){}return function(t){if(!Qe(t))return{};if(Zs)return Zs(t);e.prototype=t;var s=new e;return e.prototype=i,s}}();function Lo(){}function xt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}C.templateSettings={escape:Ls,evaluate:Us,interpolate:si,variable:"",imports:{_:C}},C.prototype=Lo.prototype,C.prototype.constructor=C,xt.prototype=or(Lo.prototype),xt.prototype.constructor=xt;function Ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function dc(){var e=new Ue(this.__wrapped__);return e.__actions__=wt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=wt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=wt(this.__views__),e}function pc(){if(this.__filtered__){var e=new Ue(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function fc(){var e=this.__wrapped__.value(),t=this.__dir__,s=Ae(e),d=t<0,O=s?e.length:0,A=Il(0,O,this.__views__),U=A.start,x=A.end,H=x-U,q=d?x:U-1,J=this.__iteratees__,se=J.length,_e=0,be=dt(H,this.__takeCount__);if(!s||!d&&O==H&&be==H)return wa(e,this.__actions__);var we=[];e:for(;H--&&_e<be;){q+=t;for(var Fe=-1,Se=e[q];++Fe<se;){var Le=J[Fe],Be=Le.iteratee,Et=Le.type,Ot=Be(Se);if(Et==B)Se=Ot;else if(!Ot){if(Et==F)continue e;break e}}we[_e++]=Se}return we}Ue.prototype=or(Lo.prototype),Ue.prototype.constructor=Ue;function Xn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var d=e[t];this.set(d[0],d[1])}}function mc(){this.__data__=Fr?Fr(null):{},this.size=0}function gc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _c(e){var t=this.__data__;if(Fr){var s=t[e];return s===h?i:s}return We.call(t,e)?t[e]:i}function hc(e){var t=this.__data__;return Fr?t[e]!==i:We.call(t,e)}function yc(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Fr&&t===i?h:t,this}Xn.prototype.clear=mc,Xn.prototype.delete=gc,Xn.prototype.get=_c,Xn.prototype.has=hc,Xn.prototype.set=yc;function cn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var d=e[t];this.set(d[0],d[1])}}function vc(){this.__data__=[],this.size=0}function bc(e){var t=this.__data__,s=Uo(t,e);if(s<0)return!1;var d=t.length-1;return s==d?t.pop():Mo.call(t,s,1),--this.size,!0}function Ec(e){var t=this.__data__,s=Uo(t,e);return s<0?i:t[s][1]}function Oc(e){return Uo(this.__data__,e)>-1}function Tc(e,t){var s=this.__data__,d=Uo(s,e);return d<0?(++this.size,s.push([e,t])):s[d][1]=t,this}cn.prototype.clear=vc,cn.prototype.delete=bc,cn.prototype.get=Ec,cn.prototype.has=Oc,cn.prototype.set=Tc;function ln(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var d=e[t];this.set(d[0],d[1])}}function Sc(){this.size=0,this.__data__={hash:new Xn,map:new(Dr||cn),string:new Xn}}function wc(e){var t=$o(this,e).delete(e);return this.size-=t?1:0,t}function Ic(e){return $o(this,e).get(e)}function Pc(e){return $o(this,e).has(e)}function Cc(e,t){var s=$o(this,e),d=s.size;return s.set(e,t),this.size+=s.size==d?0:1,this}ln.prototype.clear=Sc,ln.prototype.delete=wc,ln.prototype.get=Ic,ln.prototype.has=Pc,ln.prototype.set=Cc;function Gn(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new ln;++t<s;)this.add(e[t])}function Mc(e){return this.__data__.set(e,h),this}function Ac(e){return this.__data__.has(e)}Gn.prototype.add=Gn.prototype.push=Mc,Gn.prototype.has=Ac;function Yt(e){var t=this.__data__=new cn(e);this.size=t.size}function Rc(){this.__data__=new cn,this.size=0}function Dc(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Nc(e){return this.__data__.get(e)}function Fc(e){return this.__data__.has(e)}function Lc(e,t){var s=this.__data__;if(s instanceof cn){var d=s.__data__;if(!Dr||d.length<p-1)return d.push([e,t]),this.size=++s.size,this;s=this.__data__=new ln(d)}return s.set(e,t),this.size=s.size,this}Yt.prototype.clear=Rc,Yt.prototype.delete=Dc,Yt.prototype.get=Nc,Yt.prototype.has=Fc,Yt.prototype.set=Lc;function na(e,t){var s=Ae(e),d=!s&&$n(e),O=!s&&!d&&Nn(e),A=!s&&!d&&!O&&cr(e),U=s||d||O||A,x=U?Bn(e.length,Gu):[],H=x.length;for(var q in e)(t||We.call(e,q))&&!(U&&(q=="length"||O&&(q=="offset"||q=="parent")||A&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||mn(q,H)))&&x.push(q);return x}function ra(e){var t=e.length;return t?e[Zi(0,t-1)]:i}function Uc(e,t){return Yo(wt(e),Wn(t,0,e.length))}function kc(e){return Yo(wt(e))}function Vi(e,t,s){(s!==i&&!zt(e[t],s)||s===i&&!(t in e))&&dn(e,t,s)}function kr(e,t,s){var d=e[t];(!(We.call(e,t)&&zt(d,s))||s===i&&!(t in e))&&dn(e,t,s)}function Uo(e,t){for(var s=e.length;s--;)if(zt(e[s][0],t))return s;return-1}function jc(e,t,s,d){return Mn(e,function(O,A,U){t(d,O,s(O),U)}),d}function oa(e,t){return e&&tn(t,at(t),e)}function xc(e,t){return e&&tn(t,Pt(t),e)}function dn(e,t,s){t=="__proto__"&&Ao?Ao(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Hi(e,t){for(var s=-1,d=t.length,O=Q(d),A=e==null;++s<d;)O[s]=A?i:Os(e,t[s]);return O}function Wn(e,t,s){return e===e&&(s!==i&&(e=e<=s?e:s),t!==i&&(e=e>=t?e:t)),e}function Bt(e,t,s,d,O,A){var U,x=t&m,H=t&a,q=t&l;if(s&&(U=O?s(e,d,O,A):s(e)),U!==i)return U;if(!Qe(e))return e;var J=Ae(e);if(J){if(U=Cl(e),!x)return wt(e,U)}else{var se=pt(e),_e=se==At||se==yn;if(Nn(e))return Pa(e,x);if(se==ct||se==pe||_e&&!O){if(U=H||_e?{}:Ka(e),!x)return H?hl(e,xc(U,e)):_l(e,oa(U,e))}else{if(!He[se])return O?e:{};U=Ml(e,se,x)}}A||(A=new Yt);var be=A.get(e);if(be)return be;if(A.set(e,U),Eu(e))return e.forEach(function(Se){U.add(Bt(Se,t,s,Se,e,A))}),U;if(vu(e))return e.forEach(function(Se,Le){U.set(Le,Bt(Se,t,s,Le,e,A))}),U;var we=q?H?us:as:H?Pt:at,Fe=J?i:we(e);return Ft(Fe||e,function(Se,Le){Fe&&(Le=Se,Se=e[Le]),kr(U,Le,Bt(Se,t,s,Le,e,A))}),U}function Bc(e){var t=at(e);return function(s){return ia(s,e,t)}}function ia(e,t,s){var d=s.length;if(e==null)return!d;for(e=Ge(e);d--;){var O=s[d],A=t[O],U=e[O];if(U===i&&!(O in e)||!A(U))return!1}return!0}function sa(e,t,s){if(typeof e!="function")throw new jt(c);return Gr(function(){e.apply(i,s)},t)}function jr(e,t,s,d){var O=-1,A=Cr,U=!0,x=e.length,H=[],q=t.length;if(!x)return H;s&&(t=Ke(t,St(s))),d?(A=mo,U=!1):t.length>=p&&(A=N,U=!1,t=new Gn(t));e:for(;++O<x;){var J=e[O],se=s==null?J:s(J);if(J=d||J!==0?J:0,U&&se===se){for(var _e=q;_e--;)if(t[_e]===se)continue e;H.push(J)}else A(t,se,d)||H.push(J)}return H}var Mn=Da(en),aa=Da(Gi,!0);function Vc(e,t){var s=!0;return Mn(e,function(d,O,A){return s=!!t(d,O,A),s}),s}function ko(e,t,s){for(var d=-1,O=e.length;++d<O;){var A=e[d],U=t(A);if(U!=null&&(x===i?U===U&&!kt(U):s(U,x)))var x=U,H=A}return H}function Hc(e,t,s,d){var O=e.length;for(s=Re(s),s<0&&(s=-s>O?0:O+s),d=d===i||d>O?O:Re(d),d<0&&(d+=O),d=s>d?0:Tu(d);s<d;)e[s++]=t;return e}function ua(e,t){var s=[];return Mn(e,function(d,O,A){t(d,O,A)&&s.push(d)}),s}function ut(e,t,s,d,O){var A=-1,U=e.length;for(s||(s=Rl),O||(O=[]);++A<U;){var x=e[A];t>0&&s(x)?t>1?ut(x,t-1,s,d,O):Je(O,x):d||(O[O.length]=x)}return O}var Xi=Na(),ca=Na(!0);function en(e,t){return e&&Xi(e,t,at)}function Gi(e,t){return e&&ca(e,t,at)}function jo(e,t){return an(t,function(s){return gn(e[s])})}function ir(e,t){t=Rn(t,e);for(var s=0,d=t.length;e!=null&&s<d;)e=e[nn(t[s++])];return s&&s==d?e:i}function la(e,t,s){var d=t(e);return Ae(e)?d:Je(d,s(e))}function vt(e){return e==null?e===i?Ce:rn:Hn&&Hn in Ge(e)?wl(e):jl(e)}function Wi(e,t){return e>t}function Xc(e,t){return e!=null&&We.call(e,t)}function Gc(e,t){return e!=null&&t in Ge(e)}function Wc(e,t,s){return e>=dt(t,s)&&e<st(t,s)}function Ki(e,t,s){for(var d=s?mo:Cr,O=e[0].length,A=e.length,U=A,x=Q(A),H=1/0,q=[];U--;){var J=e[U];U&&t&&(J=Ke(J,St(t))),H=dt(J.length,H),x[U]=!s&&(t||O>=120&&J.length>=120)?new Gn(U&&J):i}J=e[0];var se=-1,_e=x[0];e:for(;++se<O&&q.length<H;){var be=J[se],we=t?t(be):be;if(be=s||be!==0?be:0,!(_e?N(_e,we):d(q,we,s))){for(U=A;--U;){var Fe=x[U];if(!(Fe?N(Fe,we):d(e[U],we,s)))continue e}_e&&_e.push(we),q.push(be)}}return q}function Kc(e,t,s,d){return en(e,function(O,A,U){t(d,s(O),A,U)}),d}function xr(e,t,s){t=Rn(t,e),e=za(e,t);var d=e==null?e:e[nn(Ht(t))];return d==null?i:Tt(d,e,s)}function da(e){return ze(e)&&vt(e)==pe}function Qc(e){return ze(e)&&vt(e)==$e}function $c(e){return ze(e)&&vt(e)==Ie}function Br(e,t,s,d,O){return e===t?!0:e==null||t==null||!ze(e)&&!ze(t)?e!==e&&t!==t:Yc(e,t,s,d,Br,O)}function Yc(e,t,s,d,O,A){var U=Ae(e),x=Ae(t),H=U?fe:pt(e),q=x?fe:pt(t);H=H==pe?ct:H,q=q==pe?ct:q;var J=H==ct,se=q==ct,_e=H==q;if(_e&&Nn(e)){if(!Nn(t))return!1;U=!0,J=!1}if(_e&&!J)return A||(A=new Yt),U||cr(e)?Xa(e,t,s,d,O,A):Tl(e,t,H,s,d,O,A);if(!(s&v)){var be=J&&We.call(e,"__wrapped__"),we=se&&We.call(t,"__wrapped__");if(be||we){var Fe=be?e.value():e,Se=we?t.value():t;return A||(A=new Yt),O(Fe,Se,s,d,A)}}return _e?(A||(A=new Yt),Sl(e,t,s,d,O,A)):!1}function zc(e){return ze(e)&&pt(e)==ft}function Qi(e,t,s,d){var O=s.length,A=O,U=!d;if(e==null)return!A;for(e=Ge(e);O--;){var x=s[O];if(U&&x[2]?x[1]!==e[x[0]]:!(x[0]in e))return!1}for(;++O<A;){x=s[O];var H=x[0],q=e[H],J=x[1];if(U&&x[2]){if(q===i&&!(H in e))return!1}else{var se=new Yt;if(d)var _e=d(q,J,H,e,t,se);if(!(_e===i?Br(J,q,v|g,d,se):_e))return!1}}return!0}function pa(e){if(!Qe(e)||Nl(e))return!1;var t=gn(e)?Yu:xs;return t.test(Qn(e))}function Zc(e){return ze(e)&&vt(e)==Y}function Jc(e){return ze(e)&&pt(e)==ae}function qc(e){return ze(e)&&ti(e.length)&&!!Xe[vt(e)]}function fa(e){return typeof e=="function"?e:e==null?Ct:typeof e=="object"?Ae(e)?_a(e[0],e[1]):ga(e):Fu(e)}function $i(e){if(!Xr(e))return nc(e);var t=[];for(var s in Ge(e))We.call(e,s)&&s!="constructor"&&t.push(s);return t}function el(e){if(!Qe(e))return kl(e);var t=Xr(e),s=[];for(var d in e)d=="constructor"&&(t||!We.call(e,d))||s.push(d);return s}function Yi(e,t){return e<t}function ma(e,t){var s=-1,d=It(e)?Q(e.length):[];return Mn(e,function(O,A,U){d[++s]=t(O,A,U)}),d}function ga(e){var t=ls(e);return t.length==1&&t[0][2]?$a(t[0][0],t[0][1]):function(s){return s===e||Qi(s,e,t)}}function _a(e,t){return ps(e)&&Qa(t)?$a(nn(e),t):function(s){var d=Os(s,e);return d===i&&d===t?Ts(s,e):Br(t,d,v|g)}}function xo(e,t,s,d,O){e!==t&&Xi(t,function(A,U){if(Qe(A))O||(O=new Yt),tl(e,t,U,s,xo,d,O);else{var x=d?d(ms(e,U),A,U+"",e,t,O):i;x===i&&(x=A),Vi(e,U,x)}},Pt)}function tl(e,t,s,d,O,A,U){var x=ms(e,s),H=ms(t,s),q=U.get(H);if(q){Vi(e,s,q);return}var J=A?A(x,H,s+"",e,t,U):i,se=J===i;if(se){var _e=Ae(H),be=!_e&&Nn(H),we=!_e&&!be&&cr(H);J=H,_e||be||we?Ae(x)?J=x:et(x)?J=wt(x):be?(se=!1,J=Pa(H,!0)):we?(se=!1,J=Ca(H,!0)):J=[]:Wr(H)||$n(H)?(J=x,$n(x)?J=Su(x):(!Qe(x)||gn(x))&&(J=Ka(H))):se=!1}se&&(U.set(H,J),O(J,H,d,A,U),U.delete(H)),Vi(e,s,J)}function ha(e,t){var s=e.length;if(!!s)return t+=t<0?s:0,mn(t,s)?e[t]:i}function ya(e,t,s){var d=-1;t=Ke(t.length?t:[Ct],St(Te()));var O=ma(e,function(A,U,x){var H=Ke(t,function(q){return q(A)});return{criteria:H,index:++d,value:A}});return vo(O,function(A,U){return gl(A,U,s)})}function nl(e,t){return va(e,t,function(s,d){return Ts(e,d)})}function va(e,t,s){for(var d=-1,O=t.length,A={};++d<O;){var U=t[d],x=ir(e,U);s(x,U)&&Vr(A,Rn(U,e),x)}return A}function rl(e){return function(t){return ir(t,e)}}function zi(e,t,s,d){var O=d?Li:Pn,A=-1,U=t.length,x=e;for(e===t&&(t=wt(t)),s&&(x=Ke(e,St(s)));++A<U;)for(var H=0,q=t[A],J=s?s(q):q;(H=O(x,J,H,d))>-1;)x!==e&&Mo.call(x,H,1),Mo.call(e,H,1);return e}function ba(e,t){for(var s=e?t.length:0,d=s-1;s--;){var O=t[s];if(s==d||O!==A){var A=O;mn(O)?Mo.call(e,O,1):es(e,O)}}return e}function Zi(e,t){return e+Do(ea()*(t-e+1))}function ol(e,t,s,d){for(var O=-1,A=st(Ro((t-e)/(s||1)),0),U=Q(A);A--;)U[d?A:++O]=e,e+=s;return U}function Ji(e,t){var s="";if(!e||t<1||t>te)return s;do t%2&&(s+=e),t=Do(t/2),t&&(e+=e);while(t);return s}function Ne(e,t){return gs(Ya(e,t,Ct),e+"")}function il(e){return ra(lr(e))}function sl(e,t){var s=lr(e);return Yo(s,Wn(t,0,s.length))}function Vr(e,t,s,d){if(!Qe(e))return e;t=Rn(t,e);for(var O=-1,A=t.length,U=A-1,x=e;x!=null&&++O<A;){var H=nn(t[O]),q=s;if(O!=U){var J=x[H];q=d?d(J,H,x):i,q===i&&(q=Qe(J)?J:mn(t[O+1])?[]:{})}kr(x,H,q),x=x[H]}return e}var Ea=No?function(e,t){return No.set(e,t),e}:Ct,al=Ao?function(e,t){return Ao(e,"toString",{configurable:!0,enumerable:!1,value:ws(t),writable:!0})}:Ct;function ul(e){return Yo(lr(e))}function Vt(e,t,s){var d=-1,O=e.length;t<0&&(t=-t>O?0:O+t),s=s>O?O:s,s<0&&(s+=O),O=t>s?0:s-t>>>0,t>>>=0;for(var A=Q(O);++d<O;)A[d]=e[d+t];return A}function cl(e,t){var s;return Mn(e,function(d,O,A){return s=t(d,O,A),!s}),!!s}function Bo(e,t,s){var d=0,O=e==null?d:e.length;if(typeof t=="number"&&t===t&&O<=G){for(;d<O;){var A=d+O>>>1,U=e[A];U!==null&&!kt(U)&&(s?U<=t:U<t)?d=A+1:O=A}return O}return qi(e,t,Ct,s)}function qi(e,t,s,d){t=s(t);for(var O=0,A=e==null?0:e.length,U=t!==t,x=t===null,H=kt(t),q=t===i;O<A;){var J=Do((O+A)/2),se=s(e[J]),_e=se!==i,be=se===null,we=se===se,Fe=kt(se);if(U)var Se=d||we;else q?Se=we&&(d||_e):x?Se=we&&_e&&(d||!be):H?Se=we&&_e&&!be&&(d||!Fe):be||Fe?Se=!1:Se=d?se<=t:se<t;Se?O=J+1:A=J}return dt(A,z)}function Oa(e,t){for(var s=-1,d=e.length,O=0,A=[];++s<d;){var U=e[s],x=t?t(U):U;if(!s||!zt(x,H)){var H=x;A[O++]=U===0?0:U}}return A}function Ta(e){return typeof e=="number"?e:kt(e)?ee:+e}function Ut(e){if(typeof e=="string")return e;if(Ae(e))return Ke(e,Ut)+"";if(kt(e))return ta?ta.call(e):"";var t=e+"";return t=="0"&&1/e==-ce?"-0":t}function An(e,t,s){var d=-1,O=Cr,A=e.length,U=!0,x=[],H=x;if(s)U=!1,O=mo;else if(A>=p){var q=t?null:El(e);if(q)return Vn(q);U=!1,O=N,H=new Gn}else H=t?[]:x;e:for(;++d<A;){var J=e[d],se=t?t(J):J;if(J=s||J!==0?J:0,U&&se===se){for(var _e=H.length;_e--;)if(H[_e]===se)continue e;t&&H.push(se),x.push(J)}else O(H,se,s)||(H!==x&&H.push(se),x.push(J))}return x}function es(e,t){return t=Rn(t,e),e=za(e,t),e==null||delete e[nn(Ht(t))]}function Sa(e,t,s,d){return Vr(e,t,s(ir(e,t)),d)}function Vo(e,t,s,d){for(var O=e.length,A=d?O:-1;(d?A--:++A<O)&&t(e[A],A,e););return s?Vt(e,d?0:A,d?A+1:O):Vt(e,d?A+1:0,d?O:A)}function wa(e,t){var s=e;return s instanceof Ue&&(s=s.value()),_t(t,function(d,O){return O.func.apply(O.thisArg,Je([d],O.args))},s)}function ts(e,t,s){var d=e.length;if(d<2)return d?An(e[0]):[];for(var O=-1,A=Q(d);++O<d;)for(var U=e[O],x=-1;++x<d;)x!=O&&(A[O]=jr(A[O]||U,e[x],t,s));return An(ut(A,1),t,s)}function Ia(e,t,s){for(var d=-1,O=e.length,A=t.length,U={};++d<O;){var x=d<A?t[d]:i;s(U,e[d],x)}return U}function ns(e){return et(e)?e:[]}function rs(e){return typeof e=="function"?e:Ct}function Rn(e,t){return Ae(e)?e:ps(e,t)?[e]:eu(xe(e))}var ll=Ne;function Dn(e,t,s){var d=e.length;return s=s===i?d:s,!t&&s>=d?e:Vt(e,t,s)}var dl=zu||function(e){return ot.clearTimeout(e)};function Pa(e,t){if(t)return e.slice();var s=e.length,d=zs?zs(s):new e.constructor(s);return e.copy(d),d}function os(e){var t=new e.constructor(e.byteLength);return new Po(t).set(new Po(e)),t}function pl(e,t){var s=t?os(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function fl(e){var t=new e.constructor(e.source,zn.exec(e));return t.lastIndex=e.lastIndex,t}function ml(e){return Ur?Ge(Ur.call(e)):{}}function Ca(e,t){var s=t?os(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function Ma(e,t){if(e!==t){var s=e!==i,d=e===null,O=e===e,A=kt(e),U=t!==i,x=t===null,H=t===t,q=kt(t);if(!x&&!q&&!A&&e>t||A&&U&&H&&!x&&!q||d&&U&&H||!s&&H||!O)return 1;if(!d&&!A&&!q&&e<t||q&&s&&O&&!d&&!A||x&&s&&O||!U&&O||!H)return-1}return 0}function gl(e,t,s){for(var d=-1,O=e.criteria,A=t.criteria,U=O.length,x=s.length;++d<U;){var H=Ma(O[d],A[d]);if(H){if(d>=x)return H;var q=s[d];return H*(q=="desc"?-1:1)}}return e.index-t.index}function Aa(e,t,s,d){for(var O=-1,A=e.length,U=s.length,x=-1,H=t.length,q=st(A-U,0),J=Q(H+q),se=!d;++x<H;)J[x]=t[x];for(;++O<U;)(se||O<A)&&(J[s[O]]=e[O]);for(;q--;)J[x++]=e[O++];return J}function Ra(e,t,s,d){for(var O=-1,A=e.length,U=-1,x=s.length,H=-1,q=t.length,J=st(A-x,0),se=Q(J+q),_e=!d;++O<J;)se[O]=e[O];for(var be=O;++H<q;)se[be+H]=t[H];for(;++U<x;)(_e||O<A)&&(se[be+s[U]]=e[O++]);return se}function wt(e,t){var s=-1,d=e.length;for(t||(t=Q(d));++s<d;)t[s]=e[s];return t}function tn(e,t,s,d){var O=!s;s||(s={});for(var A=-1,U=t.length;++A<U;){var x=t[A],H=d?d(s[x],e[x],x,s,e):i;H===i&&(H=e[x]),O?dn(s,x,H):kr(s,x,H)}return s}function _l(e,t){return tn(e,ds(e),t)}function hl(e,t){return tn(e,Ga(e),t)}function Ho(e,t){return function(s,d){var O=Ae(s)?Qs:jc,A=t?t():{};return O(s,e,Te(d,2),A)}}function sr(e){return Ne(function(t,s){var d=-1,O=s.length,A=O>1?s[O-1]:i,U=O>2?s[2]:i;for(A=e.length>3&&typeof A=="function"?(O--,A):i,U&&bt(s[0],s[1],U)&&(A=O<3?i:A,O=1),t=Ge(t);++d<O;){var x=s[d];x&&e(t,x,d,A)}return t})}function Da(e,t){return function(s,d){if(s==null)return s;if(!It(s))return e(s,d);for(var O=s.length,A=t?O:-1,U=Ge(s);(t?A--:++A<O)&&d(U[A],A,U)!==!1;);return s}}function Na(e){return function(t,s,d){for(var O=-1,A=Ge(t),U=d(t),x=U.length;x--;){var H=U[e?x:++O];if(s(A[H],H,A)===!1)break}return t}}function yl(e,t,s){var d=t&I,O=Hr(e);function A(){var U=this&&this!==ot&&this instanceof A?O:e;return U.apply(d?s:this,arguments)}return A}function Fa(e){return function(t){t=xe(t);var s=nt(t)?$t(t):i,d=s?s[0]:t.charAt(0),O=s?Dn(s,1).join(""):t.slice(1);return d[e]()+O}}function ar(e){return function(t){return _t(Du(Ru(t).replace(Gs,"")),e,"")}}function Hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=or(e.prototype),d=e.apply(s,t);return Qe(d)?d:s}}function vl(e,t,s){var d=Hr(e);function O(){for(var A=arguments.length,U=Q(A),x=A,H=ur(O);x--;)U[x]=arguments[x];var q=A<3&&U[0]!==H&&U[A-1]!==H?[]:yt(U,H);if(A-=q.length,A<s)return xa(e,t,Xo,O.placeholder,i,U,q,i,i,s-A);var J=this&&this!==ot&&this instanceof O?d:e;return Tt(J,this,U)}return O}function La(e){return function(t,s,d){var O=Ge(t);if(!It(t)){var A=Te(s,3);t=at(t),s=function(x){return A(O[x],x,O)}}var U=e(t,s,d);return U>-1?O[A?t[U]:U]:i}}function Ua(e){return fn(function(t){var s=t.length,d=s,O=xt.prototype.thru;for(e&&t.reverse();d--;){var A=t[d];if(typeof A!="function")throw new jt(c);if(O&&!U&&Qo(A)=="wrapper")var U=new xt([],!0)}for(d=U?d:s;++d<s;){A=t[d];var x=Qo(A),H=x=="wrapper"?cs(A):i;H&&fs(H[0])&&H[1]==(D|E|b|L)&&!H[4].length&&H[9]==1?U=U[Qo(H[0])].apply(U,H[3]):U=A.length==1&&fs(A)?U[x]():U.thru(A)}return function(){var q=arguments,J=q[0];if(U&&q.length==1&&Ae(J))return U.plant(J).value();for(var se=0,_e=s?t[se].apply(this,q):J;++se<s;)_e=t[se].call(this,_e);return _e}})}function Xo(e,t,s,d,O,A,U,x,H,q){var J=t&D,se=t&I,_e=t&P,be=t&(E|T),we=t&$,Fe=_e?i:Hr(e);function Se(){for(var Le=arguments.length,Be=Q(Le),Et=Le;Et--;)Be[Et]=arguments[Et];if(be)var Ot=ur(Se),Fn=me(Be,Ot);if(d&&(Be=Aa(Be,d,O,be)),A&&(Be=Ra(Be,A,U,be)),Le-=Fn,be&&Le<q){var tt=yt(Be,Ot);return xa(e,t,Xo,Se.placeholder,s,Be,tt,x,H,q-Le)}var Zt=se?s:this,hn=_e?Zt[e]:e;return Le=Be.length,x?Be=xl(Be,x):we&&Le>1&&Be.reverse(),J&&H<Le&&(Be.length=H),this&&this!==ot&&this instanceof Se&&(hn=Fe||Hr(hn)),hn.apply(Zt,Be)}return Se}function ka(e,t){return function(s,d){return Kc(s,e,t(d),{})}}function Go(e,t){return function(s,d){var O;if(s===i&&d===i)return t;if(s!==i&&(O=s),d!==i){if(O===i)return d;typeof s=="string"||typeof d=="string"?(s=Ut(s),d=Ut(d)):(s=Ta(s),d=Ta(d)),O=e(s,d)}return O}}function is(e){return fn(function(t){return t=Ke(t,St(Te())),Ne(function(s){var d=this;return e(t,function(O){return Tt(O,d,s)})})})}function Wo(e,t){t=t===i?" ":Ut(t);var s=t.length;if(s<2)return s?Ji(t,e):t;var d=Ji(t,Ro(e/tr(t)));return nt(t)?Dn($t(d),0,e).join(""):d.slice(0,e)}function bl(e,t,s,d){var O=t&I,A=Hr(e);function U(){for(var x=-1,H=arguments.length,q=-1,J=d.length,se=Q(J+H),_e=this&&this!==ot&&this instanceof U?A:e;++q<J;)se[q]=d[q];for(;H--;)se[q++]=arguments[++x];return Tt(_e,O?s:this,se)}return U}function ja(e){return function(t,s,d){return d&&typeof d!="number"&&bt(t,s,d)&&(s=d=i),t=_n(t),s===i?(s=t,t=0):s=_n(s),d=d===i?t<s?1:-1:_n(d),ol(t,s,d,e)}}function Ko(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=Xt(t),s=Xt(s)),e(t,s)}}function xa(e,t,s,d,O,A,U,x,H,q){var J=t&E,se=J?U:i,_e=J?i:U,be=J?A:i,we=J?i:A;t|=J?b:w,t&=~(J?w:b),t&R||(t&=~(I|P));var Fe=[e,t,O,be,se,we,_e,x,H,q],Se=s.apply(i,Fe);return fs(e)&&Za(Se,Fe),Se.placeholder=d,Ja(Se,e,t)}function ss(e){var t=it[e];return function(s,d){if(s=Xt(s),d=d==null?0:dt(Re(d),292),d){var O=(xe(s)+"e").split("e"),A=t(O[0]+"e"+(+O[1]+d));return O=(xe(A)+"e").split("e"),+(O[0]+"e"+(+O[1]-d))}return t(s)}}var El=rr&&1/Vn(new rr([,-0]))[1]==ce?function(e){return new rr(e)}:Cs;function Ba(e){return function(t){var s=pt(t);return s==ft?un(t):s==ae?Uu(t):Ui(t,e(t))}}function pn(e,t,s,d,O,A,U,x){var H=t&P;if(!H&&typeof e!="function")throw new jt(c);var q=d?d.length:0;if(q||(t&=~(b|w),d=O=i),U=U===i?U:st(Re(U),0),x=x===i?x:Re(x),q-=O?O.length:0,t&w){var J=d,se=O;d=O=i}var _e=H?i:cs(e),be=[e,t,s,d,O,J,se,A,U,x];if(_e&&Ul(be,_e),e=be[0],t=be[1],s=be[2],d=be[3],O=be[4],x=be[9]=be[9]===i?H?0:e.length:st(be[9]-q,0),!x&&t&(E|T)&&(t&=~(E|T)),!t||t==I)var we=yl(e,t,s);else t==E||t==T?we=vl(e,t,x):(t==b||t==(I|b))&&!O.length?we=bl(e,t,s,d):we=Xo.apply(i,be);var Fe=_e?Ea:Za;return Ja(Fe(we,be),e,t)}function Va(e,t,s,d){return e===i||zt(e,nr[s])&&!We.call(d,s)?t:e}function Ha(e,t,s,d,O,A){return Qe(e)&&Qe(t)&&(A.set(t,e),xo(e,t,i,Ha,A),A.delete(t)),e}function Ol(e){return Wr(e)?i:e}function Xa(e,t,s,d,O,A){var U=s&v,x=e.length,H=t.length;if(x!=H&&!(U&&H>x))return!1;var q=A.get(e);if(q&&A.get(t))return q==t;var J=-1,se=!0,_e=s&g?new Gn:i;for(A.set(e,t),A.set(t,e);++J<x;){var be=e[J],we=t[J];if(d)var Fe=U?d(we,be,J,t,e,A):d(be,we,J,e,t,A);if(Fe!==i){if(Fe)continue;se=!1;break}if(_e){if(!go(t,function(Se,Le){if(!N(_e,Le)&&(be===Se||O(be,Se,s,d,A)))return _e.push(Le)})){se=!1;break}}else if(!(be===we||O(be,we,s,d,A))){se=!1;break}}return A.delete(e),A.delete(t),se}function Tl(e,t,s,d,O,A,U){switch(s){case lt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $e:return!(e.byteLength!=t.byteLength||!A(new Po(e),new Po(t)));case De:case Ie:case vn:return zt(+e,+t);case Gt:return e.name==t.name&&e.message==t.message;case Y:case he:return e==t+"";case ft:var x=un;case ae:var H=d&v;if(x||(x=Vn),e.size!=t.size&&!H)return!1;var q=U.get(e);if(q)return q==t;d|=g,U.set(e,t);var J=Xa(x(e),x(t),d,O,A,U);return U.delete(e),J;case ue:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}function Sl(e,t,s,d,O,A){var U=s&v,x=as(e),H=x.length,q=as(t),J=q.length;if(H!=J&&!U)return!1;for(var se=H;se--;){var _e=x[se];if(!(U?_e in t:We.call(t,_e)))return!1}var be=A.get(e);if(be&&A.get(t))return be==t;var we=!0;A.set(e,t),A.set(t,e);for(var Fe=U;++se<H;){_e=x[se];var Se=e[_e],Le=t[_e];if(d)var Be=U?d(Le,Se,_e,t,e,A):d(Se,Le,_e,e,t,A);if(!(Be===i?Se===Le||O(Se,Le,s,d,A):Be)){we=!1;break}Fe||(Fe=_e=="constructor")}if(we&&!Fe){var Et=e.constructor,Ot=t.constructor;Et!=Ot&&"constructor"in e&&"constructor"in t&&!(typeof Et=="function"&&Et instanceof Et&&typeof Ot=="function"&&Ot instanceof Ot)&&(we=!1)}return A.delete(e),A.delete(t),we}function fn(e){return gs(Ya(e,i,ou),e+"")}function as(e){return la(e,at,ds)}function us(e){return la(e,Pt,Ga)}var cs=No?function(e){return No.get(e)}:Cs;function Qo(e){for(var t=e.name+"",s=Lr[t],d=We.call(Lr,t)?s.length:0;d--;){var O=s[d],A=O.func;if(A==null||A==e)return O.name}return t}function ur(e){var t=We.call(C,"placeholder")?C:e;return t.placeholder}function Te(){var e=C.iteratee||Is;return e=e===Is?fa:e,arguments.length?e(arguments[0],arguments[1]):e}function $o(e,t){var s=e.__data__;return Dl(t)?s[typeof t=="string"?"string":"hash"]:s.map}function ls(e){for(var t=at(e),s=t.length;s--;){var d=t[s],O=e[d];t[s]=[d,O,Qa(O)]}return t}function Kn(e,t){var s=qe(e,t);return pa(s)?s:i}function wl(e){var t=We.call(e,Hn),s=e[Hn];try{e[Hn]=i;var d=!0}catch(A){}var O=wo.call(e);return d&&(t?e[Hn]=s:delete e[Hn]),O}var ds=ji?function(e){return e==null?[]:(e=Ge(e),an(ji(e),function(t){return Js.call(e,t)}))}:Ms,Ga=ji?function(e){for(var t=[];e;)Je(t,ds(e)),e=Co(e);return t}:Ms,pt=vt;(xi&&pt(new xi(new ArrayBuffer(1)))!=lt||Dr&&pt(new Dr)!=ft||Bi&&pt(Bi.resolve())!=dr||rr&&pt(new rr)!=ae||Nr&&pt(new Nr)!=ke)&&(pt=function(e){var t=vt(e),s=t==ct?e.constructor:i,d=s?Qn(s):"";if(d)switch(d){case sc:return lt;case ac:return ft;case uc:return dr;case cc:return ae;case lc:return ke}return t});function Il(e,t,s){for(var d=-1,O=s.length;++d<O;){var A=s[d],U=A.size;switch(A.type){case"drop":e+=U;break;case"dropRight":t-=U;break;case"take":t=dt(t,e+U);break;case"takeRight":e=st(e,t-U);break}}return{start:e,end:t}}function Pl(e){var t=e.match(Tn);return t?t[1].split(Yr):[]}function Wa(e,t,s){t=Rn(t,e);for(var d=-1,O=t.length,A=!1;++d<O;){var U=nn(t[d]);if(!(A=e!=null&&s(e,U)))break;e=e[U]}return A||++d!=O?A:(O=e==null?0:e.length,!!O&&ti(O)&&mn(U,O)&&(Ae(e)||$n(e)))}function Cl(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&We.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Ka(e){return typeof e.constructor=="function"&&!Xr(e)?or(Co(e)):{}}function Ml(e,t,s){var d=e.constructor;switch(t){case $e:return os(e);case De:case Ie:return new d(+e);case lt:return pl(e,s);case bn:case Wt:case pr:case fr:case En:case Yn:case On:case Kr:case Qr:return Ca(e,s);case ft:return new d;case vn:case he:return new d(e);case Y:return fl(e);case ae:return new d;case ue:return ml(e)}}function Al(e,t){var s=t.length;if(!s)return e;var d=s-1;return t[d]=(s>1?"& ":"")+t[d],t=t.join(s>2?", ":" "),e.replace(Rt,`{
/* [wrapped with `+t+`] */
`)}function Rl(e){return Ae(e)||$n(e)||!!(qs&&e&&e[qs])}function mn(e,t){var s=typeof e;return t=t==null?te:t,!!t&&(s=="number"||s!="symbol"&&gr.test(e))&&e>-1&&e%1==0&&e<t}function bt(e,t,s){if(!Qe(s))return!1;var d=typeof t;return(d=="number"?It(s)&&mn(t,s.length):d=="string"&&t in s)?zt(s[t],e):!1}function ps(e,t){if(Ae(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||kt(e)?!0:ui.test(e)||!ai.test(e)||t!=null&&e in Ge(t)}function Dl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fs(e){var t=Qo(e),s=C[t];if(typeof s!="function"||!(t in Ue.prototype))return!1;if(e===s)return!0;var d=cs(s);return!!d&&e===d[0]}function Nl(e){return!!Ys&&Ys in e}var Fl=To?gn:As;function Xr(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||nr;return e===s}function Qa(e){return e===e&&!Qe(e)}function $a(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==i||e in Ge(s))}}function Ll(e){var t=qo(e,function(d){return s.size===y&&s.clear(),d}),s=t.cache;return t}function Ul(e,t){var s=e[1],d=t[1],O=s|d,A=O<(I|P|D),U=d==D&&s==E||d==D&&s==L&&e[7].length<=t[8]||d==(D|L)&&t[7].length<=t[8]&&s==E;if(!(A||U))return e;d&I&&(e[2]=t[2],O|=s&I?0:R);var x=t[3];if(x){var H=e[3];e[3]=H?Aa(H,x,t[4]):x,e[4]=H?yt(e[3],o):t[4]}return x=t[5],x&&(H=e[5],e[5]=H?Ra(H,x,t[6]):x,e[6]=H?yt(e[5],o):t[6]),x=t[7],x&&(e[7]=x),d&D&&(e[8]=e[8]==null?t[8]:dt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=O,e}function kl(e){var t=[];if(e!=null)for(var s in Ge(e))t.push(s);return t}function jl(e){return wo.call(e)}function Ya(e,t,s){return t=st(t===i?e.length-1:t,0),function(){for(var d=arguments,O=-1,A=st(d.length-t,0),U=Q(A);++O<A;)U[O]=d[t+O];O=-1;for(var x=Q(t+1);++O<t;)x[O]=d[O];return x[t]=s(U),Tt(e,this,x)}}function za(e,t){return t.length<2?e:ir(e,Vt(t,0,-1))}function xl(e,t){for(var s=e.length,d=dt(t.length,s),O=wt(e);d--;){var A=t[d];e[d]=mn(A,s)?O[A]:i}return e}function ms(e,t){if(t!="__proto__")return e[t]}var Za=qa(Ea),Gr=Ju||function(e,t){return ot.setTimeout(e,t)},gs=qa(al);function Ja(e,t,s){var d=t+"";return gs(e,Al(d,Bl(Pl(d),s)))}function qa(e){var t=0,s=0;return function(){var d=rc(),O=X-(d-s);if(s=d,O>0){if(++t>=oe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Yo(e,t){var s=-1,d=e.length,O=d-1;for(t=t===i?d:t;++s<t;){var A=Zi(s,O),U=e[A];e[A]=e[s],e[s]=U}return e.length=t,e}var eu=Ll(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ks,function(s,d,O,A){t.push(O?A.replace(kn,"$1"):d||s)}),t});function nn(e){if(typeof e=="string"||kt(e))return e;var t=e+"";return t=="0"&&1/e==-ce?"-0":t}function Qn(e){if(e!=null){try{return So.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bl(e,t){return Ft(ge,function(s){var d="_."+s[0];t&s[1]&&!Cr(e,d)&&e.push(d)}),e.sort()}function tu(e){if(e instanceof Ue)return e.clone();var t=new xt(e.__wrapped__,e.__chain__);return t.__actions__=wt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Vl(e,t,s){(s?bt(e,t,s):t===i)?t=1:t=st(Re(t),0);var d=e==null?0:e.length;if(!d||t<1)return[];for(var O=0,A=0,U=Q(Ro(d/t));O<d;)U[A++]=Vt(e,O,O+=t);return U}function Hl(e){for(var t=-1,s=e==null?0:e.length,d=0,O=[];++t<s;){var A=e[t];A&&(O[d++]=A)}return O}function Xl(){var e=arguments.length;if(!e)return[];for(var t=Q(e-1),s=arguments[0],d=e;d--;)t[d-1]=arguments[d];return Je(Ae(s)?wt(s):[s],ut(t,1))}var Gl=Ne(function(e,t){return et(e)?jr(e,ut(t,1,et,!0)):[]}),Wl=Ne(function(e,t){var s=Ht(t);return et(s)&&(s=i),et(e)?jr(e,ut(t,1,et,!0),Te(s,2)):[]}),Kl=Ne(function(e,t){var s=Ht(t);return et(s)&&(s=i),et(e)?jr(e,ut(t,1,et,!0),i,s):[]});function Ql(e,t,s){var d=e==null?0:e.length;return d?(t=s||t===i?1:Re(t),Vt(e,t<0?0:t,d)):[]}function $l(e,t,s){var d=e==null?0:e.length;return d?(t=s||t===i?1:Re(t),t=d-t,Vt(e,0,t<0?0:t)):[]}function Yl(e,t){return e&&e.length?Vo(e,Te(t,3),!0,!0):[]}function zl(e,t){return e&&e.length?Vo(e,Te(t,3),!0):[]}function Zl(e,t,s,d){var O=e==null?0:e.length;return O?(s&&typeof s!="number"&&bt(e,t,s)&&(s=0,d=O),Hc(e,t,s,d)):[]}function nu(e,t,s){var d=e==null?0:e.length;if(!d)return-1;var O=s==null?0:Re(s);return O<0&&(O=st(d+O,0)),qn(e,Te(t,3),O)}function ru(e,t,s){var d=e==null?0:e.length;if(!d)return-1;var O=d-1;return s!==i&&(O=Re(s),O=s<0?st(d+O,0):dt(O,d-1)),qn(e,Te(t,3),O,!0)}function ou(e){var t=e==null?0:e.length;return t?ut(e,1):[]}function Jl(e){var t=e==null?0:e.length;return t?ut(e,ce):[]}function ql(e,t){var s=e==null?0:e.length;return s?(t=t===i?1:Re(t),ut(e,t)):[]}function ed(e){for(var t=-1,s=e==null?0:e.length,d={};++t<s;){var O=e[t];d[O[0]]=O[1]}return d}function iu(e){return e&&e.length?e[0]:i}function td(e,t,s){var d=e==null?0:e.length;if(!d)return-1;var O=s==null?0:Re(s);return O<0&&(O=st(d+O,0)),Pn(e,t,O)}function nd(e){var t=e==null?0:e.length;return t?Vt(e,0,-1):[]}var rd=Ne(function(e){var t=Ke(e,ns);return t.length&&t[0]===e[0]?Ki(t):[]}),od=Ne(function(e){var t=Ht(e),s=Ke(e,ns);return t===Ht(s)?t=i:s.pop(),s.length&&s[0]===e[0]?Ki(s,Te(t,2)):[]}),id=Ne(function(e){var t=Ht(e),s=Ke(e,ns);return t=typeof t=="function"?t:i,t&&s.pop(),s.length&&s[0]===e[0]?Ki(s,i,t):[]});function sd(e,t){return e==null?"":tc.call(e,t)}function Ht(e){var t=e==null?0:e.length;return t?e[t-1]:i}function ad(e,t,s){var d=e==null?0:e.length;if(!d)return-1;var O=d;return s!==i&&(O=Re(s),O=O<0?st(d+O,0):dt(O,d-1)),t===t?ju(e,t,O):qn(e,ho,O,!0)}function ud(e,t){return e&&e.length?ha(e,Re(t)):i}var cd=Ne(su);function su(e,t){return e&&e.length&&t&&t.length?zi(e,t):e}function ld(e,t,s){return e&&e.length&&t&&t.length?zi(e,t,Te(s,2)):e}function dd(e,t,s){return e&&e.length&&t&&t.length?zi(e,t,i,s):e}var pd=fn(function(e,t){var s=e==null?0:e.length,d=Hi(e,t);return ba(e,Ke(t,function(O){return mn(O,s)?+O:O}).sort(Ma)),d});function fd(e,t){var s=[];if(!(e&&e.length))return s;var d=-1,O=[],A=e.length;for(t=Te(t,3);++d<A;){var U=e[d];t(U,d,e)&&(s.push(U),O.push(d))}return ba(e,O),s}function _s(e){return e==null?e:ic.call(e)}function md(e,t,s){var d=e==null?0:e.length;return d?(s&&typeof s!="number"&&bt(e,t,s)?(t=0,s=d):(t=t==null?0:Re(t),s=s===i?d:Re(s)),Vt(e,t,s)):[]}function gd(e,t){return Bo(e,t)}function _d(e,t,s){return qi(e,t,Te(s,2))}function hd(e,t){var s=e==null?0:e.length;if(s){var d=Bo(e,t);if(d<s&&zt(e[d],t))return d}return-1}function yd(e,t){return Bo(e,t,!0)}function vd(e,t,s){return qi(e,t,Te(s,2),!0)}function bd(e,t){var s=e==null?0:e.length;if(s){var d=Bo(e,t,!0)-1;if(zt(e[d],t))return d}return-1}function Ed(e){return e&&e.length?Oa(e):[]}function Od(e,t){return e&&e.length?Oa(e,Te(t,2)):[]}function Td(e){var t=e==null?0:e.length;return t?Vt(e,1,t):[]}function Sd(e,t,s){return e&&e.length?(t=s||t===i?1:Re(t),Vt(e,0,t<0?0:t)):[]}function wd(e,t,s){var d=e==null?0:e.length;return d?(t=s||t===i?1:Re(t),t=d-t,Vt(e,t<0?0:t,d)):[]}function Id(e,t){return e&&e.length?Vo(e,Te(t,3),!1,!0):[]}function Pd(e,t){return e&&e.length?Vo(e,Te(t,3)):[]}var Cd=Ne(function(e){return An(ut(e,1,et,!0))}),Md=Ne(function(e){var t=Ht(e);return et(t)&&(t=i),An(ut(e,1,et,!0),Te(t,2))}),Ad=Ne(function(e){var t=Ht(e);return t=typeof t=="function"?t:i,An(ut(e,1,et,!0),i,t)});function Rd(e){return e&&e.length?An(e):[]}function Dd(e,t){return e&&e.length?An(e,Te(t,2)):[]}function Nd(e,t){return t=typeof t=="function"?t:i,e&&e.length?An(e,i,t):[]}function hs(e){if(!(e&&e.length))return[];var t=0;return e=an(e,function(s){if(et(s))return t=st(s.length,t),!0}),Bn(t,function(s){return Ke(e,Mr(s))})}function au(e,t){if(!(e&&e.length))return[];var s=hs(e);return t==null?s:Ke(s,function(d){return Tt(t,i,d)})}var Fd=Ne(function(e,t){return et(e)?jr(e,t):[]}),Ld=Ne(function(e){return ts(an(e,et))}),Ud=Ne(function(e){var t=Ht(e);return et(t)&&(t=i),ts(an(e,et),Te(t,2))}),kd=Ne(function(e){var t=Ht(e);return t=typeof t=="function"?t:i,ts(an(e,et),i,t)}),jd=Ne(hs);function xd(e,t){return Ia(e||[],t||[],kr)}function Bd(e,t){return Ia(e||[],t||[],Vr)}var Vd=Ne(function(e){var t=e.length,s=t>1?e[t-1]:i;return s=typeof s=="function"?(e.pop(),s):i,au(e,s)});function uu(e){var t=C(e);return t.__chain__=!0,t}function Hd(e,t){return t(e),e}function zo(e,t){return t(e)}var Xd=fn(function(e){var t=e.length,s=t?e[0]:0,d=this.__wrapped__,O=function(A){return Hi(A,e)};return t>1||this.__actions__.length||!(d instanceof Ue)||!mn(s)?this.thru(O):(d=d.slice(s,+s+(t?1:0)),d.__actions__.push({func:zo,args:[O],thisArg:i}),new xt(d,this.__chain__).thru(function(A){return t&&!A.length&&A.push(i),A}))});function Gd(){return uu(this)}function Wd(){return new xt(this.value(),this.__chain__)}function Kd(){this.__values__===i&&(this.__values__=Ou(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Qd(){return this}function $d(e){for(var t,s=this;s instanceof Lo;){var d=tu(s);d.__index__=0,d.__values__=i,t?O.__wrapped__=d:t=d;var O=d;s=s.__wrapped__}return O.__wrapped__=e,t}function Yd(){var e=this.__wrapped__;if(e instanceof Ue){var t=e;return this.__actions__.length&&(t=new Ue(this)),t=t.reverse(),t.__actions__.push({func:zo,args:[_s],thisArg:i}),new xt(t,this.__chain__)}return this.thru(_s)}function zd(){return wa(this.__wrapped__,this.__actions__)}var Zd=Ho(function(e,t,s){We.call(e,s)?++e[s]:dn(e,s,1)});function Jd(e,t,s){var d=Ae(e)?Di:Vc;return s&&bt(e,t,s)&&(t=i),d(e,Te(t,3))}function qd(e,t){var s=Ae(e)?an:ua;return s(e,Te(t,3))}var ep=La(nu),tp=La(ru);function np(e,t){return ut(Zo(e,t),1)}function rp(e,t){return ut(Zo(e,t),ce)}function op(e,t,s){return s=s===i?1:Re(s),ut(Zo(e,t),s)}function cu(e,t){var s=Ae(e)?Ft:Mn;return s(e,Te(t,3))}function lu(e,t){var s=Ae(e)?$s:aa;return s(e,Te(t,3))}var ip=Ho(function(e,t,s){We.call(e,s)?e[s].push(t):dn(e,s,[t])});function sp(e,t,s,d){e=It(e)?e:lr(e),s=s&&!d?Re(s):0;var O=e.length;return s<0&&(s=st(O+s,0)),ni(e)?s<=O&&e.indexOf(t,s)>-1:!!O&&Pn(e,t,s)>-1}var ap=Ne(function(e,t,s){var d=-1,O=typeof t=="function",A=It(e)?Q(e.length):[];return Mn(e,function(U){A[++d]=O?Tt(t,U,s):xr(U,t,s)}),A}),up=Ho(function(e,t,s){dn(e,s,t)});function Zo(e,t){var s=Ae(e)?Ke:ma;return s(e,Te(t,3))}function cp(e,t,s,d){return e==null?[]:(Ae(t)||(t=t==null?[]:[t]),s=d?i:s,Ae(s)||(s=s==null?[]:[s]),ya(e,t,s))}var lp=Ho(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function dp(e,t,s){var d=Ae(e)?_t:xn,O=arguments.length<3;return d(e,Te(t,4),s,O,Mn)}function pp(e,t,s){var d=Ae(e)?Jn:xn,O=arguments.length<3;return d(e,Te(t,4),s,O,aa)}function fp(e,t){var s=Ae(e)?an:ua;return s(e,ei(Te(t,3)))}function mp(e){var t=Ae(e)?ra:il;return t(e)}function gp(e,t,s){(s?bt(e,t,s):t===i)?t=1:t=Re(t);var d=Ae(e)?Uc:sl;return d(e,t)}function _p(e){var t=Ae(e)?kc:ul;return t(e)}function hp(e){if(e==null)return 0;if(It(e))return ni(e)?tr(e):e.length;var t=pt(e);return t==ft||t==ae?e.size:$i(e).length}function yp(e,t,s){var d=Ae(e)?go:cl;return s&&bt(e,t,s)&&(t=i),d(e,Te(t,3))}var vp=Ne(function(e,t){if(e==null)return[];var s=t.length;return s>1&&bt(e,t[0],t[1])?t=[]:s>2&&bt(t[0],t[1],t[2])&&(t=[t[0]]),ya(e,ut(t,1),[])}),Jo=Zu||function(){return ot.Date.now()};function bp(e,t){if(typeof t!="function")throw new jt(c);return e=Re(e),function(){if(--e<1)return t.apply(this,arguments)}}function du(e,t,s){return t=s?i:t,t=e&&t==null?e.length:t,pn(e,D,i,i,i,i,t)}function pu(e,t){var s;if(typeof t!="function")throw new jt(c);return e=Re(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=i),s}}var ys=Ne(function(e,t,s){var d=I;if(s.length){var O=yt(s,ur(ys));d|=b}return pn(e,d,t,s,O)}),fu=Ne(function(e,t,s){var d=I|P;if(s.length){var O=yt(s,ur(fu));d|=b}return pn(t,d,e,s,O)});function mu(e,t,s){t=s?i:t;var d=pn(e,E,i,i,i,i,i,t);return d.placeholder=mu.placeholder,d}function gu(e,t,s){t=s?i:t;var d=pn(e,T,i,i,i,i,i,t);return d.placeholder=gu.placeholder,d}function _u(e,t,s){var d,O,A,U,x,H,q=0,J=!1,se=!1,_e=!0;if(typeof e!="function")throw new jt(c);t=Xt(t)||0,Qe(s)&&(J=!!s.leading,se="maxWait"in s,A=se?st(Xt(s.maxWait)||0,t):A,_e="trailing"in s?!!s.trailing:_e);function be(tt){var Zt=d,hn=O;return d=O=i,q=tt,U=e.apply(hn,Zt),U}function we(tt){return q=tt,x=Gr(Le,t),J?be(tt):U}function Fe(tt){var Zt=tt-H,hn=tt-q,Lu=t-Zt;return se?dt(Lu,A-hn):Lu}function Se(tt){var Zt=tt-H,hn=tt-q;return H===i||Zt>=t||Zt<0||se&&hn>=A}function Le(){var tt=Jo();if(Se(tt))return Be(tt);x=Gr(Le,Fe(tt))}function Be(tt){return x=i,_e&&d?be(tt):(d=O=i,U)}function Et(){x!==i&&dl(x),q=0,d=H=O=x=i}function Ot(){return x===i?U:Be(Jo())}function Fn(){var tt=Jo(),Zt=Se(tt);if(d=arguments,O=this,H=tt,Zt){if(x===i)return we(H);if(se)return x=Gr(Le,t),be(H)}return x===i&&(x=Gr(Le,t)),U}return Fn.cancel=Et,Fn.flush=Ot,Fn}var Ep=Ne(function(e,t){return sa(e,1,t)}),Op=Ne(function(e,t,s){return sa(e,Xt(t)||0,s)});function Tp(e){return pn(e,$)}function qo(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new jt(c);var s=function(){var d=arguments,O=t?t.apply(this,d):d[0],A=s.cache;if(A.has(O))return A.get(O);var U=e.apply(this,d);return s.cache=A.set(O,U)||A,U};return s.cache=new(qo.Cache||ln),s}qo.Cache=ln;function ei(e){if(typeof e!="function")throw new jt(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Sp(e){return pu(2,e)}var wp=ll(function(e,t){t=t.length==1&&Ae(t[0])?Ke(t[0],St(Te())):Ke(ut(t,1),St(Te()));var s=t.length;return Ne(function(d){for(var O=-1,A=dt(d.length,s);++O<A;)d[O]=t[O].call(this,d[O]);return Tt(e,this,d)})}),vs=Ne(function(e,t){var s=yt(t,ur(vs));return pn(e,b,i,t,s)}),hu=Ne(function(e,t){var s=yt(t,ur(hu));return pn(e,w,i,t,s)}),Ip=fn(function(e,t){return pn(e,L,i,i,i,t)});function Pp(e,t){if(typeof e!="function")throw new jt(c);return t=t===i?t:Re(t),Ne(e,t)}function Cp(e,t){if(typeof e!="function")throw new jt(c);return t=t==null?0:st(Re(t),0),Ne(function(s){var d=s[t],O=Dn(s,0,t);return d&&Je(O,d),Tt(e,this,O)})}function Mp(e,t,s){var d=!0,O=!0;if(typeof e!="function")throw new jt(c);return Qe(s)&&(d="leading"in s?!!s.leading:d,O="trailing"in s?!!s.trailing:O),_u(e,t,{leading:d,maxWait:t,trailing:O})}function Ap(e){return du(e,1)}function Rp(e,t){return vs(rs(t),e)}function Dp(){if(!arguments.length)return[];var e=arguments[0];return Ae(e)?e:[e]}function Np(e){return Bt(e,l)}function Fp(e,t){return t=typeof t=="function"?t:i,Bt(e,l,t)}function Lp(e){return Bt(e,m|l)}function Up(e,t){return t=typeof t=="function"?t:i,Bt(e,m|l,t)}function kp(e,t){return t==null||ia(e,t,at(t))}function zt(e,t){return e===t||e!==e&&t!==t}var jp=Ko(Wi),xp=Ko(function(e,t){return e>=t}),$n=da(function(){return arguments}())?da:function(e){return ze(e)&&We.call(e,"callee")&&!Js.call(e,"callee")},Ae=Q.isArray,Bp=Ci?St(Ci):Qc;function It(e){return e!=null&&ti(e.length)&&!gn(e)}function et(e){return ze(e)&&It(e)}function Vp(e){return e===!0||e===!1||ze(e)&&vt(e)==De}var Nn=qu||As,Hp=fo?St(fo):$c;function Xp(e){return ze(e)&&e.nodeType===1&&!Wr(e)}function Gp(e){if(e==null)return!0;if(It(e)&&(Ae(e)||typeof e=="string"||typeof e.splice=="function"||Nn(e)||cr(e)||$n(e)))return!e.length;var t=pt(e);if(t==ft||t==ae)return!e.size;if(Xr(e))return!$i(e).length;for(var s in e)if(We.call(e,s))return!1;return!0}function Wp(e,t){return Br(e,t)}function Kp(e,t,s){s=typeof s=="function"?s:i;var d=s?s(e,t):i;return d===i?Br(e,t,i,s):!!d}function bs(e){if(!ze(e))return!1;var t=vt(e);return t==Gt||t==Mt||typeof e.message=="string"&&typeof e.name=="string"&&!Wr(e)}function Qp(e){return typeof e=="number"&&ec(e)}function gn(e){if(!Qe(e))return!1;var t=vt(e);return t==At||t==yn||t==Ee||t==ie}function yu(e){return typeof e=="number"&&e==Re(e)}function ti(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=te}function Qe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ze(e){return e!=null&&typeof e=="object"}var vu=Pr?St(Pr):zc;function $p(e,t){return e===t||Qi(e,t,ls(t))}function Yp(e,t,s){return s=typeof s=="function"?s:i,Qi(e,t,ls(t),s)}function zp(e){return bu(e)&&e!=+e}function Zp(e){if(Fl(e))throw new Me(f);return pa(e)}function Jp(e){return e===null}function qp(e){return e==null}function bu(e){return typeof e=="number"||ze(e)&&vt(e)==vn}function Wr(e){if(!ze(e)||vt(e)!=ct)return!1;var t=Co(e);if(t===null)return!0;var s=We.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&So.call(s)==Qu}var Es=Mi?St(Mi):Zc;function ef(e){return yu(e)&&e>=-te&&e<=te}var Eu=Ai?St(Ai):Jc;function ni(e){return typeof e=="string"||!Ae(e)&&ze(e)&&vt(e)==he}function kt(e){return typeof e=="symbol"||ze(e)&&vt(e)==ue}var cr=Ri?St(Ri):qc;function tf(e){return e===i}function nf(e){return ze(e)&&pt(e)==ke}function rf(e){return ze(e)&&vt(e)==Ze}var of=Ko(Yi),sf=Ko(function(e,t){return e<=t});function Ou(e){if(!e)return[];if(It(e))return ni(e)?$t(e):wt(e);if(Rr&&e[Rr])return er(e[Rr]());var t=pt(e),s=t==ft?un:t==ae?Vn:lr;return s(e)}function _n(e){if(!e)return e===0?e:0;if(e=Xt(e),e===ce||e===-ce){var t=e<0?-1:1;return t*K}return e===e?e:0}function Re(e){var t=_n(e),s=t%1;return t===t?s?t-s:t:0}function Tu(e){return e?Wn(Re(e),0,de):0}function Xt(e){if(typeof e=="number")return e;if(kt(e))return ee;if(Qe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ci,"");var s=zr.test(e);return s||Sn.test(e)?wi(e.slice(2),s?2:8):li.test(e)?ee:+e}function Su(e){return tn(e,Pt(e))}function af(e){return e?Wn(Re(e),-te,te):e===0?e:0}function xe(e){return e==null?"":Ut(e)}var uf=sr(function(e,t){if(Xr(t)||It(t)){tn(t,at(t),e);return}for(var s in t)We.call(t,s)&&kr(e,s,t[s])}),wu=sr(function(e,t){tn(t,Pt(t),e)}),ri=sr(function(e,t,s,d){tn(t,Pt(t),e,d)}),cf=sr(function(e,t,s,d){tn(t,at(t),e,d)}),lf=fn(Hi);function df(e,t){var s=or(e);return t==null?s:oa(s,t)}var pf=Ne(function(e,t){e=Ge(e);var s=-1,d=t.length,O=d>2?t[2]:i;for(O&&bt(t[0],t[1],O)&&(d=1);++s<d;)for(var A=t[s],U=Pt(A),x=-1,H=U.length;++x<H;){var q=U[x],J=e[q];(J===i||zt(J,nr[q])&&!We.call(e,q))&&(e[q]=A[q])}return e}),ff=Ne(function(e){return e.push(i,Ha),Tt(Iu,i,e)});function mf(e,t){return _o(e,Te(t,3),en)}function gf(e,t){return _o(e,Te(t,3),Gi)}function _f(e,t){return e==null?e:Xi(e,Te(t,3),Pt)}function hf(e,t){return e==null?e:ca(e,Te(t,3),Pt)}function yf(e,t){return e&&en(e,Te(t,3))}function vf(e,t){return e&&Gi(e,Te(t,3))}function bf(e){return e==null?[]:jo(e,at(e))}function Ef(e){return e==null?[]:jo(e,Pt(e))}function Os(e,t,s){var d=e==null?i:ir(e,t);return d===i?s:d}function Of(e,t){return e!=null&&Wa(e,t,Xc)}function Ts(e,t){return e!=null&&Wa(e,t,Gc)}var Tf=ka(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=wo.call(t)),e[t]=s},ws(Ct)),Sf=ka(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=wo.call(t)),We.call(e,t)?e[t].push(s):e[t]=[s]},Te),wf=Ne(xr);function at(e){return It(e)?na(e):$i(e)}function Pt(e){return It(e)?na(e,!0):el(e)}function If(e,t){var s={};return t=Te(t,3),en(e,function(d,O,A){dn(s,t(d,O,A),d)}),s}function Pf(e,t){var s={};return t=Te(t,3),en(e,function(d,O,A){dn(s,O,t(d,O,A))}),s}var Cf=sr(function(e,t,s){xo(e,t,s)}),Iu=sr(function(e,t,s,d){xo(e,t,s,d)}),Mf=fn(function(e,t){var s={};if(e==null)return s;var d=!1;t=Ke(t,function(A){return A=Rn(A,e),d||(d=A.length>1),A}),tn(e,us(e),s),d&&(s=Bt(s,m|a|l,Ol));for(var O=t.length;O--;)es(s,t[O]);return s});function Af(e,t){return Pu(e,ei(Te(t)))}var Rf=fn(function(e,t){return e==null?{}:nl(e,t)});function Pu(e,t){if(e==null)return{};var s=Ke(us(e),function(d){return[d]});return t=Te(t),va(e,s,function(d,O){return t(d,O[0])})}function Df(e,t,s){t=Rn(t,e);var d=-1,O=t.length;for(O||(O=1,e=i);++d<O;){var A=e==null?i:e[nn(t[d])];A===i&&(d=O,A=s),e=gn(A)?A.call(e):A}return e}function Nf(e,t,s){return e==null?e:Vr(e,t,s)}function Ff(e,t,s,d){return d=typeof d=="function"?d:i,e==null?e:Vr(e,t,s,d)}var Cu=Ba(at),Mu=Ba(Pt);function Lf(e,t,s){var d=Ae(e),O=d||Nn(e)||cr(e);if(t=Te(t,4),s==null){var A=e&&e.constructor;O?s=d?new A:[]:Qe(e)?s=gn(A)?or(Co(e)):{}:s={}}return(O?Ft:en)(e,function(U,x,H){return t(s,U,x,H)}),s}function Uf(e,t){return e==null?!0:es(e,t)}function kf(e,t,s){return e==null?e:Sa(e,t,rs(s))}function jf(e,t,s,d){return d=typeof d=="function"?d:i,e==null?e:Sa(e,t,rs(s),d)}function lr(e){return e==null?[]:M(e,at(e))}function xf(e){return e==null?[]:M(e,Pt(e))}function Bf(e,t,s){return s===i&&(s=t,t=i),s!==i&&(s=Xt(s),s=s===s?s:0),t!==i&&(t=Xt(t),t=t===t?t:0),Wn(Xt(e),t,s)}function Vf(e,t,s){return t=_n(t),s===i?(s=t,t=0):s=_n(s),e=Xt(e),Wc(e,t,s)}function Hf(e,t,s){if(s&&typeof s!="boolean"&&bt(e,t,s)&&(t=s=i),s===i&&(typeof t=="boolean"?(s=t,t=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&t===i?(e=0,t=1):(e=_n(e),t===i?(t=e,e=0):t=_n(t)),e>t){var d=e;e=t,t=d}if(s||e%1||t%1){var O=ea();return dt(e+O*(t-e+Si("1e-"+((O+"").length-1))),t)}return Zi(e,t)}var Xf=ar(function(e,t,s){return t=t.toLowerCase(),e+(s?Au(t):t)});function Au(e){return Ss(xe(e).toLowerCase())}function Ru(e){return e=xe(e),e&&e.replace(wn,ve).replace(Zn,"")}function Gf(e,t,s){e=xe(e),t=Ut(t);var d=e.length;s=s===i?d:Wn(Re(s),0,d);var O=s;return s-=t.length,s>=0&&e.slice(s,O)==t}function Wf(e){return e=xe(e),e&&Fs.test(e)?e.replace(ii,Oe):e}function Kf(e){return e=xe(e),e&&js.test(e)?e.replace(Ln,"\\$&"):e}var Qf=ar(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),$f=ar(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),Yf=Fa("toLowerCase");function zf(e,t,s){e=xe(e),t=Re(t);var d=t?tr(e):0;if(!t||d>=t)return e;var O=(t-d)/2;return Wo(Do(O),s)+e+Wo(Ro(O),s)}function Zf(e,t,s){e=xe(e),t=Re(t);var d=t?tr(e):0;return t&&d<t?e+Wo(t-d,s):e}function Jf(e,t,s){e=xe(e),t=Re(t);var d=t?tr(e):0;return t&&d<t?Wo(t-d,s)+e:e}function qf(e,t,s){return s||t==null?t=0:t&&(t=+t),oc(xe(e).replace(Un,""),t||0)}function em(e,t,s){return(s?bt(e,t,s):t===i)?t=1:t=Re(t),Ji(xe(e),t)}function tm(){var e=arguments,t=xe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var nm=ar(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function rm(e,t,s){return s&&typeof s!="number"&&bt(e,t,s)&&(t=s=i),s=s===i?de:s>>>0,s?(e=xe(e),e&&(typeof t=="string"||t!=null&&!Es(t))&&(t=Ut(t),!t&&nt(e))?Dn($t(e),0,s):e.split(t,s)):[]}var om=ar(function(e,t,s){return e+(s?" ":"")+Ss(t)});function im(e,t,s){return e=xe(e),s=s==null?0:Wn(Re(s),0,e.length),t=Ut(t),e.slice(s,s+t.length)==t}function sm(e,t,s){var d=C.templateSettings;s&&bt(e,t,s)&&(t=i),e=xe(e),t=ri({},t,d,Va);var O=ri({},t.imports,d.imports,Va),A=at(O),U=M(O,A),x,H,q=0,J=t.interpolate||Ve,se="__p += '",_e=ki((t.escape||Ve).source+"|"+J.source+"|"+(J===si?mr:Ve).source+"|"+(t.evaluate||Ve).source+"|$","g"),be="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++bi+"]")+`
`;e.replace(_e,function(Se,Le,Be,Et,Ot,Fn){return Be||(Be=Et),se+=e.slice(q,Fn).replace(Zr,Pe),Le&&(x=!0,se+=`' +
__e(`+Le+`) +
'`),Ot&&(H=!0,se+=`';
`+Ot+`;
__p += '`),Be&&(se+=`' +
((__t = (`+Be+`)) == null ? '' : __t) +
'`),q=Fn+Se.length,Se}),se+=`';
`;var we=t.variable;we||(se=`with (obj) {
`+se+`
}
`),se=(H?se.replace($r,""):se).replace(Rs,"$1").replace(Ds,"$1;"),se="function("+(we||"obj")+`) {
`+(we?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var Fe=Nu(function(){return je(A,be+"return "+se).apply(i,U)});if(Fe.source=se,bs(Fe))throw Fe;return Fe}function am(e){return xe(e).toLowerCase()}function um(e){return xe(e).toUpperCase()}function cm(e,t,s){if(e=xe(e),e&&(s||t===i))return e.replace(ci,"");if(!e||!(t=Ut(t)))return e;var d=$t(e),O=$t(t),A=j(d,O),U=ne(d,O)+1;return Dn(d,A,U).join("")}function lm(e,t,s){if(e=xe(e),e&&(s||t===i))return e.replace(mt,"");if(!e||!(t=Ut(t)))return e;var d=$t(e),O=ne(d,$t(t))+1;return Dn(d,0,O).join("")}function dm(e,t,s){if(e=xe(e),e&&(s||t===i))return e.replace(Un,"");if(!e||!(t=Ut(t)))return e;var d=$t(e),O=j(d,$t(t));return Dn(d,O).join("")}function pm(e,t){var s=re,d=le;if(Qe(t)){var O="separator"in t?t.separator:O;s="length"in t?Re(t.length):s,d="omission"in t?Ut(t.omission):d}e=xe(e);var A=e.length;if(nt(e)){var U=$t(e);A=U.length}if(s>=A)return e;var x=s-tr(d);if(x<1)return d;var H=U?Dn(U,0,x).join(""):e.slice(0,x);if(O===i)return H+d;if(U&&(x+=H.length-x),Es(O)){if(e.slice(x).search(O)){var q,J=H;for(O.global||(O=ki(O.source,xe(zn.exec(O))+"g")),O.lastIndex=0;q=O.exec(J);)var se=q.index;H=H.slice(0,se===i?x:se)}}else if(e.indexOf(Ut(O),x)!=x){var _e=H.lastIndexOf(O);_e>-1&&(H=H.slice(0,_e))}return H+d}function fm(e){return e=xe(e),e&&Ns.test(e)?e.replace(oi,xu):e}var mm=ar(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Ss=Fa("toUpperCase");function Du(e,t,s){return e=xe(e),t=s?i:t,t===i?Qt(e)?Hu(e):Fi(e):e.match(t)||[]}var Nu=Ne(function(e,t){try{return Tt(e,i,t)}catch(s){return bs(s)?s:new Me(s)}}),gm=fn(function(e,t){return Ft(t,function(s){s=nn(s),dn(e,s,ys(e[s],e))}),e});function _m(e){var t=e==null?0:e.length,s=Te();return e=t?Ke(e,function(d){if(typeof d[1]!="function")throw new jt(c);return[s(d[0]),d[1]]}):[],Ne(function(d){for(var O=-1;++O<t;){var A=e[O];if(Tt(A[0],this,d))return Tt(A[1],this,d)}})}function hm(e){return Bc(Bt(e,m))}function ws(e){return function(){return e}}function ym(e,t){return e==null||e!==e?t:e}var vm=Ua(),bm=Ua(!0);function Ct(e){return e}function Is(e){return fa(typeof e=="function"?e:Bt(e,m))}function Em(e){return ga(Bt(e,m))}function Om(e,t){return _a(e,Bt(t,m))}var Tm=Ne(function(e,t){return function(s){return xr(s,e,t)}}),Sm=Ne(function(e,t){return function(s){return xr(e,s,t)}});function Ps(e,t,s){var d=at(t),O=jo(t,d);s==null&&!(Qe(t)&&(O.length||!d.length))&&(s=t,t=e,e=this,O=jo(t,at(t)));var A=!(Qe(s)&&"chain"in s)||!!s.chain,U=gn(e);return Ft(O,function(x){var H=t[x];e[x]=H,U&&(e.prototype[x]=function(){var q=this.__chain__;if(A||q){var J=e(this.__wrapped__),se=J.__actions__=wt(this.__actions__);return se.push({func:H,args:arguments,thisArg:e}),J.__chain__=q,J}return H.apply(e,Je([this.value()],arguments))})}),e}function wm(){return ot._===this&&(ot._=$u),this}function Cs(){}function Im(e){return e=Re(e),Ne(function(t){return ha(t,e)})}var Pm=is(Ke),Cm=is(Di),Mm=is(go);function Fu(e){return ps(e)?Mr(nn(e)):rl(e)}function Am(e){return function(t){return e==null?i:ir(e,t)}}var Rm=ja(),Dm=ja(!0);function Ms(){return[]}function As(){return!1}function Nm(){return{}}function Fm(){return""}function Lm(){return!0}function Um(e,t){if(e=Re(e),e<1||e>te)return[];var s=de,d=dt(e,de);t=Te(t),e-=de;for(var O=Bn(d,t);++s<e;)t(s);return O}function km(e){return Ae(e)?Ke(e,nn):kt(e)?[e]:wt(eu(xe(e)))}function jm(e){var t=++Ku;return xe(e)+t}var xm=Go(function(e,t){return e+t},0),Bm=ss("ceil"),Vm=Go(function(e,t){return e/t},1),Hm=ss("floor");function Xm(e){return e&&e.length?ko(e,Ct,Wi):i}function Gm(e,t){return e&&e.length?ko(e,Te(t,2),Wi):i}function Wm(e){return yo(e,Ct)}function Km(e,t){return yo(e,Te(t,2))}function Qm(e){return e&&e.length?ko(e,Ct,Yi):i}function $m(e,t){return e&&e.length?ko(e,Te(t,2),Yi):i}var Ym=Go(function(e,t){return e*t},1),zm=ss("round"),Zm=Go(function(e,t){return e-t},0);function Jm(e){return e&&e.length?bo(e,Ct):0}function qm(e,t){return e&&e.length?bo(e,Te(t,2)):0}return C.after=bp,C.ary=du,C.assign=uf,C.assignIn=wu,C.assignInWith=ri,C.assignWith=cf,C.at=lf,C.before=pu,C.bind=ys,C.bindAll=gm,C.bindKey=fu,C.castArray=Dp,C.chain=uu,C.chunk=Vl,C.compact=Hl,C.concat=Xl,C.cond=_m,C.conforms=hm,C.constant=ws,C.countBy=Zd,C.create=df,C.curry=mu,C.curryRight=gu,C.debounce=_u,C.defaults=pf,C.defaultsDeep=ff,C.defer=Ep,C.delay=Op,C.difference=Gl,C.differenceBy=Wl,C.differenceWith=Kl,C.drop=Ql,C.dropRight=$l,C.dropRightWhile=Yl,C.dropWhile=zl,C.fill=Zl,C.filter=qd,C.flatMap=np,C.flatMapDeep=rp,C.flatMapDepth=op,C.flatten=ou,C.flattenDeep=Jl,C.flattenDepth=ql,C.flip=Tp,C.flow=vm,C.flowRight=bm,C.fromPairs=ed,C.functions=bf,C.functionsIn=Ef,C.groupBy=ip,C.initial=nd,C.intersection=rd,C.intersectionBy=od,C.intersectionWith=id,C.invert=Tf,C.invertBy=Sf,C.invokeMap=ap,C.iteratee=Is,C.keyBy=up,C.keys=at,C.keysIn=Pt,C.map=Zo,C.mapKeys=If,C.mapValues=Pf,C.matches=Em,C.matchesProperty=Om,C.memoize=qo,C.merge=Cf,C.mergeWith=Iu,C.method=Tm,C.methodOf=Sm,C.mixin=Ps,C.negate=ei,C.nthArg=Im,C.omit=Mf,C.omitBy=Af,C.once=Sp,C.orderBy=cp,C.over=Pm,C.overArgs=wp,C.overEvery=Cm,C.overSome=Mm,C.partial=vs,C.partialRight=hu,C.partition=lp,C.pick=Rf,C.pickBy=Pu,C.property=Fu,C.propertyOf=Am,C.pull=cd,C.pullAll=su,C.pullAllBy=ld,C.pullAllWith=dd,C.pullAt=pd,C.range=Rm,C.rangeRight=Dm,C.rearg=Ip,C.reject=fp,C.remove=fd,C.rest=Pp,C.reverse=_s,C.sampleSize=gp,C.set=Nf,C.setWith=Ff,C.shuffle=_p,C.slice=md,C.sortBy=vp,C.sortedUniq=Ed,C.sortedUniqBy=Od,C.split=rm,C.spread=Cp,C.tail=Td,C.take=Sd,C.takeRight=wd,C.takeRightWhile=Id,C.takeWhile=Pd,C.tap=Hd,C.throttle=Mp,C.thru=zo,C.toArray=Ou,C.toPairs=Cu,C.toPairsIn=Mu,C.toPath=km,C.toPlainObject=Su,C.transform=Lf,C.unary=Ap,C.union=Cd,C.unionBy=Md,C.unionWith=Ad,C.uniq=Rd,C.uniqBy=Dd,C.uniqWith=Nd,C.unset=Uf,C.unzip=hs,C.unzipWith=au,C.update=kf,C.updateWith=jf,C.values=lr,C.valuesIn=xf,C.without=Fd,C.words=Du,C.wrap=Rp,C.xor=Ld,C.xorBy=Ud,C.xorWith=kd,C.zip=jd,C.zipObject=xd,C.zipObjectDeep=Bd,C.zipWith=Vd,C.entries=Cu,C.entriesIn=Mu,C.extend=wu,C.extendWith=ri,Ps(C,C),C.add=xm,C.attempt=Nu,C.camelCase=Xf,C.capitalize=Au,C.ceil=Bm,C.clamp=Bf,C.clone=Np,C.cloneDeep=Lp,C.cloneDeepWith=Up,C.cloneWith=Fp,C.conformsTo=kp,C.deburr=Ru,C.defaultTo=ym,C.divide=Vm,C.endsWith=Gf,C.eq=zt,C.escape=Wf,C.escapeRegExp=Kf,C.every=Jd,C.find=ep,C.findIndex=nu,C.findKey=mf,C.findLast=tp,C.findLastIndex=ru,C.findLastKey=gf,C.floor=Hm,C.forEach=cu,C.forEachRight=lu,C.forIn=_f,C.forInRight=hf,C.forOwn=yf,C.forOwnRight=vf,C.get=Os,C.gt=jp,C.gte=xp,C.has=Of,C.hasIn=Ts,C.head=iu,C.identity=Ct,C.includes=sp,C.indexOf=td,C.inRange=Vf,C.invoke=wf,C.isArguments=$n,C.isArray=Ae,C.isArrayBuffer=Bp,C.isArrayLike=It,C.isArrayLikeObject=et,C.isBoolean=Vp,C.isBuffer=Nn,C.isDate=Hp,C.isElement=Xp,C.isEmpty=Gp,C.isEqual=Wp,C.isEqualWith=Kp,C.isError=bs,C.isFinite=Qp,C.isFunction=gn,C.isInteger=yu,C.isLength=ti,C.isMap=vu,C.isMatch=$p,C.isMatchWith=Yp,C.isNaN=zp,C.isNative=Zp,C.isNil=qp,C.isNull=Jp,C.isNumber=bu,C.isObject=Qe,C.isObjectLike=ze,C.isPlainObject=Wr,C.isRegExp=Es,C.isSafeInteger=ef,C.isSet=Eu,C.isString=ni,C.isSymbol=kt,C.isTypedArray=cr,C.isUndefined=tf,C.isWeakMap=nf,C.isWeakSet=rf,C.join=sd,C.kebabCase=Qf,C.last=Ht,C.lastIndexOf=ad,C.lowerCase=$f,C.lowerFirst=Yf,C.lt=of,C.lte=sf,C.max=Xm,C.maxBy=Gm,C.mean=Wm,C.meanBy=Km,C.min=Qm,C.minBy=$m,C.stubArray=Ms,C.stubFalse=As,C.stubObject=Nm,C.stubString=Fm,C.stubTrue=Lm,C.multiply=Ym,C.nth=ud,C.noConflict=wm,C.noop=Cs,C.now=Jo,C.pad=zf,C.padEnd=Zf,C.padStart=Jf,C.parseInt=qf,C.random=Hf,C.reduce=dp,C.reduceRight=pp,C.repeat=em,C.replace=tm,C.result=Df,C.round=zm,C.runInContext=V,C.sample=mp,C.size=hp,C.snakeCase=nm,C.some=yp,C.sortedIndex=gd,C.sortedIndexBy=_d,C.sortedIndexOf=hd,C.sortedLastIndex=yd,C.sortedLastIndexBy=vd,C.sortedLastIndexOf=bd,C.startCase=om,C.startsWith=im,C.subtract=Zm,C.sum=Jm,C.sumBy=qm,C.template=sm,C.times=Um,C.toFinite=_n,C.toInteger=Re,C.toLength=Tu,C.toLower=am,C.toNumber=Xt,C.toSafeInteger=af,C.toString=xe,C.toUpper=um,C.trim=cm,C.trimEnd=lm,C.trimStart=dm,C.truncate=pm,C.unescape=fm,C.uniqueId=jm,C.upperCase=mm,C.upperFirst=Ss,C.each=cu,C.eachRight=lu,C.first=iu,Ps(C,function(){var e={};return en(C,function(t,s){We.call(C.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),C.VERSION=_,Ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){C[e].placeholder=C}),Ft(["drop","take"],function(e,t){Ue.prototype[e]=function(s){s=s===i?1:st(Re(s),0);var d=this.__filtered__&&!t?new Ue(this):this.clone();return d.__filtered__?d.__takeCount__=dt(s,d.__takeCount__):d.__views__.push({size:dt(s,de),type:e+(d.__dir__<0?"Right":"")}),d},Ue.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Ft(["filter","map","takeWhile"],function(e,t){var s=t+1,d=s==F||s==W;Ue.prototype[e]=function(O){var A=this.clone();return A.__iteratees__.push({iteratee:Te(O,3),type:s}),A.__filtered__=A.__filtered__||d,A}}),Ft(["head","last"],function(e,t){var s="take"+(t?"Right":"");Ue.prototype[e]=function(){return this[s](1).value()[0]}}),Ft(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");Ue.prototype[e]=function(){return this.__filtered__?new Ue(this):this[s](1)}}),Ue.prototype.compact=function(){return this.filter(Ct)},Ue.prototype.find=function(e){return this.filter(e).head()},Ue.prototype.findLast=function(e){return this.reverse().find(e)},Ue.prototype.invokeMap=Ne(function(e,t){return typeof e=="function"?new Ue(this):this.map(function(s){return xr(s,e,t)})}),Ue.prototype.reject=function(e){return this.filter(ei(Te(e)))},Ue.prototype.slice=function(e,t){e=Re(e);var s=this;return s.__filtered__&&(e>0||t<0)?new Ue(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==i&&(t=Re(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},Ue.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ue.prototype.toArray=function(){return this.take(de)},en(Ue.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),d=/^(?:head|last)$/.test(t),O=C[d?"take"+(t=="last"?"Right":""):t],A=d||/^find/.test(t);!O||(C.prototype[t]=function(){var U=this.__wrapped__,x=d?[1]:arguments,H=U instanceof Ue,q=x[0],J=H||Ae(U),se=function(Le){var Be=O.apply(C,Je([Le],x));return d&&_e?Be[0]:Be};J&&s&&typeof q=="function"&&q.length!=1&&(H=J=!1);var _e=this.__chain__,be=!!this.__actions__.length,we=A&&!_e,Fe=H&&!be;if(!A&&J){U=Fe?U:new Ue(this);var Se=e.apply(U,x);return Se.__actions__.push({func:zo,args:[se],thisArg:i}),new xt(Se,_e)}return we&&Fe?e.apply(this,x):(Se=this.thru(se),we?d?Se.value()[0]:Se.value():Se)})}),Ft(["pop","push","shift","sort","splice","unshift"],function(e){var t=Oo[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",d=/^(?:pop|shift)$/.test(e);C.prototype[e]=function(){var O=arguments;if(d&&!this.__chain__){var A=this.value();return t.apply(Ae(A)?A:[],O)}return this[s](function(U){return t.apply(Ae(U)?U:[],O)})}}),en(Ue.prototype,function(e,t){var s=C[t];if(s){var d=s.name+"",O=Lr[d]||(Lr[d]=[]);O.push({name:t,func:s})}}),Lr[Xo(i,P).name]=[{name:"wrapper",func:i}],Ue.prototype.clone=dc,Ue.prototype.reverse=pc,Ue.prototype.value=fc,C.prototype.at=Xd,C.prototype.chain=Gd,C.prototype.commit=Wd,C.prototype.next=Kd,C.prototype.plant=$d,C.prototype.reverse=Yd,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=zd,C.prototype.first=C.prototype.head,Rr&&(C.prototype[Rr]=Qd),C},Eo=Xu();ot._=Eo,r=function(){return Eo}.call(n,u,n,S),r!==i&&(S.exports=r)}).call(this)},74272:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(f,c,h,y){function o(m){return m instanceof h?m:new h(function(a){a(m)})}return new(h||(h=Promise))(function(m,a){function l(I){try{g(y.next(I))}catch(P){a(P)}}function v(I){try{g(y.throw(I))}catch(P){a(P)}}function g(I){I.done?m(I.value):o(I.value).then(l,v)}g((y=y.apply(f,c||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultContentDownloadQueue=void 0;const i=u(23174),_=u(54007);class p{constructor(c,h){this.cancellationFns=new Map,this.downloadQueue=new _.BetterTaskQueue(c||1,0,null,h)}run(c,h){return r(this,void 0,void 0,function*(){let y;const o=new Promise((m,a)=>y=()=>{a(new i.DownloadCanceledError("Download canceled")),h.cancel()});this.cancellationFns.set(c,y);try{const m=this.downloadQueue.run(c,a=>r(this,void 0,void 0,function*(){yield h.run()}));yield Promise.race([m,o])}finally{yield this.downloadQueue.cancel(c),this.cancellationFns.delete(c)}})}cancel(c){var h;(h=this.cancellationFns.get(c))===null||h===void 0||h()}}n.DefaultContentDownloadQueue=p},93416:function(S,n,u){"use strict";var r=u(41317).Buffer,i=this&&this.__awaiter||function(y,o,m,a){function l(v){return v instanceof m?v:new m(function(g){g(v)})}return new(m||(m=Promise))(function(v,g){function I(E){try{R(a.next(E))}catch(T){g(T)}}function P(E){try{R(a.throw(E))}catch(T){g(T)}}function R(E){E.done?v(E.value):l(E.value).then(I,P)}R((a=a.apply(y,o||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultContentDownloader=n.LocalTmpPathTransformation=void 0;const _=u(76635),p=u(23174),f=u(54007);class c{constructor(o){this.resourceId=o}urlToPath(o){const m=o.split("/").slice(3).join("/");return this.pathToPath(m)}pathToPath(o){return["tmp",this.resourceId,o].join("/")}}n.LocalTmpPathTransformation=c;class h{constructor(o,m,a,l,v,g,I){var P;this.manifest=o,this.localContentHandler=m,this.remoteContentHandler=a,this.eventHandler=l,this.assetMap=new Map,this.cancellationPromise=new Promise((E,T)=>{this.cancellationFn=()=>T(new p.DownloadCanceledError("Download canceled"))});const R={taskStarted:(E,T)=>{var b;return(b=l==null?void 0:l.urlStarted)===null||b===void 0?void 0:b.call(l,this,T)},taskCompleted:(E,T,b)=>{var w;return(w=l==null?void 0:l.urlComplete)===null||w===void 0?void 0:w.call(l,this,T,b)}};this.downloadQueue=new f.BetterTaskQueue((I==null?void 0:I.concurrent)||3,(I==null?void 0:I.retries)||5,R,g),h.completionQueue=(P=h.completionQueue)!==null&&P!==void 0?P:new f.BetterTaskQueue(1,0,null,g),this.pathTransform=v!=null?v:new c(o.resourceId)}downloadAsset(o,m){return o.endsWith("zip")?this.remoteContentHandler.getZip(o,m,(l,v)=>{const g=this.pathTransform.pathToPath(l);return this.addToAssetMap(o,l),this.localContentHandler.putFile(g,v)}):this.remoteContentHandler.getFile(o,m,(l,v)=>{const g=this.pathTransform.urlToPath(o);return this.addToAssetMap(o),this.localContentHandler.putFile(g,v)})}mergeChecksums(o){return i(this,void 0,void 0,function*(){const m=yield this.localContentHandler.getChecksums();o=_.defaultsDeep({},o,m);const a=r.from(JSON.stringify(o)),l=this.pathTransform.pathToPath("checksums.json");yield this.localContentHandler.putFile(l,a)})}updateAssetmap(){return i(this,void 0,void 0,function*(){const o=Array.from(this.assetMap).map(m=>{const a=`assetmap-${m[0]}.json`;return m[1].assets.push(a),this.localContentHandler.putFile(this.pathTransform.pathToPath(a),r.from(JSON.stringify(m[1])))});yield Promise.all(o)})}addToAssetMap(o,m){const a=o.split("/"),l=a[0],v=a[1],g=a[2];if(g&&a.length>3){const I=m!=null?m:a.slice(3).join("/");this.assetMap.has(g)||this.assetMap.set(g,{unitId:g,variant:l,version:Number(v),assets:[]});const P=this.assetMap.get(g);P.assets.includes(I)||P.assets.push(I)}else{if(!this.assetMap.has("unknown")){let I=Number(v);isNaN(I)&&(I=0),this.assetMap.set("unknown",{unitId:g,variant:l,version:I,assets:[]})}this.assetMap.get("unknown").assets.push(m!=null?m:o)}}run(){var o,m,a,l;return i(this,void 0,void 0,function*(){const{urls:v,checksums:g}=this.manifest;try{yield(m=(o=this.eventHandler)===null||o===void 0?void 0:o.downloadStarted)===null||m===void 0?void 0:m.call(o,this);const P=v.map(R=>this.downloadQueue.run(R,E=>this.downloadAsset(R,E)));yield Promise.race([Promise.all(P),this.cancellationPromise])}catch(P){throw this.downloadQueue.kill(),yield(l=(a=this.eventHandler)===null||a===void 0?void 0:a.downloadComplete)===null||l===void 0?void 0:l.call(a,this,P),P}const I=(h.nextCompletionId++).toString();yield h.completionQueue.run(I,P=>i(this,void 0,void 0,function*(){var R,E;yield this.mergeChecksums(g),yield this.updateAssetmap(),yield(E=(R=this.eventHandler)===null||R===void 0?void 0:R.downloadComplete)===null||E===void 0?void 0:E.call(R,this)}))})}cancel(){var o;(o=this.cancellationFn)===null||o===void 0||o.call(this)}}n.DefaultContentDownloader=h,h.nextCompletionId=0},32826:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultContentUpdateHandler=n.PlatformFileSelector=void 0;class u{constructor(_){this.isWindows=_}getOSRelativeFile(_){return this.isWindows?_.windows:_.unix}}n.PlatformFileSelector=u;class r{constructor(_){this.relativeFileSelector=_}createLobbyUpdateManifest(_,p,f){var c,h,y;const o=(c=_==null?void 0:_.locales)===null||c===void 0?void 0:c[f],m=(h=p==null?void 0:p.locales)===null||h===void 0?void 0:h[f];if(m&&((y=o==null?void 0:o.lobby)===null||y===void 0?void 0:y.md5)!==m.lobby.md5){const a={locales:{[f]:{lobby:m.lobby}}};return{language:f,unitId:`lobby-${m.lobby.md5}`,resourceId:`lobby-${m.lobby.md5}`,urls:[m.lobby.url],checksums:a}}}createDocumentsUpdateManifest(_,p,f){var c,h,y;const o=(c=_==null?void 0:_.locales)===null||c===void 0?void 0:c[f],m=(h=p==null?void 0:p.locales)===null||h===void 0?void 0:h[f];if(m&&((y=o==null?void 0:o.documents)===null||y===void 0?void 0:y.md5)!==m.documents.md5){const a={locales:{[f]:{documents:m.documents}}};return{language:f,unitId:`documents-${m.documents.md5}`,resourceId:`documents-${m.documents.md5}`,urls:[m.documents.url],checksums:a}}}getLobbyUnits(_,p){const f=new Map;for(const c of _.locales[p])c.uid&&f.set(c.uid,c);return f}checkForUnitUpdates(_,p,f,c){var h,y;const o=(h=_==null?void 0:_.locales)===null||h===void 0?void 0:h[f],m=(y=p==null?void 0:p.locales)===null||y===void 0?void 0:y[f],a=[];for(const l of c){const v=o.units[l],g=m.units[l],I=g&&(v==null?void 0:v.md5)!==g.md5,P={unitId:l,localVersion:+(v==null?void 0:v.url.split("/")[1]),hasUpdate:I};a.push(P)}return a}createUnitUpdateManifest(_,p,f,c){var h,y,o,m,a,l,v,g;const I=(y=(h=_.locales)===null||h===void 0?void 0:h[f])===null||y===void 0?void 0:y.units[c],P=(m=(o=p.locales)===null||o===void 0?void 0:o[f])===null||m===void 0?void 0:m.units[c];if(!P)return;const R=[];P.md5!==(I==null?void 0:I.md5)&&R.push(P.url);for(const T of p.assets[c].videos){const b=this.relativeFileSelector.getOSRelativeFile(T);((l=(a=_.assets[c])===null||a===void 0?void 0:a.videos)===null||l===void 0?void 0:l.some(D=>{const L=this.relativeFileSelector.getOSRelativeFile(D);return L.url===b.url&&L.md5===b.md5}))||R.push(b.url)}p.assets[c].assets&&p.assets[c].assets.md5!==((g=(v=_.assets[c])===null||v===void 0?void 0:v.assets)===null||g===void 0?void 0:g.md5)&&R.push(p.assets[c].assets.url);const E={assets:{[c]:{assets:p.assets[c].assets,videos:p.assets[c].videos}},locales:{[f]:{units:{[c]:P}}}};return{language:f,unitId:c,resourceId:c,urls:R,checksums:E}}}n.DefaultContentUpdateHandler=r},15518:function(S,n,u){"use strict";var r=u(41317).Buffer,i=this&&this.__awaiter||function(y,o,m,a){function l(v){return v instanceof m?v:new m(function(g){g(v)})}return new(m||(m=Promise))(function(v,g){function I(E){try{R(a.next(E))}catch(T){g(T)}}function P(E){try{R(a.throw(E))}catch(T){g(T)}}function R(E){E.done?v(E.value):l(E.value).then(I,P)}R((a=a.apply(y,o||[])).next())})},_=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoggingLocalStorage=n.FileSystemStorage=void 0;const p=_(u(98770)),f=_(u(84371));class c{readJson(o,m){return new Promise(a=>{p.default.readFile(o,(l,v)=>{a(l?m:JSON.parse(v.toString()))})})}ensureDir(o){const m=f.default.dirname(o);return new Promise((a,l)=>{p.default.mkdir(m,{recursive:!0},v=>{v?l(v):a()})})}writeFile(o,m){return i(this,void 0,void 0,function*(){return new Promise((a,l)=>{p.default.writeFile(o,r.from(m),v=>{v?l(v):a()})})})}write(o,m){return i(this,void 0,void 0,function*(){yield this.ensureDir(o),yield this.writeFile(o,m)})}}n.FileSystemStorage=c;class h{constructor(o,m){this.logger=o,this.inner=m}readJson(o,m){return i(this,void 0,void 0,function*(){try{return this.logger.debug(`Reading '${o}' from localstorage`),yield this.inner.readJson(o,m)}catch(a){throw this.logger.debug(`Failed to read '${o}' from localstorage`,a),a}})}write(o,m){return i(this,void 0,void 0,function*(){try{this.logger.debug(`Writing '${o}' to localstorage`),yield this.inner.write(o,m)}catch(a){throw this.logger.debug(`Failed to write '${o}' to localstorage`,a),a}})}}n.LoggingLocalStorage=h},473:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.overrideUnitsInChecksums=n.defaultMultiVariantContentHandlerFactory=n.defaultSingleVariantContentHandlerFactory=void 0;const r=u(88769);function i(l){return typeof l=="string"?new r.PlainContentUrlProvider(l):new r.S3ContentUrlProvider(l)}function _(l){const v=i(l);return new r.HttpContentFetcher(v)}function p(l,v,g){return new r.DefaultRemoteContentHandler(l,v,_(g))}function f(l,v,g){const I=v?new r.MultiVariantContentPathRewriter(l):new r.SingleVariantContentPathRewriter,P=new r.DataBridgeContentStorage(g);return new r.DefaultLocalContentHandler(P,I)}function c(l){const v=new r.PlatformFileSelector(l);return new r.DefaultContentUpdateHandler(v)}function h(){return new r.DefaultContentDownloadQueue}function y(l,v){return(g,I)=>new r.DefaultContentDownloader(g,l,v,I)}function o(l,v,g,I,P){const R=f(l,!1,P),E=p(l,v,g);return{local:R,remote:E,updateHandler:c(I),downloadQueue:h(),createDownloader:y(R,E)}}n.defaultSingleVariantContentHandlerFactory=o;function m(l,v,g,I){const P=c(g),R={downloadQueue:h(),variant:{}};for(const{variant:E,maxVersion:T}of l){const b=f(E,!0,I),w=p(E,T||Number.MAX_SAFE_INTEGER,v);R.variant[E]={local:b,remote:w,updateHandler:P,createDownloader:y(b,w)}}return R}n.defaultMultiVariantContentHandlerFactory=m;const a=(l,v,g)=>{if(v)for(const I of g){l.assets[I]&&(v.assets[I]=l.assets[I]);for(const P of Object.entries(v.locales))l.locales[P[0]].units[I]&&(P[1].units[I]=l.locales[P[0]].units[I])}return v};n.overrideUnitsInChecksums=a},77582:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(h,y,o,m){function a(l){return l instanceof o?l:new o(function(v){v(l)})}return new(o||(o=Promise))(function(l,v){function g(R){try{P(m.next(R))}catch(E){v(E)}}function I(R){try{P(m.throw(R))}catch(E){v(E)}}function P(R){R.done?l(R.value):a(R.value).then(g,I)}P((m=m.apply(h,y||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.PlainContentUrlProvider=n.S3ContentUrlProvider=n.HttpContentFetcher=void 0;const i=u(81501),_="_/content-packs";class p{constructor(y,o){this.urlProvider=y,this.fetchImpl=o!=null?o:window.fetch.bind(window)}getData(y,o){return r(this,void 0,void 0,function*(){return(yield this.get(y,o)).arrayBuffer()})}getJson(y){return r(this,void 0,void 0,function*(){return yield(yield this.get(y)).json()})}get(y,o){return r(this,void 0,void 0,function*(){const m=this.urlProvider.getUrl(y),a=yield this.fetchImpl(m,{cache:"no-store",signal:o});if(a.status!==200)throw new Error(`An HTTP(${a.status}) error occured: ${a.statusText} for path: ${y} at url: ${m}`);return a})}}n.HttpContentFetcher=p;class f{constructor(y){this.bucketConfig=y}getUrl(y){const o=`/${_}/${y}`,m=this.bucketConfig;return i.signedS3Url({bucket:m.bucket,key:o,region:"eu-west-1",accessKeyId:m.accessKeyId,secretAccessKey:m.secretAccessKey})}}n.S3ContentUrlProvider=f;class c{constructor(y){this.baseUrl=y}getUrl(y){return`${this.baseUrl}/${_}/${y}`}}n.PlainContentUrlProvider=c},88769:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.overrideUnitsInChecksums=n.defaultMultiVariantContentHandlerFactory=n.defaultSingleVariantContentHandlerFactory=n.LoggingLocalStorage=n.FileSystemStorage=n.HttpContentFetcher=n.PlainContentUrlProvider=n.S3ContentUrlProvider=n.DefaultContentDownloadQueue=n.LocalTmpPathTransformation=n.DefaultContentDownloader=n.DefaultContentUpdateHandler=n.PlatformFileSelector=n.DefaultRemoteContentHandler=n.MultiVariantContentPathRewriter=n.SingleVariantContentPathRewriter=n.DataBridgeContentStorage=n.DefaultLocalContentHandler=n.DownloadCanceledError=void 0;var r=u(23174);Object.defineProperty(n,"DownloadCanceledError",{enumerable:!0,get:function(){return r.DownloadCanceledError}});var i=u(2573);Object.defineProperty(n,"DefaultLocalContentHandler",{enumerable:!0,get:function(){return i.DefaultLocalContentHandler}}),Object.defineProperty(n,"DataBridgeContentStorage",{enumerable:!0,get:function(){return i.DataBridgeContentStorage}}),Object.defineProperty(n,"SingleVariantContentPathRewriter",{enumerable:!0,get:function(){return i.SingleVariantContentPathRewriter}}),Object.defineProperty(n,"MultiVariantContentPathRewriter",{enumerable:!0,get:function(){return i.MultiVariantContentPathRewriter}});var _=u(18367);Object.defineProperty(n,"DefaultRemoteContentHandler",{enumerable:!0,get:function(){return _.DefaultRemoteContentHandler}});var p=u(32826);Object.defineProperty(n,"PlatformFileSelector",{enumerable:!0,get:function(){return p.PlatformFileSelector}}),Object.defineProperty(n,"DefaultContentUpdateHandler",{enumerable:!0,get:function(){return p.DefaultContentUpdateHandler}});var f=u(93416);Object.defineProperty(n,"DefaultContentDownloader",{enumerable:!0,get:function(){return f.DefaultContentDownloader}}),Object.defineProperty(n,"LocalTmpPathTransformation",{enumerable:!0,get:function(){return f.LocalTmpPathTransformation}});var c=u(74272);Object.defineProperty(n,"DefaultContentDownloadQueue",{enumerable:!0,get:function(){return c.DefaultContentDownloadQueue}});var h=u(77582);Object.defineProperty(n,"S3ContentUrlProvider",{enumerable:!0,get:function(){return h.S3ContentUrlProvider}}),Object.defineProperty(n,"PlainContentUrlProvider",{enumerable:!0,get:function(){return h.PlainContentUrlProvider}}),Object.defineProperty(n,"HttpContentFetcher",{enumerable:!0,get:function(){return h.HttpContentFetcher}});var y=u(15518);Object.defineProperty(n,"FileSystemStorage",{enumerable:!0,get:function(){return y.FileSystemStorage}}),Object.defineProperty(n,"LoggingLocalStorage",{enumerable:!0,get:function(){return y.LoggingLocalStorage}});var o=u(473);Object.defineProperty(n,"defaultSingleVariantContentHandlerFactory",{enumerable:!0,get:function(){return o.defaultSingleVariantContentHandlerFactory}}),Object.defineProperty(n,"defaultMultiVariantContentHandlerFactory",{enumerable:!0,get:function(){return o.defaultMultiVariantContentHandlerFactory}}),Object.defineProperty(n,"overrideUnitsInChecksums",{enumerable:!0,get:function(){return o.overrideUnitsInChecksums}})},2573:function(S,n){"use strict";var u=this&&this.__awaiter||function(c,h,y,o){function m(a){return a instanceof y?a:new y(function(l){l(a)})}return new(y||(y=Promise))(function(a,l){function v(P){try{I(o.next(P))}catch(R){l(R)}}function g(P){try{I(o.throw(P))}catch(R){l(R)}}function I(P){P.done?a(P.value):m(P.value).then(v,g)}I((o=o.apply(c,h||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultLocalContentHandler=n.DataBridgeContentStorage=n.MultiVariantContentPathRewriter=n.SingleVariantContentPathRewriter=void 0;const r="content";class i{constructor(h){this.pathPrefix=h!=null?h:r}rewrite(h,y){const o=[...h,y];return`${this.pathPrefix}/${o.join("/")}`}}n.SingleVariantContentPathRewriter=i;class _{constructor(h,y){this.variant=h,this.innerRewriter=new i(y)}rewrite(h,y){return y=y==="lobby.json"?`lobby-${this.variant}.json`:y,y=y==="checksums.json"?`checksums-${this.variant}.json`:y,this.innerRewriter.rewrite(h,y)}}n.MultiVariantContentPathRewriter=_;class p{constructor(h){this.dataBridge=h}readJson(h,y){return this.dataBridge.getJson(h,y)}write(h,y){return u(this,void 0,void 0,function*(){const o=new FormData,m=h.endsWith(".json")?{type:"application/json"}:{};o.append("file",new Blob([y],m)),yield this.dataBridge.postData(h,o)})}}n.DataBridgeContentStorage=p;class f{constructor(h,y){this.storage=h,this.pathRewriter=y}getPath(h,y){return this.pathRewriter.rewrite(h,y)}getChecksums(){return u(this,void 0,void 0,function*(){const h=this.getPath([],"checksums.json"),y={assets:{},locales:{}};return this.storage.readJson(h,y)})}getLobby(){const h=this.getPath([],"lobby.json");return this.storage.readJson(h)}putFile(h,y){return u(this,void 0,void 0,function*(){const[o,...m]=h.split("/").reverse(),a=this.getPath(m.reverse(),o);return this.storage.write(a,y)})}}n.DefaultLocalContentHandler=f},23174:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DownloadCanceledError=void 0;class u extends Error{constructor(i){super(i);this.name="DownloadCanceledError"}}n.DownloadCanceledError=u},18367:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(f,c,h,y){function o(m){return m instanceof h?m:new h(function(a){a(m)})}return new(h||(h=Promise))(function(m,a){function l(I){try{g(y.next(I))}catch(P){a(P)}}function v(I){try{g(y.throw(I))}catch(P){a(P)}}function g(I){I.done?m(I.value):o(I.value).then(l,v)}g((y=y.apply(f,c||[])).next())})},i=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultRemoteContentHandler=void 0;const _=i(u(92420));class p{constructor(c,h,y){this.variant=c,this.maxVersion=h,this.dataFetcher=y}getVersion(){return r(this,void 0,void 0,function*(){const c=yield this.dataFetcher.getJson(`${this.variant}/current_version.txt`);return Math.min(c,this.maxVersion)})}getChecksums(c){return this.dataFetcher.getJson(`${this.variant}/${c}/checksums.json`)}getZip(c,h,y){return r(this,void 0,void 0,function*(){const o=yield this.dataFetcher.getData(c,h),m=yield _.default.loadAsync(o);for(const a of Object.keys(m.files)){const l=m.files[a],v=yield l.async("arraybuffer");yield y(l.name,v)}})}getFile(c,h,y){return r(this,void 0,void 0,function*(){const o=yield this.dataFetcher.getData(c,h);yield y(c,o)})}}n.DefaultRemoteContentHandler=p},81501:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.signedS3Url=void 0;const r=u(27501),i=new TextEncoder,_=o=>i.encode(o),p=o=>("00"+o).slice(-2),f=o=>{const m=o.getUTCFullYear(),a=p(o.getUTCMonth()+1),l=p(o.getUTCDate()),v=m+a+l,g=p(o.getUTCHours()),I=p(o.getUTCMinutes()),P=p(o.getUTCSeconds());return[v,v+"T"+g+I+P+"Z"]},c=(o,m)=>`${o}/${m}/s3/aws4_request`,h=o=>Array.from(o).map(m=>p(m.toString(16))).join(""),y=o=>{const m=`${o.bucket}.s3.${o.domain?o.domain:"amazonaws.com"}`,[a,l]=f(new Date),v=c(a,o.region),g=`X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=${encodeURIComponent(`${o.accessKeyId}/${v}`)}&X-Amz-Date=${l}&X-Amz-Expires=86400&X-Amz-SignedHeaders=host`,I=`GET
${o.key}
${g}
host:${m}

host
UNSIGNED-PAYLOAD`,P=h(r.hash(_(I))),R=`AWS4-HMAC-SHA256
${l}
${v}
${P}`,E=r.hmac(_(`AWS4${o.secretAccessKey}`),_(a)),T=r.hmac(E,_(o.region)),b=r.hmac(T,_("s3")),w=r.hmac(b,_("aws4_request")),D=h(r.hmac(w,_(R)));return`https://${m}${o.key}?${g}&X-Amz-Signature=${D}`};n.signedS3Url=y},54007:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(h,y,o,m){function a(l){return l instanceof o?l:new o(function(v){v(l)})}return new(o||(o=Promise))(function(l,v){function g(R){try{P(m.next(R))}catch(E){v(E)}}function I(R){try{P(m.throw(R))}catch(E){v(E)}}function P(R){R.done?l(R.value):a(R.value).then(g,I)}P((m=m.apply(h,y||[])).next())})},i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(n,"__esModule",{value:!0}),n.BetterTaskQueue=n.TaskCanceledError=void 0;const _=i(u(84158)),p=i(u(32723));class f extends Error{constructor(y){super(y);this.name="TaskCanceledError"}}n.TaskCanceledError=f;class c{constructor(y,o,m,a){this.eventHandler=m,this.running=new Set,this.abortControllerFactory=a!=null?a:()=>new AbortController,this.queue=new _.default((l,v)=>{const g=this.abortControllerFactory();return this.running.add(l.id),(()=>r(this,void 0,void 0,function*(){var P,R,E,T,b,w;yield(R=(P=this.eventHandler)===null||P===void 0?void 0:P.taskStarted)===null||R===void 0?void 0:R.call(P,this,l.id);try{yield l.action(g.signal)}catch(D){throw yield(T=(E=this.eventHandler)===null||E===void 0?void 0:E.taskCompleted)===null||T===void 0?void 0:T.call(E,this,l.id,D),D}yield(w=(b=this.eventHandler)===null||b===void 0?void 0:b.taskCompleted)===null||w===void 0?void 0:w.call(b,this,l.id)}))().then(v).catch(v).finally(()=>{this.running.delete(l.id)}),{cancel:()=>{g.abort()}}},{store:new p.default,concurrent:y||1,maxRetries:o||0,setImmediate:setTimeout.bind(null)})}run(y,o){return new Promise((m,a)=>this.queue.push({id:y,action:o}).on("finish",m).on("failed",l=>{a(l==="cancelled"?new f("Task cancelled"):l)}))}kill(){return r(this,void 0,void 0,function*(){const y=Array.from(this.running.values(),o=>this.cancel(o));yield Promise.all(y),yield new Promise(o=>this.queue.destroy(o))})}cancel(y){return r(this,void 0,void 0,function*(){return new Promise(o=>{this.queue.cancel(y,o)})})}}n.BetterTaskQueue=c},15454:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.await_=n.keywordArgument=n.methodCall=n.functionCall=void 0;const r=u(3827),i=u(19184);n.functionCall=(_,p,f)=>({args:p,callee:typeof _=="string"?r.id(_):_,expr:"functionCall",stmt:"functionCall",type:f===void 0?"raw":f}),n.methodCall=(_,p,f,c)=>({args:f,callee:i.property(_,p),expr:"functionCall",stmt:"functionCall",type:c===void 0?"raw":c}),n.keywordArgument=(_,p)=>({argument:p,keyword:_,type:"keywordArgument"}),n.await_=(_,p="raw")=>({stmt:"await",expr:"await",type:p,target:_})},49994:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forComprehension=n.mkUnaryOperator=n.mkBinaryOperator=n.ternaryIf=n.inRangeExpression=n.unpack=n.tupleLiteral=n.listLiteral=n.booleanConstant=n.integerConstant=n.numberConstant=n.stringConstant=n.rawExpression=void 0;const r=u(3827);n.rawExpression=i=>({expr:"raw",type:"raw",value:String(i)}),n.stringConstant=i=>({expr:"stringConstant",type:"string",value:i}),n.numberConstant=i=>({expr:"numberConstant",type:"number",value:i}),n.integerConstant=i=>({expr:"integerConstant",type:"number",value:i}),n.booleanConstant=i=>({expr:"booleanConstant",type:"boolean",value:i}),n.listLiteral=i=>({expr:"listLiteral",type:"list",value:i}),n.tupleLiteral=i=>({expr:"tupleLiteral",type:"tuple",value:i}),n.unpack=i=>({expr:"unpackOperator",type:"unpack",value:i}),n.inRangeExpression=(i,_,p,f=!1)=>({args:[i,_,p],expr:"ternaryOperator",op1:"<=",op2:f?"<=":"<",type:"boolean",addSpace:!1}),n.ternaryIf=(i,_,p)=>({args:[_,i,p],expr:"ternaryOperator",op1:"if",op2:"else",type:"raw",addSpace:!0}),n.mkBinaryOperator=(i,_,p=!1)=>(f,c)=>({expr:"binaryOperator",lhs:f,op:i,rhs:c,type:_,addSpace:p}),n.mkUnaryOperator=(i,_,p=!0)=>f=>({addSpace:p,expr:"unaryOperator",op:i,type:_,value:f}),n.forComprehension=(i,_,p)=>({body:i,expr:"forComprehension",iterator:p,variable:r.id(_)})},61782:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNotNone=n.isNone=n.floor=n.tickMsLiteral=n.TICK_MS=n.noop=n.emptyString=n.noneIdentifier=n.falseLiteral=n.trueLiteral=n.vmListMethod=n.vmList=void 0;const r=u(64497),i=u(31347),_=u(3827),p=u(49994),f=u(19184),c=u(35058),h=u(15454);n.vmList=y=>_.dictAccessor("vm.lists",_.stringConstant(i.escapeVariableName(y))),n.vmListMethod=(y,o,m=[])=>h.methodCall("vm.lists",`list_${y}`,[_.stringConstant(i.escapeVariableName(o)),...m]),n.trueLiteral=p.booleanConstant(!0),n.falseLiteral=p.booleanConstant(!1),n.noneIdentifier=f.id("None"),n.emptyString=_.stringConstant(""),n.noop=()=>[],n.TICK_MS=0,n.tickMsLiteral=p.integerConstant(n.TICK_MS),n.floor=y=>r.isConstantExpression(y)&&y.type==="number"?p.integerConstant(Math.floor(y.value)):_.functionCall("int",[y]),n.isNone=y=>c.isExpression(y,n.noneIdentifier),n.isNotNone=y=>c.isNotExpression(y,n.noneIdentifier)},19184:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.property=n.dictAccessor=n.listAccessor=n.id=void 0,n.id=(r,i)=>typeof r=="string"?{expr:"simpleIdentifier",idnt:"simpleIdentifier",type:i===void 0?"string":i,value:r}:r;const u=r=>typeof r=="string"?n.id(r):r;n.listAccessor=(r,i,_="string")=>({expr:"listAccessor",idnt:"listAccessor",index:typeof i=="number"?n.id(String(i)):i,list:u(r),type:_}),n.dictAccessor=(r,i,_="string")=>({dict:u(r),expr:"dictAccessor",idnt:"dictAccessor",index:typeof i=="string"?n.id(i):i,type:_}),n.property=(r,i)=>({expr:"property",idnt:"property",property:n.id(i),target:typeof r=="string"?n.id(r):r})},3827:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(p,f,c,h){h===void 0&&(h=c),Object.defineProperty(p,h,{enumerable:!0,get:function(){return f[c]}})}:function(p,f,c,h){h===void 0&&(h=c),p[h]=f[c]}),i=this&&this.__exportStar||function(p,f){for(var c in p)c!=="default"&&!f.hasOwnProperty(c)&&r(f,p,c)};Object.defineProperty(n,"__esModule",{value:!0}),n.lValue=n.isExpressionValueType=void 0;const _=u(19184);i(u(15454),n),i(u(49994),n),i(u(61782),n),i(u(19184),n),i(u(81402),n),i(u(94056),n),n.isExpressionValueType=p=>["string","number","boolean"].includes(p),n.lValue=p=>typeof p=="string"?_.id(p):p},35058:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unaryMinusExpression=n.notExpression=n.stringConcatExpression=n.inExpression=n.isNotExpression=n.isExpression=n.andExpression=n.orExpression=n.notEqualsExpression=n.equalsExpression=n.greaterThanOrEqualExpression=n.greaterThanExpression=n.lessThanOrEqualExpression=n.lessThanExpression=n.modulusExpression=n.powerExpression=n.divideExpression=n.multiplyExpression=n.subtractExpression=n.addExpression=void 0;const r=u(64497),i=u(31347),_=u(3827),p=u(49994),f=(m,a)=>(l,v)=>r.isConstantExpression(l)&&r.isConstantExpression(v)?p.booleanConstant(a(i.Cast.compare(l.value,v.value),0)):_.mkBinaryOperator(m,"boolean")(l,v),c=m=>m.type==="number"?m.value:i.Cast.toNumber(m.value),h=(m,a,l)=>(v,g)=>{if(r.isConstantExpression(v)&&r.isConstantExpression(g)){const I=c(v),P=c(g);return _.numberConstant(a(I,P))}if(l){if(!l.onlyRight&&r.isConstantExpression(v)){const I=c(v);if(I===l.identity)return g;if(l.zero&&I===0)return _.numberConstant(0)}if(r.isConstantExpression(g)){const I=c(g);if(I===l.identity)return v;if(l.zero&&I===0)return _.numberConstant(0)}}return _.mkBinaryOperator(m,"number")(v,g)},y=m=>m.type==="boolean"?m.value:i.Cast.toBoolean(m.value),o=(m,a,l)=>(v,g)=>{if(r.isConstantExpression(v)&&r.isConstantExpression(g)){const I=v.type==="boolean"?v.value:i.Cast.toBoolean(v.value),P=g.type==="boolean"?g.value:i.Cast.toBoolean(g.value);return p.booleanConstant(a(I,P))}if(l&&l.identity!==void 0){if(r.isConstantExpression(v)){const I=y(v);return I===l.identity?g:p.booleanConstant(I)}if(r.isConstantExpression(g)){const I=y(g);return I===l.identity?v:p.booleanConstant(I)}}return _.mkBinaryOperator(m,"boolean",!0)(v,g)};n.addExpression=h("+",(m,a)=>m+a,{identity:0}),n.subtractExpression=h("-",(m,a)=>m-a,{identity:0,onlyRight:!0}),n.multiplyExpression=h("*",(m,a)=>m*a,{identity:1,zero:!0}),n.divideExpression=h("/",(m,a)=>m/a,{identity:1,onlyRight:!0}),n.powerExpression=h("**",(m,a)=>Math.pow(m,a)),n.modulusExpression=h("%",(m,a)=>m%a),n.lessThanExpression=f("<",(m,a)=>m<a),n.lessThanOrEqualExpression=f("<=",(m,a)=>m<=a),n.greaterThanExpression=f(">",(m,a)=>m>a),n.greaterThanOrEqualExpression=f(">=",(m,a)=>m>=a),n.equalsExpression=f("==",(m,a)=>m===a),n.notEqualsExpression=f("!=",(m,a)=>m!==a),n.orExpression=o("or",(m,a)=>m||a,{identity:!1}),n.andExpression=o("and",(m,a)=>m&&a,{identity:!0}),n.isExpression=_.mkBinaryOperator("is","boolean",!0),n.isNotExpression=_.mkBinaryOperator("is not","boolean",!0),n.inExpression=_.mkBinaryOperator("in","boolean",!0),n.stringConcatExpression=(m,a)=>{if(r.isConstantExpression(m)&&r.isConstantExpression(a)){const l=m.type==="string"?m.value:i.Cast.toString(m.value),v=a.type==="string"?a.value:i.Cast.toString(a.value);return p.stringConstant(l+v)}return _.mkBinaryOperator("+","string")(m,a)},n.notExpression=m=>r.isConstantExpression(m)&&m.type==="boolean"?p.booleanConstant(!m.value):m.expr==="unaryOperator"&&m.op==="not"?m.value:p.mkUnaryOperator("not","boolean")(m),n.unaryMinusExpression=m=>r.isConstantExpression(m)&&m.type==="number"?_.numberConstant(-m.value):m.expr==="unaryOperator"&&m.op==="-"?m.value:p.mkUnaryOperator("-","number",!1)(m)},81402:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exprOnlySnippet=n.snippet=void 0,n.snippet=(u,r)=>({expression:r,statements:u,fromInput:!1}),n.exprOnlySnippet=u=>n.snippet([],u)},94056:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.expressionStatement=n.break_=n.pass=n.try_=n.global_=n.nonlocal=n.del=n.for_=n.if_=n.return_=n.while_=n.assignment=n.asyncFunctionDefinition=n.functionDefinition=n.import_=n.yield_=n.emptyLine=n.comment_=n.rawStatement=void 0;const r=u(3827);n.rawStatement=(i,_)=>({indent:_,stmt:"raw",value:i}),n.comment_=i=>({stmt:"comment",value:i}),n.emptyLine={stmt:"emptyLine"},n.yield_=i=>({duration:i,stmt:"yield"}),n.import_=(i,_)=>_===void 0?{module:i,names:void 0,stmt:"import"}:{module:i,names:_,stmt:"import"},n.functionDefinition=(i,_,p)=>({args:_,async:!1,body:p.length===0||p.every(f=>f.stmt==="comment")?[...p,n.pass]:p,name:i,stmt:"functionDefinition"}),n.asyncFunctionDefinition=(i,_,p)=>({args:_,async:!0,body:p.length===0||p.every(f=>f.stmt==="comment")?[...p,n.pass]:p,name:i,stmt:"functionDefinition"}),n.assignment=(i,_)=>({lhs:r.lValue(i),rhs:_,stmt:"assignment"}),n.while_=(i,_)=>({body:_,cond:i,stmt:"while"}),n.return_=(i=void 0)=>({stmt:"return",value:i}),n.if_=(i,_,p)=>({cond:i,elseBody:p||[],ifBody:_,stmt:"if"}),n.for_=(i,_,p)=>({body:p,iterator:_,stmt:"for",variable:r.id(i)}),n.del=i=>({keyword:"del",stmt:"keyword",target:i}),n.nonlocal=i=>({keyword:"nonlocal",stmt:"keyword",target:i}),n.global_=i=>({keyword:"global",stmt:"keyword",target:i}),n.try_=(i,_,p)=>({exceptBody:p,exception:_,stmt:"try",tryBody:i}),n.pass={stmt:"pass"},n.break_={stmt:"break"},n.expressionStatement=i=>({stmt:"expression",expression:i})},79028:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeComparison=n.joinListContents=n.assignPlusOne=n.assignMinusOne=n.plusOne=n.minusOne=n.combineSnippets=n.validListIndex=void 0;const r=u(3827),i=u(35058),_=u(91439);n.validListIndex=(p,f)=>{const c=r.functionCall("len",[p]),h=typeof f=="number"?r.integerConstant(f):f;return r.inRangeExpression(r.integerConstant(0),h,c)},n.combineSnippets=(p,f,c)=>r.snippet([...f.statements,...c.statements],p(f.expression,c.expression)),n.minusOne=p=>i.subtractExpression(p,r.integerConstant(1)),n.plusOne=p=>i.addExpression(p,r.integerConstant(1)),n.assignMinusOne=(p,f)=>r.assignment(p,n.minusOne(f)),n.assignPlusOne=(p,f)=>r.assignment(p,n.plusOne(f)),n.joinListContents=(p,f)=>{f.markListUsed(p);const c=r.id(f.generateName("contents")),h=r.id(f.generateName("x")),y=r.id(f.generateName("i")),o=r.functionCall("isinstance",[h,r.id("str")]),m=i.equalsExpression(r.functionCall("len",[h]),r.integerConstant(1)),a=i.andExpression(o,m);return r.snippet([r.if_(r.functionCall("all",[r.forComprehension(a,h,r.vmList(p))]),[r.assignment(c,r.functionCall('"".join',[r.vmList(p)]))],[r.assignment(c,r.functionCall('" ".join',[r.forComprehension(r.functionCall("str",[y]),y,r.vmList(p))]))])],c)},n.makeComparison=p=>{switch(p){case"<":return i.lessThanExpression;case"=":return i.equalsExpression;case">":return i.greaterThanExpression;default:throw new _.InvalidFieldError("COMPARATOR")}}},49318:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.boostPackages=void 0;const r=u(78182),i=u(11610);n.boostPackages=[r.visionPackage,i.simpleLightPackage]},11610:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.simpleLightPackage=void 0;const r=u(3827),i=u(35058),_=u(31347),p=u(16240),f=y=>(o,m)=>{m.import("hub"),m.import("util.sensors","is_type");const a=m.compileStringInput(o,"PORT"),l=_.clamp(y.expression,0,100,m,!0),v=r.id(m.generateName("port")),g=(I,P,R)=>[r.assignment(I,r.functionCall("getattr",[r.id("hub.port"),P,r.noneIdentifier])),r.if_(i.andExpression(v,r.functionCall("is_type",[P,r.integerConstant(p.SensorType.SimpleLight)])),R)];return[...a.statements,...g(v,a.expression,[...y.statements,r.methodCall(v,"pwm",[l])])]},c=(y,o)=>{const m=o.compileNumberInput(y,"BRIGHTNESS");return f(m)(y,o)},h=f(r.exprOnlySnippet(r.numberConstant(0)));n.simpleLightPackage={expressions:{"simple-light-sensor-selector":p.stringMenu("simple-light-sensor-selector")},stackInfo:{},statements:{simpleLightTurnOn:c,simpleLightTurnOff:h}}},78182:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.visionPackage=void 0;const r=u(79905),i=u(3827),_=u(35058),p=u(64497),f=u(16240),c=u(79028),h=u(31347),y=u(91439);var o;(function(re){re[re.Color=0]="Color",re[re.Reflectivity=1]="Reflectivity",re[re.Distance=2]="Distance",re[re.Led=8]="Led"})(o||(o={}));const m=-2,a=i.integerConstant(-1),l=i.integerConstant(0),v=i.integerConstant(10),g=i.integerConstant(0),I=f.externalSensor(o.Color,a,[f.SensorType.BoostVision],!1),P=(re,le)=>{const oe=le.compileNumberInput(re,"VALUE"),X=I(re,le);if(p.isConstantExpression(oe.expression)){const F=r.toNumber(oe.expression.value);return i.snippet([...oe.statements,...X.statements],_.equalsExpression(X.expression,i.numberConstant(F)))}else{const F=i.id(le.generateName("option"));return i.snippet([...oe.statements,...X.statements,i.assignment(F,oe.expression)],_.equalsExpression(F,X.expression))}},R=f.externalSensor(o.Reflectivity,l,[f.SensorType.BoostVision],!1),E=(re,le)=>{const[oe]=re.fields.COMPARATOR,X=le.compileNumberInput(re,"VALUE"),F=R(re,le),B=c.makeComparison(oe)(F.expression,X.expression);return i.snippet([...X.statements,...F.statements],B)},T=(re,le)=>{const oe=le.compileStringInput(re,"PORT"),X=f.externalSensor(o.Distance,v,[f.SensorType.BoostVision],!0)(re,le),F=i.id(le.generateName("sensor_value"),"number");return i.snippet([...oe.statements,...X.statements,i.assignment(F,X.expression),i.assignment(F,i.ternaryIf(i.isNone(F),_.multiplyExpression(i.numberConstant(10),v),_.multiplyExpression(i.numberConstant(10),F)))],F)},b=(re,le)=>{const[oe]=re.fields.COMPARATOR,X=le.compileNumberInput(re,"VALUE"),F=T(re,le),B=c.makeComparison(oe)(F.expression,X.expression);return i.snippet([...X.statements,...F.statements],B)},w=(re,le)=>{le.import("hub"),le.import("util.scratch",["percent_to_int","to_number"]),le.import("util.sensors","is_type");const oe=le.compileStringInput(re,"PORT"),X=le.compileNumberInput(re,"COLOR"),F=h.clamp(X.expression,0,10,le,!0),B=i.id(le.generateName("port")),W=(ce,te,K)=>[i.assignment(ce,i.functionCall("getattr",[i.id("hub.port"),te,i.noneIdentifier])),i.if_(_.andExpression(i.functionCall("getattr",[ce,i.stringConstant("device"),i.noneIdentifier]),i.functionCall("is_type",[te,i.integerConstant(f.SensorType.BoostVision)])),K)];return[...oe.statements,...W(B,oe.expression,[...X.statements,i.methodCall(B,"device.mode",[i.integerConstant(o.Led),i.functionCall("bytes",[i.listLiteral([i.numberConstant(0),i.numberConstant(0),F,i.numberConstant(0)])])])])]},D=(re,le)=>{switch(le){case"color":return[re,i.integerConstant(o.Color),a,f.allowedTypeLiteral(f.SensorType.BoostVision),g];default:throw new y.CompileError(`Can't generate whenChangedArgs for sensor type ${le}`)}},L=(re,le)=>{const oe=le.compileStringInput(re,"PORT"),X=le.compileNumberInput(re,"OPTION"),F=I(re,le),B=le.compileStatement(le.getNext(re)),W=_.equalsExpression(X.expression,F.expression),ce=i.snippet(F.statements,W),te=i.id(le.generateName("stack_condition_generator")),K=i.snippet([...oe.statements,i.global_(te),i.if_(_.equalsExpression(te,i.noneIdentifier),[i.assignment(te,i.functionCall("vm.system.callbacks.custom_sensor_callbacks.did_change",D(oe.expression,"color")))]),i.if_(i.functionCall("next",[te]),[i.assignment(te,i.noneIdentifier),i.return_(i.trueLiteral)])],i.falseLiteral);if(p.isConstantExpression(X.expression)){let de;switch(X.expression.value){case m:de=K;break;default:de=ce}return[...X.expression.value===m?[i.assignment(te,i.noneIdentifier)]:[],...h.waitForConditionStack(re.id,i.snippet([...oe.statements,...X.statements,...de.statements],de.expression),B,le)]}const ee=i.id(le.generateName("option"));return[i.assignment(te,i.noneIdentifier),...h.waitForConditionStack(re.id,i.snippet([...oe.statements,...X.statements,...ce.statements,i.assignment(ee,X.expression),i.if_(_.equalsExpression(ee,i.numberConstant(m)),[...K.statements,i.return_(K.expression)])],ce.expression),B,le)]},$=(re,le)=>{const oe=le.compileNumberInput(re,"VALUE"),[X]=re.fields.COMPARATOR,F=le.compileStatement(le.getNext(re)),B=T(re,le),W=c.makeComparison(X)(B.expression,oe.expression),ce=i.snippet([...B.statements,...oe.statements],W);return h.waitForConditionStack(re.id,ce,F,le)};n.visionPackage={expressions:{boostVisionColor:I,boostVisionIsColor:P,boostVisionReflectivity:R,boostVisionIsReflectivity:E,boostVisionDistance:T,boostVisionIsDistance:b,"boost-vision-sensor-selector":f.stringMenu("boost-vision-sensor-selector"),"boost-vision-color-selector":f.integerMenu("boost-vision-color-selector"),"boost-vision-color-selector-vertical":f.integerMenu("boost-vision-color-selector-vertical")},stackInfo:{boostVisionWhenColor:{restartExistingThreads:!1},boostVisionWhenDistance:{restartExistingThreads:!1}},statements:{boostVisionLed:w,boostVisionWhenColor:L,boostVisionWhenDistance:$}}},88973:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.control=void 0;const r=u(3827),i=u(31347),_=u(64497),p=u(35058),f="CONDITION",c="SUBSTACK",h="SUBSTACK2",y="VALUE",o=(w,D)=>{const L=D.compileNumberInput(w,"DURATION"),$=p.multiplyExpression(L.expression,r.numberConstant(1e3));return[...L.statements,i.sleep(i.clamp($,0,24*60*60*1e3,D,!0))]},m=(w,D)=>{if(!i.hasInput(w,f)||!i.hasInput(w,c))return[];const L=D.compileBooleanInput(w,f),$=D.getInputBlock(w,c);return _.isConstantExpression(L.expression)&&L.expression.type==="boolean"?L.expression.value?[...L.statements,...D.compileStatement($)]:[]:[...L.statements,r.if_(L.expression,D.compileStatement($))]},a=(w,D)=>{if(!i.hasInput(w,f))return[];const L=!i.hasInput(w,c),$=!i.hasInput(w,h);if(L&&$)return[];const re=D.compileBooleanInput(w,f),le=D.getInputBlock(w,c),oe=D.getInputBlock(w,h);if(_.isConstantExpression(re.expression)&&re.expression.type==="boolean")return re.expression.value?L?[]:[...re.statements,...D.compileStatement(le)]:$?[]:[...re.statements,...D.compileStatement(oe)];const X=D.compileStatement(le),F=D.compileStatement(oe);if(L){const B=p.notExpression(re.expression);return[...re.statements,r.if_(B,F)]}return[...re.statements,r.if_(re.expression,X,F)]},l=(w,D)=>{if(!i.hasInput(w,f))return[];const L=D.compileBooleanInput(w,f);return[r.while_(r.trueLiteral,[...L.statements,r.if_(L.expression,[r.break_]),i.sleep(r.tickMsLiteral)])]},v=(w,D)=>{const L=D.compileStatement(D.getInputBlock(w,c));if(L.length===0)return[r.yield_()];const $=L[L.length-1];return $&&!($.stmt==="yield"||$.stmt==="await")&&L.push(r.yield_()),L},g=(w,D)=>[r.while_(r.booleanConstant(!0),v(w,D))],I=(w,D)=>{const L=D.compileNumberInput(w,"TIMES");return[...L.statements,r.for_("_",r.functionCall("range",[i.clamp(L.expression,0,Math.pow(2,32),D)]),v(w,D))]},P=(w,D)=>{if(!i.hasInput(w,f))return[];const L=D.compileBooleanInput(w,f);if(L.statements.length===0)return[r.while_(p.notExpression(L.expression),v(w,D))];{const $=D.generateName("cond");return[r.functionDefinition($,[],[...L.statements,r.return_(L.expression)]),r.while_(p.notExpression(r.functionCall($,[])),v(w,D))]}},R=r.if_(r.functionCall("hasattr",[r.id("vm"),r.stringConstant("reset_devices")]),[r.methodCall("vm","reset_devices",[])]),E=(w,D)=>{const[L]=w.fields.STOP_OPTION;return L==="all"?[R,r.methodCall("vm","stop_stacks",[]),r.while_(r.trueLiteral,[r.yield_()])]:L==="program"?[r.methodCall("vm","stop",[])]:L==="other stacks"?[r.methodCall("vm","stop_stacks",[r.keywordArgument("except_stack",r.id("stack"))])]:[r.methodCall("stack","stop",[]),r.while_(r.trueLiteral,[r.yield_()])]},T=()=>[R,r.methodCall("vm","stop_stacks",[r.keywordArgument("except_stack",r.id("stack"))])],b=(w,D)=>{D.import("protocol.notifications","notify_debug");const L=i.hasInput(w,y)?D.compileBooleanInput(w,y):r.exprOnlySnippet(r.falseLiteral),$=D.generateName("cond"),re=_.isConstantExpression(L.expression),le=re?L.expression:r.id($),oe=re?[]:[r.assignment($,L.expression)],X=re?L.expression.value===!1?[r.methodCall("vm","stop",[])]:[]:[r.if_(p.notExpression(le),[r.methodCall("vm","stop",[])])];return[...L.statements,...oe,r.functionCall("notify_debug",[le,r.id("stack.stackid"),r.id("vm.target_name")]),...X]};n.control={statements:{control_repeat:I,control_repeat_until:P,control_forever:g,control_if:m,control_if_else:a,control_wait:o,control_wait_until:l,stopOtherStacks:T,stop:E,assert:b}}},29280:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.data=void 0;const r=u(3827),i=u(31347),_=u(64497),p=u(35058),f=u(79028),c=(T,b)=>{const[w]=T.fields.VARIABLE;return r.exprOnlySnippet(i.getVmVariable(w,"string",b))},h=(T,b)=>{const[w]=T.fields.VARIABLE,D=b.compileExpressionInput(T,"VALUE","string");if(_.isConstantExpression(D.expression)){const L=Number(D.expression.value);if(L.toString()===D.expression.value)return[i.setVmVariable(w,r.numberConstant(L),"number",b)]}return"type"in D.expression&&r.isExpressionValueType(D.expression.type)?[...D.statements,i.setVmVariable(w,D.expression,D.expression.type,b)]:[...D.statements,i.setVmVariable(w,i.exprToString(D.expression),"string",b)]},y=(T,b)=>{const[w]=T.fields.VARIABLE,D=b.compileNumberInput(T,"VALUE");return[...D.statements,i.setVmVariable(w,p.addExpression(i.getVmVariable(w,"number",b),D.expression),"number",b)]},o=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileStringInput(T,"ITEM");return[...D.statements,r.vmListMethod("append",w,[D.expression])]},m=(T,b)=>{const[w]=T.fields.LIST;return b.markListUsed(w),[r.vmListMethod("clear",w)]},a=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileIntegerInput(T,"INDEX");return[...D.statements,r.vmListMethod("del",w,[f.minusOne(D.expression)])]},l=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileIntegerInput(T,"INDEX"),L=b.compileStringInput(T,"ITEM");return[...L.statements,...D.statements,r.vmListMethod("insert",w,[f.minusOne(D.expression),L.expression])]},v=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileIntegerInput(T,"INDEX"),L=b.compileStringInput(T,"ITEM");return[...L.statements,...D.statements,r.vmListMethod("set",w,[f.minusOne(D.expression),L.expression])]},g=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileStringInput(T,"ITEM"),L=r.id(b.generateName("index"));return r.snippet([...D.statements,r.try_([f.assignPlusOne(L,r.methodCall(r.vmList(w),"index",[D.expression]))],"ValueError",[r.assignment(L,r.numberConstant(0))])],L)},I=(T,b)=>{const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileIntegerInput(T,"INDEX"),L=r.id(b.generateName("item"));if(_.isConstantExpression(D.expression)&&D.expression.type==="number"){const re=D.expression.value-1;return r.snippet([...D.statements,r.if_(f.validListIndex(r.vmList(w),re),[r.assignment(L,r.listAccessor(r.vmList(w),re))],[r.assignment(L,r.emptyString)])],L)}const $=r.id(b.generateName("index"));return r.snippet([...D.statements,f.assignMinusOne($,D.expression),r.if_(f.validListIndex(r.vmList(w),$),[r.assignment(L,r.listAccessor(r.vmList(w),$))],[r.assignment(L,r.emptyString)])],L)},P=(T,b)=>{const[w]=T.fields.LIST;return b.markListUsed(w),r.exprOnlySnippet(r.functionCall("len",[r.vmList(T.fields.LIST[0])],"number"))},R=(T,b)=>{b.import("util.scratch","compare");const[w]=T.fields.LIST;b.markListUsed(w);const D=b.compileStringInput(T,"ITEM"),L=r.id(b.generateName("contains"),"boolean"),$=r.id(b.generateName("x"));return r.snippet([...D.statements,r.assignment(L,p.inExpression(D.expression,r.vmList(w))),r.assignment(L,p.orExpression(L,r.functionCall("any",[r.forComprehension(p.equalsExpression(r.functionCall("compare",[$,D.expression]),r.integerConstant(0)),$,r.vmList(w))])))],L)},E=(T,b)=>f.joinListContents(T.fields.LIST[0],b);n.data={expressions:{data_itemnumoflist:g,data_itemoflist:I,data_lengthoflist:P,data_listcontainsitem:R,data_listcontents:E,data_variable:c},statements:{data_addtolist:o,data_changevariableby:y,data_deletealloflist:m,data_deleteoflist:a,data_insertatlist:l,data_replaceitemoflist:v,data_setvariableto:h,data_showvariable:r.noop,data_hidevariable:r.noop,data_showlist:r.noop,data_hidelist:r.noop}}},43656:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.event=void 0;const r=u(31347),i=u(3827),_=u(91439),p=u(35058),f=(l,v)=>{const g=v.generateName("stack");v.registerFunctionTrigger(_.onStartFunctionTrigger(l.id,g));const I=v.compileStatement(v.getNext(l));return[i.asyncFunctionDefinition(g,["vm","stack"],I)]},c=(l,v)=>{const g=v.generateName("stack"),[I]=l.fields.BROADCAST_OPTION;v.registerFunctionTrigger(_.onBroadcastFunctionTrigger(l.id,g,I));const P=v.compileStatement(v.getNext(l));return[i.asyncFunctionDefinition(g,["vm","stack"],P)]},h=(l,v)=>{const g=v.compileStringInput(l,"BROADCAST_INPUT");return[...g.statements,i.functionCall("vm.broadcast",[g.expression]),i.yield_()]},y=(l,v)=>{v.import("runtime",["Stack"]);const g=v.compileStringInput(l,"BROADCAST_INPUT"),I=i.id(v.generateName("stacks")),P=i.id(v.generateName("s"));return[...g.statements,i.assignment(I,i.functionCall("vm.broadcast",[g.expression])),i.while_(i.functionCall("any",[i.forComprehension(i.methodCall(P,"is_active",[]),P,I)]),[i.yield_()])]},o=(l,v)=>{v.import("util.scratch","compare");const g=v.compileStatement(v.getNext(l)),I=v.compileNumberInput(l,"VALUE"),P=i.exprOnlySnippet(p.greaterThanExpression(i.functionCall("compare",[p.divideExpression(i.methodCall("vm","get_time",[],"number"),i.numberConstant(1e3)),I.expression]),i.numberConstant(0)));return r.waitForConditionStack(l.id,P,g,v)},m=(l,v)=>r.waitForConditionStack(l.id,i.exprOnlySnippet(i.booleanConstant(!1)),v.compileStatement(v.getNext(l)),v),a=(l,v)=>l.fields.OPTION[0]==="timer"?o(l,v):m(l,v);n.event={stackInfo:{event_whenbroadcastreceived:{restartExistingThreads:!0},event_whenflagclicked:{restartExistingThreads:!1},whenProgramStarts:{restartExistingThreads:!1},whenTimer:{restartExistingThreads:!1},whenGreaterThan:{restartExistingThreads:!1}},statements:{event_broadcast:h,event_broadcastandwait:y,event_whenbroadcastreceived:c,event_whenflagclicked:f,whenTimer:o,whenGreaterThan:a}}},84877:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bargraphMonitorPackage=void 0;const r=u(3827),i=(p,f)=>r.exprOnlySnippet(r.integerConstant(0)),_=(p,f)=>[r.comment_("no-op")];n.bargraphMonitorPackage={expressions:{bargraphmonitor_barGraphGetValue:i},stackInfo:{},statements:{bargraphmonitor_barGraphChangeValue:_,bargraphmonitor_barGraphSetValue:_,bargraphmonitor_barGraphClearData:_,bargraphmonitor_barGraphShow:_,bargraphmonitor_barGraphHide:_}}},12903:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.basePackage=void 0;const r=u(3827),i=u(31347),_=u(91439),p=u(16240),f=(h,y)=>{const o=y.generateName("stack");y.registerFunctionTrigger(_.onStartFunctionTrigger(h.id,o));const m=y.compileStatement(y.getNext(h));return[r.asyncFunctionDefinition(o,["vm","stack"],m)]},c=(h,y)=>{if(!i.hasInput(h,"CONDITION"))return[];if(h.inputs.CONDITION&&h.inputs.CONDITION[1]===null)return[];const o=y.compileBooleanInput(h,"CONDITION"),m=y.compileStatement(y.getNext(h));return i.waitForConditionStack(h.id,o,m,y)};n.basePackage={expressions:{menu_port:p.stringMenu("port"),menu_unit:p.stringMenu("unit"),menu_stopOption:p.stringMenu("stopOption"),"custom-angle":p.integerMenu("custom-angle"),"movement-port-selector":p.stringMenu("movement-port-selector"),"multiple-port-selector":p.stringMenu("multiple-port-selector"),"single-port-selector":p.stringMenu("single-port-selector"),"single-motor-selector":p.stringMenu("single-motor-selector"),"led-selector":p.stringMenu("led-selector"),"rotation-wheel":p.stringMenu("rotation-wheel"),"custom-piano":p.integerMenu("custom-piano"),"custom-matrix":p.stringMenu("custom-matrix"),"color-sensor-selector":p.stringMenu("color-sensor-selector"),"distance-sensor-selector":p.stringMenu("distance-sensor-selector"),"force-sensor-selector":p.stringMenu("force-sensor-selector"),"color-selector":p.integerMenu("color-selector"),"color-selector-vertical":p.integerMenu("color-selector-vertical"),"radiobroadcast_broadcast-signal":p.stringMenu("radiobroadcast_broadcast-signal"),"debug_single-port-selector":p.stringMenu("single-port-selector"),debug_menu_debugPortDatasetOption:p.stringMenu("debugPortDatasetOption"),debug_menu_debugPortModeOption:p.stringMenu("debugPortModeOption"),debug_menu_debugFormatOption:p.stringMenu("debugFormatOption"),"custom-set-move-distance-number":p.numberMenu("custom-set-move-distance-number")},stackInfo:{whenProgramStarts:{restartExistingThreads:!1},whenCondition:{restartExistingThreads:!1}},statements:{whenProgramStarts:f,whenCondition:c}}},56172:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.buttonPackage=void 0;const r=u(3827),i=u(91439),_=u(16240),p=["left","right"],f=o=>p.includes(o),c=["pressed","released"],h=o=>c.includes(o),y=(o,m)=>{const[a]=o.fields.BUTTON;if(!f(a))throw new i.InvalidFieldError("BUTTON");const[l]=o.fields.EVENT;if(!h(l))throw new i.InvalidFieldError("EVENT");const v=m.generateName("stack");return m.registerFunctionTrigger(i.onButtonFunctionTrigger(o.id,v,a,l)),[r.asyncFunctionDefinition(v,["vm","stack"],m.compileStatement(m.getNext(o)))]};n.buttonPackage={expressions:{menu_button:_.stringMenu("button"),menu_buttonEvent:_.stringMenu("buttonEvent")},stackInfo:{whenButton:{restartExistingThreads:!1}},statements:{whenButton:y}}},85420:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DebugPackage=void 0;const r=u(3827),i=u(31347),_="debug",p=(y,o)=>{o.markExtensionUsed(_),o.import("hub");const m=o.compileStringInput(y,"PORT"),a=r.integerConstant(i.Cast.toNumber(y.fields.MODE[0])),l=r.integerConstant(i.Cast.toNumber(y.fields.DATASET[0])),v=r.integerConstant(i.Cast.toNumber(y.fields.FORMAT[0])),g=r.id(o.generateName("port")),I=r.id(o.generateName("modes")),P=r.id(o.generateName("results")),R=r.id(o.generateName("result")),E=r.id(o.generateName("index"));return r.snippet([...m.statements,r.assignment(R,r.emptyString),r.assignment(g,r.functionCall("getattr",[r.id("hub.port"),m.expression,r.noneIdentifier])),r.if_(r.isNotNone(r.functionCall("getattr",[g,r.stringConstant("device"),r.noneIdentifier])),[r.try_([r.assignment(I,r.methodCall(g,"device.mode",[])),r.assignment(P,r.methodCall(g,"device.get",[v])),r.assignment(E,r.methodCall(I,"index",[r.tupleLiteral([a,l])])),r.assignment(R,r.listAccessor(P,E))],"ValueError",[r.pass])])],R)},f=(y,o)=>{o.markExtensionUsed(_),o.import("hub"),o.import("util.scratch",["to_number"]);const m=o.compileStringInput(y,"PORT"),a=r.integerConstant(i.Cast.toNumber(y.fields.MODE[0])),l=o.compileExpressionInput(y,"VALUE","string"),v=r.id(o.generateName("port")),g=r.id(o.generateName("p"));return[...m.statements,...l.statements,r.try_([r.assignment(v,r.functionCall("getattr",[r.id("hub.port"),m.expression,r.noneIdentifier])),r.if_(r.isNotNone(r.functionCall("getattr",[v,r.stringConstant("device"),r.noneIdentifier])),[r.methodCall(v,"device.mode",[a,r.functionCall("bytes",[r.functionCall('"".join',[r.forComprehension(r.functionCall("chr",[i.clamp(r.functionCall("to_number",[g]),0,255,o)]),g,r.methodCall(l.expression,"split",[]))]),r.stringConstant("utf-8")])])])],"ValueError",[r.pass])]},c=(y,o)=>{o.markExtensionUsed(_),o.import("hub");const m=o.compileStringInput(y,"PORT"),a=r.integerConstant(i.Cast.toNumber(y.fields.MODE[0])),l=r.id(o.generateName("port"));return[...m.statements,r.try_([r.assignment(l,r.functionCall("getattr",[r.id("hub.port"),m.expression,r.noneIdentifier])),r.if_(r.isNotNone(r.functionCall("getattr",[l,r.stringConstant("device"),r.noneIdentifier])),[r.methodCall(l,"device.mode",[a])])],"ValueError",[r.pass])]},h=(y,o)=>{o.markExtensionUsed(_),o.import("hub");const m=o.compileStringInput(y,"PORT"),a=o.compileExpressionInput(y,"PWM","number"),l=r.id(o.generateName("port"));return[...m.statements,...a.statements,r.try_([r.assignment(l,r.functionCall("getattr",[r.id("hub.port"),m.expression,r.noneIdentifier])),r.if_(r.isNotNone(l),[r.methodCall(l,"pwm",[a.expression])])],"ValueError",[r.pass])]};n.DebugPackage={expressions:{debug_debugPortReporter:p},statements:{debug_debugPortSetModeCommand:c,debug_debugPortModeSetDataCommand:f,debug_debugPortSetPwmCommand:h}}},75472:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.displayMonitorPackage=void 0;const r=u(3827),i=u(35058),_=u(31347),p=u(16240),f=r.id('vm.extensions["displaymonitor"]'),c=(v,g)=>{g.markExtensionUsed("displaymonitor");const I=g.compileNumberInput(v,"VALUE");return[...I.statements,r.methodCall(f,"set_image",[I.expression])]},h=(v,g)=>(g.markExtensionUsed("displaymonitor"),[r.methodCall(f,"set_next_image",[])]),y=(v,g)=>{g.markExtensionUsed("displaymonitor");const I=g.compileNumberInput(v,"VALUE"),P=g.compileNumberInput(v,"DURATION"),R=r.floor(i.multiplyExpression(_.clampDuration(P.expression,g),r.integerConstant(1e3)));return[...I.statements,...P.statements,r.await_(r.methodCall(f,"set_image_for",[I.expression,R]))]},o=(v,g)=>{g.markExtensionUsed("displaymonitor");const I=g.compileStringInput(v,"TEXT");return[...I.statements,r.methodCall(f,"write",[I.expression])]},m=(v,g)=>{g.markExtensionUsed("displaymonitor");const I=g.compileStringInput(v,"TEXT"),P=g.compileNumberInput(v,"DURATION"),R=r.floor(i.multiplyExpression(_.clampDuration(P.expression,g),r.integerConstant(1e3)));return[...I.statements,...P.statements,r.await_(r.methodCall(f,"write_for",[I.expression,R]))]},a=(v,g)=>(g.markExtensionUsed("displaymonitor"),[r.methodCall(f,"hide",[])]),l=(v,g)=>{g.markExtensionUsed("displaymonitor");const[I]=v.fields.VALUE;return[r.methodCall(f,"show",[r.stringConstant(I)])]};n.displayMonitorPackage={expressions:{"displaymonitor_custom-image":p.integerMenu("custom-image")},stackInfo:{},statements:{displaymonitor_displayHide:a,displaymonitor_displaySetImage:c,displaymonitor_displayNext:h,displaymonitor_displaySetImageForTime:y,displaymonitor_displayWrite:o,displaymonitor_displayWriteForTime:m,displaymonitor_displaySetMonitorFullscreen:l}}},117:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.displayPackage=void 0;const r=u(3827),i=u(31347),_=u(91439),p=u(79028),f=u(35058),c=u(64497),h=u(16240),y=w=>i.getVMState(_.VMStoreKey.display_brightness,w),o=(w,D)=>{D.import("hub"),D.import("util.scratch","convert_image");const L=D.compileStringInput(w,"MATRIX");return[...L.statements,r.functionCall("vm.system.display.show",[r.functionCall("hub.Image",[r.functionCall("convert_image",[L.expression,y(D)])]),r.keywordArgument("clear",r.falseLiteral)])]},m=(w,D)=>{D.import("hub"),D.import("util.scratch","convert_brightness");const L=D.compileIntegerInput(w,"X"),$=D.compileIntegerInput(w,"Y"),re=D.compileNumberInput(w,"BRIGHTNESS"),le=(K,ee)=>{if(c.isConstantExpression(K.expression)&&K.expression.type==="number"){const de=K.expression.value-1;return de<0||de>=5?null:r.exprOnlySnippet(r.numberConstant(de))}else{const de=r.id(D.generateName(ee));return r.snippet([...K.statements,p.assignMinusOne(de,K.expression)],de)}},oe=le(L,"x"),X=le($,"y");if(oe===null||X===null)return[];const B=((K,ee)=>{const de=c.isConstantExpression(K.expression)?null:r.inRangeExpression(r.integerConstant(0),K.expression,r.integerConstant(5)),z=c.isConstantExpression(ee.expression)?null:r.inRangeExpression(r.integerConstant(0),ee.expression,r.integerConstant(5));return de!==null&&z!==null?f.andExpression(de,z):de!==null&&z===null?de:de===null&&z!==null?z:null})(oe,X),ce=(K=>{const ee=de=>Math.round(Math.min(Math.max(de,0),100)*9/100);return c.isConstantExpression(K.expression)&&K.expression.type==="number"?r.exprOnlySnippet(r.integerConstant(ee(K.expression.value))):r.snippet(K.statements,r.functionCall("convert_brightness",[K.expression]))})(re),te=(K,ee,de)=>r.functionCall("hub.display.pixel",[K.expression,ee.expression,de.expression]);return[...oe.statements,...X.statements,...ce.statements,B===null?te(oe,X,ce):r.if_(B,[te(oe,X,ce)])]},a=(w,D)=>{D.import("hub");const L=D.compileStringInput(w,"TEXT");return[...L.statements,r.await_(r.functionCall("vm.system.display.write_async",[L.expression]))]},l=(w,D)=>{D.import("hub"),D.import("util.scratch","convert_image");const L=D.compileStringInput(w,"MATRIX"),$=D.compileNumberInput(w,"VALUE"),re=r.floor(f.multiplyExpression(i.clampDuration($.expression,D),r.integerConstant(1e3)));return[...L.statements,...$.statements,r.await_(r.functionCall("vm.system.display.show_async",[r.functionCall("hub.Image",[r.functionCall("convert_image",[L.expression,y(D)])]),r.keywordArgument("clear",r.trueLiteral),r.keywordArgument("delay",re)]))]},v=w=>new Array(25).fill(0).map((D,L)=>9*(w.pixels[L]||0)).map(D=>Math.max(0,Math.min(9,D))).map(D=>Math.round(D).toString()).join(""),g=w=>(D,L)=>{L.import("hub"),L.import("util.scratch","convert_animation_frame");const $=L.getCustomInputFieldValue(D,"MATRIX");if(!$)return[];const re=r.id(L.generateName("brightness")),le=r.id(L.generateName("frames")),oe=r.id(L.generateName("frame")),X=$.frames.map(W=>r.stringConstant(v(W))),F=L.declareGlobalVariable("ledAnimation",$.animationName,"animation",r.listLiteral(X)),B=w?W=>r.await_(r.functionCall("vm.system.display.show_async",W)):W=>r.functionCall("vm.system.display.show",W);return[r.global_(F),r.assignment(re,y(L)),r.assignment(le,r.forComprehension(r.methodCall("hub","Image",[r.functionCall("convert_animation_frame",[oe,re])]),oe,F)),B([le,r.keywordArgument("clear",r.booleanConstant(!1)),r.keywordArgument("delay",r.numberConstant(Math.round(1e3/Math.max($.fps,1)))),r.keywordArgument("loop",r.booleanConstant($.loop)),r.keywordArgument("fade",r.numberConstant($.transition))])]},I=(w,D)=>(D.import("hub"),[r.functionCall("hub.display.clear",[])]),P=(w,D)=>{D.import("hub");const L=D.compileNumberInput(w,"COLOR");return[...L.statements,r.functionCall("hub.led",[L.expression])]},R=(w,D)=>{const L=D.compileNumberInput(w,"BRIGHTNESS");return[...L.statements,i.setVMState(_.VMStoreKey.display_brightness,i.clamp(L.expression,0,100,D),D)]},E=(w,D)=>c.isConstantExpression(D)?D.value==="counterclockwise"?r.exprOnlySnippet(r.numberConstant(-90)):r.exprOnlySnippet(r.numberConstant(90)):(w.import("util.rotation","dir_to_rotation"),r.exprOnlySnippet(r.functionCall("dir_to_rotation",[D]))),T=(w,D)=>{D.import("util.rotation","rotate_hub_display");const L=D.compileStringInput(w,"DIRECTION").expression,$=E(D,L);return[r.functionCall("rotate_hub_display",[$.expression])]},b=(w,D)=>{D.import("util.rotation","rotate_hub_display_to_value");const L=D.compileStringInput(w,"ORIENTATION");return[r.functionCall("rotate_hub_display_to_value",[L.expression])]};n.displayPackage={expressions:{menu_ledMatrixIndex:h.integerMenu("ledMatrixIndex"),menu_displayOrientation:h.stringMenu("displayOrientation")},stackInfo:{},statements:{centerButtonLight:P,displayOff:I,ledImage:o,ledImageFor:l,ledAnimation:g(!1),ledAnimationUntilDone:g(!0),ledOn:m,ledText:a,ledSetBrightness:R,ledRotateDirection:T,ledRotateOrientation:b}}},80857:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.flipperPackages=void 0;const r=u(12903),i=u(56172),_=u(117),p=u(6891),f=u(97601),c=u(63288),h=u(9653),y=u(70067),o=u(86994),m=u(84877),a=u(97408),l=u(75472),v=u(61182),g=u(85420);n.flipperPackages=[r.basePackage,h.soundPackage,_.displayPackage,p.motorPackage,c.sensorPackage,i.buttonPackage,f.movementPackage,y.weatherPackage,o.musicPackage,v.RadioBroadcastPackage,g.DebugPackage,m.bargraphMonitorPackage,a.linegraphMonitorPackage,l.displayMonitorPackage]},97408:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.linegraphMonitorPackage=void 0;const r=u(3827),i=u(91439),_=u(16240),p=r.id('vm.extensions["linegraphmonitor"]'),f=(v,g)=>{g.markExtensionUsed("linegraphmonitor");const I=g.compileNumberInput(v,"COLOR"),[P]=v.fields.VALUE;if(!["min","max","average","last"].includes(P.toLowerCase()))throw new i.InvalidFieldError("VALUE");const R="get_"+P.toLowerCase();return r.snippet(I.statements,r.methodCall(p,R,[I.expression]))},c=(v,g)=>{g.markExtensionUsed("linegraphmonitor");const I=g.compileNumberInput(v,"VALUE"),P=g.compileNumberInput(v,"COLOR");return[...P.statements,...I.statements,r.methodCall(p,"add_data_point",[P.expression,I.expression])]},h=(v,g)=>(g.markExtensionUsed("linegraphmonitor"),r.exprOnlySnippet(r.methodCall(p,"report_time",[]))),y=(v,g)=>(g.markExtensionUsed("linegraphmonitor"),[r.methodCall(p,"clear",[])]),o=(v,g)=>{g.markExtensionUsed("linegraphmonitor");const I=g.compileNumberInput(v,"COLOR");return[...I.statements,r.methodCall(p,"clear_line",[I.expression])]},m=(v,g)=>{g.markExtensionUsed("linegraphmonitor");const[I]=v.fields.VALUE;return[r.methodCall(p,"show",[r.stringConstant(I)])]},a=(v,g)=>(g.markExtensionUsed("linegraphmonitor"),[r.methodCall(p,"hide",[])]),l=(v,g)=>(g.markExtensionUsed("linegraphmonitor"),[r.methodCall(p,"reset_time",[])]);n.linegraphMonitorPackage={expressions:{"linegraphmonitor_custom-color":_.integerMenu("custom-color"),linegraphmonitor_lineGraphGetValue:f,linegraphmonitor_lineGraphTimer:h},stackInfo:{},statements:{linegraphmonitor_lineGraphAddTo:c,linegraphmonitor_lineGraphClear:y,linegraphmonitor_lineGraphClearLine:o,linegraphmonitor_lineGraphFullscreen:m,linegraphmonitor_lineGraphHide:a,linegraphmonitor_lineGraphResetTime:l}}},6891:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.motorPackage=void 0;const r=u(3827),i=u(31347),_=u(91439),p=u(64497),f=u(35058),c=u(16240),h={power:r.numberConstant(0),speed:r.numberConstant(0),position:r.numberConstant(0),absolutePosition:r.numberConstant(0)},y=(z,G)=>i.getVMStateForPort(_.VMStorePortKey.motor_speed,z,G),o=(z,G)=>{const ge=r.id(G.generateName("acceleration")),pe=r.id(G.generateName("deceleration"));return{acceleration:ge,deceleration:pe,statement:r.assignment(r.tupleLiteral([ge,pe]),i.getVMStateForPort(_.VMStorePortKey.motor_acceleration,z,G))}},m=z=>(G,ge,pe)=>{if(p.isConstantExpression(ge))if(ge.value==="counterclockwise"){const fe=z(G,pe);if(p.isConstantExpression(fe)&&fe.type==="number"){const Ee=r.numberConstant(-fe.value);return r.exprOnlySnippet(Ee)}else return r.exprOnlySnippet(f.unaryMinusExpression(fe))}else return r.exprOnlySnippet(z(G,pe));else return pe.import("util.motor","dir_to_speed"),r.exprOnlySnippet(r.functionCall("dir_to_speed",[z(G,pe),ge]))},a=m(y),l=z=>m(()=>z),v=z=>{const G=Array.from(new Set(z)).filter(c.isValidPort).sort().join("");return G.length>0?G:null},g=(z,G,ge)=>{if(p.isConstantExpression(G)&&G.type==="string"){if(c.isValidPort(G.value))return ge(G);const fe=v(G.value);if(fe){const Ee=z.generateName("port");return[r.for_(Ee,r.stringConstant(fe),ge(r.id(Ee)))]}else return[]}z.import("util.scratch","sanitize_ports");const pe=z.generateName("port");return[r.for_(pe,r.functionCall("sanitize_ports",[G]),ge(r.id(pe)))]},I=(z,G,ge)=>{if(p.isConstantExpression(G)&&G.type==="string"&&c.isValidPort(G.value))return ge(G,!1);z.import("runtime","MultiMotor");const pe=r.id(z.generateName("multi"));return[r.assignment(pe,r.functionCall("MultiMotor",[r.id("vm")])),...g(z,G,fe=>ge(fe,pe)),r.await_(r.methodCall(pe,"await_all",[]))]},P=(z,G,ge,pe,fe)=>z===!1?i.setVMStateForPort(_.VMStorePortKey.motor_last_status,G,r.await_(r.methodCall(r.functionCall("vm.system.motors.on_port",[G]),`${ge}_async`,pe)),fe):r.methodCall(z,"run",[G,r.property(r.functionCall("vm.system.motors.on_port",[G]),ge),...pe]),R=(z,G)=>{const ge=c.AllMotorTypes.filter(Ee=>Ee!==c.SensorType.BoostExternalEncodedMotor),pe=c.externalSensor(3,h.absolutePosition,ge)(z,G),fe=r.id(G.generateName("position"),"number");return r.snippet([...pe.statements,r.assignment(fe,pe.expression),r.if_(f.lessThanExpression(fe,r.integerConstant(0)),[r.assignment(fe,f.addExpression(fe,r.integerConstant(360)))])],fe)},E=(z,G)=>(ge,pe)=>{const fe=pe.compileStringInput(ge,"PORT");return[...fe.statements,...g(pe,fe.expression,Ee=>{const De=z(Ee,G,pe),Ie=o(Ee,pe);return[...De.statements,Ie.statement,r.functionCall(r.property(r.functionCall("vm.system.motors.on_port",[Ee]),"run_at_speed"),[De.expression,r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,Ee,pe)),r.keywordArgument("acceleration",Ie.acceleration),r.keywordArgument("deceleration",Ie.deceleration)])]})]},T=(z,G)=>{const ge=G.compileStringInput(z,"DIRECTION").expression;return E(a,ge)(z,G)},b=(z,G)=>{const ge=G.compileStringInput(z,"PORT");return[...ge.statements,...g(G,ge.expression,pe=>[r.methodCall(r.functionCall("vm.system.motors.on_port",[pe]),"stop",[i.getVMStateForPort(_.VMStorePortKey.motor_stop,pe,G)])])]},w=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=i.Cast.toNumber(z.fields.STOP[0]);return[...ge.statements,...g(G,ge.expression,fe=>[i.setVMStateForPort(_.VMStorePortKey.motor_stop,fe,r.integerConstant(pe),G)])]},D=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=G.compileNumberInput(z,"SPEED");return[...ge.statements,...pe.statements,...g(G,ge.expression,fe=>[i.setVMStateForPort(_.VMStorePortKey.motor_speed,fe,i.clampSpeed(pe.expression,G),G)])]},L=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=i.Cast.toBoolean(z.fields.ENABLED[0]);return[...ge.statements,...g(G,ge.expression,fe=>[i.setVMStateForPort(_.VMStorePortKey.motor_stall,fe,r.booleanConstant(pe),G)])]},$=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=G.compileNumberInput(z,"VALUE");return[...ge.statements,...pe.statements,...g(G,ge.expression,fe=>[r.methodCall(r.functionCall("vm.system.motors.on_port",[fe]),"preset",[i.clampDegrees(pe.expression,G)])])]},re=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=G.compileStringInput(z,"ACCELERATION");if(c.isAccelerationArgumentDefault(pe.expression)===!0)return[...ge.statements,...g(G,ge.expression,Ee=>[i.setVMStateForPort(_.VMStorePortKey.motor_acceleration,Ee,r.tupleLiteral([r.noneIdentifier,r.noneIdentifier]),G)])];{const Ee=c.parseAccelerationArgument(pe.expression,G);return[...ge.statements,...pe.statements,...Ee.statements,...g(G,ge.expression,De=>[i.setVMStateForPort(_.VMStorePortKey.motor_acceleration,De,Ee.expression,G)])]}},le=(z,G)=>{const ge=G.compileNumberInput(z,"SPEED"),pe=l(i.clampSpeed(ge.expression,G)),fe=r.stringConstant("clockwise");return[...ge.statements,...F(pe,fe)(z,G)]},oe=(z,G)=>{const ge=G.compileNumberInput(z,"SPEED"),pe=l(i.clampSpeed(ge.expression,G)),fe=r.stringConstant("clockwise");return[...ge.statements,...E(pe,fe)(z,G)]},X=(z,G)=>{G.import("util.scratch","clamp");const ge=G.compileStringInput(z,"PORT"),pe=G.compileNumberInput(z,"POWER");return[...ge.statements,...pe.statements,...g(G,ge.expression,fe=>[r.functionCall(r.property(r.functionCall("vm.system.motors.on_port",[fe]),"pwm"),[i.clampSpeed(pe.expression,G),r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,fe,G))])])]},F=(z,G)=>(ge,pe)=>{const fe=pe.compileStringInput(ge,"PORT"),Ee=pe.compileNumberInput(ge,"VALUE"),[De]=ge.fields.UNIT,Ie=[...fe.statements,...Ee.statements];switch(De){case"seconds":return[...Ie,...ce(Ee.expression,G,fe.expression,z,pe)];case"degrees":return[...Ie,...W(Ee.expression,G,fe.expression,z,pe)];case"rotations":const Mt=p.isConstantExpression(Ee.expression)&&Ee.expression.type==="number"?r.integerConstant(Math.floor(Ee.expression.value*360)):f.multiplyExpression(Ee.expression,r.integerConstant(360));return[...Ie,...W(Mt,G,fe.expression,z,pe)];default:throw new _.InvalidFieldError("UNIT")}},B=(z,G)=>{const ge=G.compileStringInput(z,"DIRECTION").expression;return F(a,ge)(z,G)},W=(z,G,ge,pe,fe)=>I(fe,ge,(Ee,De)=>{const Ie=pe(Ee,G,fe),Mt=o(Ee,fe);return[...Ie.statements,Mt.statement,P(De,Ee,"run_for_degrees",[i.clampDegrees(z,fe),Ie.expression,r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,Ee,fe)),r.keywordArgument("stop",i.getVMStateForPort(_.VMStorePortKey.motor_stop,Ee,fe)),r.keywordArgument("acceleration",Mt.acceleration),r.keywordArgument("deceleration",Mt.deceleration)],fe)]}),ce=(z,G,ge,pe,fe)=>{const Ee=i.clampDuration(z,fe),De=r.floor(f.multiplyExpression(Ee,r.integerConstant(1e3)));return I(fe,ge,(Ie,Mt)=>{const Gt=pe(Ie,G,fe),At=o(Ie,fe);return[...Gt.statements,At.statement,P(Mt,Ie,"run_for_time",[De,Gt.expression,r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,Ie,fe)),r.keywordArgument("stop",i.getVMStateForPort(_.VMStorePortKey.motor_stop,Ie,fe)),r.keywordArgument("acceleration",At.acceleration),r.keywordArgument("deceleration",At.deceleration)],fe)]})},te=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=G.compileNumberInput(z,"POSITION"),[fe]=z.fields.DIRECTION;return[...ge.statements,...pe.statements,...I(G,ge.expression,(Ee,De)=>{const Ie=o(Ee,G);return[Ie.statement,P(De,Ee,"run_to_position",[i.clampDegrees(pe.expression,G),r.functionCall("abs",[y(Ee,G)]),r.stringConstant(fe),r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,Ee,G)),r.keywordArgument("stop",i.getVMStateForPort(_.VMStorePortKey.motor_stop,Ee,G)),r.keywordArgument("acceleration",Ie.acceleration),r.keywordArgument("deceleration",Ie.deceleration)],G)]})]},K=(z,G)=>{const ge=G.compileStringInput(z,"PORT"),pe=G.compileNumberInput(z,"POSITION"),fe=G.compileNumberInput(z,"SPEED");return[...ge.statements,...pe.statements,...fe.statements,...I(G,ge.expression,(Ee,De)=>{const Ie=o(Ee,G);return[Ie.statement,P(De,Ee,"run_to_relative_position",[i.clampDegrees(pe.expression,G),i.clampSpeed(fe.expression,G),r.keywordArgument("stall",i.getVMStateForPort(_.VMStorePortKey.motor_stall,Ee,G)),r.keywordArgument("stop",i.getVMStateForPort(_.VMStorePortKey.motor_stop,Ee,G)),r.keywordArgument("acceleration",Ie.acceleration),r.keywordArgument("deceleration",Ie.deceleration)],G)]})]},ee=(z,G)=>i.getVMStateForPort(_.VMStorePortKey.motor_last_status,z,G),de=(z,G)=>{const ge=G.compileStringInput(z,"PORT");return G.import("util.constants","INTERRUPTED"),r.exprOnlySnippet(f.equalsExpression(ee(ge.expression,G),r.id("INTERRUPTED")))};n.motorPackage={expressions:{"custom-icon-direction":c.stringMenu("custom-icon-direction"),menu_direction:c.stringMenu("direction"),menu_port:c.stringMenu("port"),menu_ports:c.stringMenu("ports"),menu_unit:c.stringMenu("unit"),menu_unitMotor:c.stringMenu("unitMotor"),menu_comparator:c.stringMenu("comparator"),menu_motorDirection:c.stringMenu("motorDirection"),menu_motor_stallDetection:c.stringMenu("motor_stallDetection"),menu_motorStopAnd:c.stringMenu("motorStopAnd"),menu_acceleration:c.stringMenu("acceleration"),absolutePosition:R,position:c.externalSensor(2,h.position,c.AllMotorTypes),power:c.externalSensor(0,h.power,c.AllMotorTypes),speed:c.externalSensor(1,h.speed,c.AllMotorTypes),motorDidMovement:de},statements:{motorStartSpeed:oe,motorStartPower:X,motorTurnForSpeed:le,motorGoDirectionToPosition:te,motorGoToRelativePosition:K,motorSetSpeed:D,motorSetStallDetection:L,motorSetDegreeCounted:$,motorSetStopMethod:w,motorSetAcceleration:re,motorStartDirection:T,motorStop:b,motorTurnForDirection:B}}},97601:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.movementPackage=n.startMove=void 0;const r=u(64497),i=u(3827),_=u(31347),p=u(91439),f=u(35058),c=u(16240),h=X=>{const F=/^([A-F])\+?([A-F])$/.exec(X.toUpperCase());return F===null?null:[F[1],F[2]]},y=(X,F)=>{const B=F.compileStringInput(X,"PAIR");if(r.isConstantExpression(B.expression)&&B.expression.type==="string"){const ce=h(B.expression.value);return ce===null?[]:[...B.statements,_.setVMState(p.VMStoreKey.move_pair,i.tupleLiteral(ce.map(te=>i.stringConstant(te))),F)]}F.import("util.scratch","sanitize_movement_ports");const W=i.id(F.generateName("pair"));return[...B.statements,i.assignment(W,i.functionCall("sanitize_movement_ports",[B.expression])),i.if_(i.isNotNone(W),[_.setVMState(p.VMStoreKey.move_pair,W,F)])]},o=(X,F)=>{const B=F.compileNumberInput(X,"DISTANCE"),[W]=X.fields.UNIT,ce=F.compileNumberInput(X,"LEFT"),te=F.compileNumberInput(X,"RIGHT");if(r.isConstantExpression(B.expression)&&B.expression.value<0){if(W==="seconds")return[];ce.expression=f.unaryMinusExpression(ce.expression),te.expression=f.unaryMinusExpression(te.expression),B.expression=f.unaryMinusExpression(B.expression)}if(r.isConstantExpression(B.expression))return[...B.statements,...ce.statements,...te.statements,...le(B.expression,W,i.tupleLiteral([_.clampSpeed(ce.expression,F),_.clampSpeed(te.expression,F)]),F)];const K=i.id(F.generateName("lspeed")),ee=i.id(F.generateName("rspeed")),de=i.id(F.generateName("distance"));return[...B.statements,...ce.statements,...te.statements,i.assignment(de,B.expression),i.assignment(K,ce.expression),i.assignment(ee,te.expression),i.if_(f.lessThanExpression(de,i.numberConstant(0)),W==="seconds"?[i.assignment(de,i.numberConstant(0)),i.assignment(K,i.numberConstant(0)),i.assignment(ee,i.numberConstant(0))]:[i.assignment(de,f.unaryMinusExpression(de)),i.assignment(K,f.unaryMinusExpression(K)),i.assignment(ee,f.unaryMinusExpression(ee))]),...le(de,W,i.tupleLiteral([_.clampSpeed(K,F),_.clampSpeed(ee,F)]),F)]},m=(X,F)=>{const B=F.compileNumberInput(X,"SPEED");return[...B.statements,_.setVMState(p.VMStoreKey.move_speed,_.clampSpeed(B.expression,F),F)]},a=(X,F)=>{const B=F.compileStringInput(X,"DIRECTION"),[W]=X.fields.UNIT,ce=F.compileNumberInput(X,"VALUE"),te=_.getVMState(p.VMStoreKey.move_speed,F);return T(B,"from_direction",W,ce,i.exprOnlySnippet(te),F)},l=(X,F)=>{const[B]=X.fields.UNIT,W=F.compileNumberInput(X,"DISTANCE");if(r.isConstantExpression(W.expression)&&W.expression.value===0)return[i.comment_("Skip: Invalid calibration value")];const ce=B==="cm"?W.expression:f.multiplyExpression(W.expression,i.numberConstant(2.54)),te=_.setVMState(p.VMStoreKey.move_calibration,ce,F);return[...W.statements,r.isConstantExpression(W.expression)?te:i.if_(f.notExpression(f.equalsExpression(W.expression,i.numberConstant(0))),[te])]},v=(X,F)=>{const B=F.compileNumberInput(X,"LEFT"),W=F.compileNumberInput(X,"RIGHT");return F.import("util.movement","move_start"),[...B.statements,...W.statements,i.functionCall("move_start",[i.id("vm"),i.listLiteral([B.expression,W.expression])])]},g=(X,F)=>{const B=F.compileNumberInput(X,"LEFT"),W=F.compileNumberInput(X,"RIGHT"),ce=$(F);return[...B.statements,...W.statements,i.methodCall(ce,"start_at_powers",[_.clampSpeed(B.expression,F),f.unaryMinusExpression(_.clampSpeed(W.expression,F))])]},I=(X,F)=>{if(Object.keys(X.inputs).includes("SPEED")){const B=F.compileNumberInput(X,"SPEED");return i.snippet(B.statements,_.clampSpeed(B.expression,F))}else return i.exprOnlySnippet(_.getVMState(p.VMStoreKey.move_speed,F))},P=(X,F)=>{const B=F.compileIntegerInput(X,"STEERING"),W=I(X,F);return F.import("util.movement",["move_start","from_steering"]),[...B.statements,...W.statements,i.functionCall("move_start",[i.id("vm"),i.functionCall("from_steering",[B.expression,W.expression])])]},R=(X,F)=>{const B=F.compileIntegerInput(X,"STEERING"),W=F.compileNumberInput(X,"POWER"),ce=i.snippet(W.statements,_.clampSpeed(W.expression,F)),te=$(F);return F.import("util.movement","from_steering"),[...B.statements,...ce.statements,i.methodCall(te,"start_at_powers",[i.unpack(i.functionCall("from_steering",[B.expression,ce.expression,i.trueLiteral]))])]},E=(X,F)=>{const B=F.compileIntegerInput(X,"STEERING"),[W]=X.fields.UNIT,ce=Object.keys(X.inputs).includes("DISTANCE")?F.compileNumberInput(X,"DISTANCE"):F.compileNumberInput(X,"VALUE"),te=I(X,F);return T(B,"from_steering",W,ce,te,F)},T=(X,F,B,W,ce,te)=>{if(r.isConstantExpression(W.expression)&&W.expression.value<0){if(B==="seconds")return[];ce.expression=f.unaryMinusExpression(ce.expression),W.expression=f.unaryMinusExpression(W.expression)}if(te.import("util.movement",F),r.isConstantExpression(W.expression))return[...X.statements,...ce.statements,...W.statements,...le(W.expression,B,i.functionCall(F,[X.expression,ce.expression]),te)];const K=i.id(te.generateName("speed")),ee=i.id(te.generateName("distance"));return[...X.statements,...W.statements,i.assignment(K,ce.expression),i.assignment(ee,W.expression),i.if_(f.lessThanExpression(ee,i.numberConstant(0)),B==="seconds"?[i.assignment(K,i.numberConstant(0)),i.assignment(ee,i.numberConstant(0))]:[i.assignment(K,f.unaryMinusExpression(K)),i.assignment(ee,f.unaryMinusExpression(ee))]),...le(ee,B,i.functionCall(F,[X.expression,K]),te)]},b=(X,F)=>(F.import("util.movement","move_stop"),[i.functionCall("move_stop",[i.id("vm")])]),w=(X,F)=>{const B=_.Cast.toNumber(X.fields.STOP[0]);return[_.setVMState(p.VMStoreKey.move_stop,i.integerConstant(B),F)]},D=(X,F)=>{const B=F.compileStringInput(X,"ACCELERATION");if(c.isAccelerationArgumentDefault(B.expression)===!0)return[_.setVMState(p.VMStoreKey.move_acceleration,i.tupleLiteral([i.noneIdentifier,i.noneIdentifier]),F)];{const W=c.parseAccelerationArgument(B.expression,F);return[...B.statements,...W.statements,_.setVMState(p.VMStoreKey.move_acceleration,W.expression,F)]}},L=(X,F)=>(F.import("util.constants","INTERRUPTED"),i.exprOnlySnippet(f.equalsExpression(_.getVMState(p.VMStoreKey.move_last_status,F),i.id("INTERRUPTED")))),$=X=>i.functionCall("vm.system.move.on_pair",[i.unpack(_.getVMState(p.VMStoreKey.move_pair,X))]);function re(X,F,B){const W=_.getVMState(p.VMStoreKey.move_calibration,B);switch(X){case"cm":return f.multiplyExpression(f.divideExpression(F,W),i.numberConstant(360));case"inches":return f.multiplyExpression(f.divideExpression(f.multiplyExpression(F,i.numberConstant(2.54)),W),i.numberConstant(360));case"rotations":return f.multiplyExpression(F,i.numberConstant(360));case"degrees":return F;default:throw new p.InvalidFieldError("UNIT",`Got '${X}'`)}}const le=(X,F,B,W)=>F==="seconds"?(W.import("util.movement","move_ms"),[i.await_(i.functionCall("move_ms",[i.id("vm"),_.clampUInt16(oe(X),W,!0),B]))]):(W.import("util.movement","move_degrees"),[i.await_(i.functionCall("move_degrees",[i.id("vm"),_.clampDegrees(re(F,X,W),W),B]))]),oe=X=>r.isConstantExpression(X)&&X.type==="number"?i.integerConstant(Math.floor(X.value*1e3)):i.functionCall("int",[f.multiplyExpression(X,i.numberConstant(1e3))]);n.startMove=(X,F)=>{const B=F.compileStringInput(X,"DIRECTION"),W=I(X,F);return F.import("util.movement",["move_start","from_direction"]),[...W.statements,i.functionCall("move_start",[i.id("vm"),i.functionCall("from_direction",[B.expression,W.expression])])]},n.movementPackage={expressions:{menu_moveUnit:c.stringMenu("moveUnit"),menu_moveDistanceUnit:c.stringMenu("moveDistanceUnit"),menu_moveAngleUnit:c.stringMenu("moveAngleUnit"),menu_moveDirection:c.stringMenu("moveDirection"),menu_movementPair:c.stringMenu("movementPair"),menu_moveStopAction:c.stringMenu("moveStopAction"),moveDidMovement:L},stackInfo:{},statements:{setMovementPair:y,moveDistanceAtSpeed:o,movementSpeed:m,move:a,setDistance:l,startDualSpeed:v,startDualPower:g,stopMove:b,movementSetStopMethod:w,movementSetAcceleration:D,startSteer:P,startSteerAtSpeed:P,steerDistanceAtSpeed:E,steer:E,startSteerAtPower:R,startMove:n.startMove}}},86994:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.musicPackage=void 0;const r=u(3827),i=u(91439),_=u(31347),p=u(35058),f=u(79028),c=u(64497),h=u(16240),y=u(44445),o=r.id('vm.extensions["music"]'),m=(R,E)=>r.functionCall("int",[p.multiplyExpression(p.multiplyExpression(p.divideExpression(r.numberConstant(60),_.getVMState(i.VMStoreKey.music_tempo,E)),R),r.numberConstant(1e3))]),a=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"DRUM"),b=E.compileNumberInput(R,"BEATS");return[...T.statements,...b.statements,r.methodCall(o,"play_drum",[_.wrapClamp(f.minusOne(T.expression),0,y.maxDrum,E)]),_.sleep(m(_.clampBeats(b.expression,E),E))]},l=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"NOTE"),b=E.compileNumberInput(R,"BEATS"),w=r.id(E.generateName("duration")),D=_.clampBeats(b.expression,E);return c.isConstantExpression(D)&&D.value===0?[]:[...T.statements,...b.statements,r.assignment(w,m(D,E)),r.methodCall(o,"play_note",[_.getVMState(i.VMStoreKey.music_instrument,E),_.clamp(T.expression,y.Music.MIDI_NOTE_RANGE.min,y.Music.MIDI_NOTE_RANGE.max,E),w]),_.sleep(w)]},v=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"BEATS");return[...T.statements,_.sleep(m(_.clampBeats(T.expression,E),E))]},g=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"TEMPO");return[...T.statements,_.setVMState(i.VMStoreKey.music_tempo,_.clamp(p.addExpression(_.getVMState(i.VMStoreKey.music_tempo,E),T.expression),20,500,E,!1),E)]},I=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"TEMPO");return[...T.statements,_.setVMState(i.VMStoreKey.music_tempo,_.clamp(T.expression,y.Music.TEMPO_RANGE.min,y.Music.TEMPO_RANGE.max,E,!1),E)]},P=(R,E)=>{E.markExtensionUsed("music");const T=E.compileNumberInput(R,"INSTRUMENT");return[...T.statements,_.setVMState(i.VMStoreKey.music_instrument,_.wrapClamp(T.expression,0,y.maxInstrument,E),E)]};n.musicPackage={expressions:{menu_DRUM:h.integerMenu("DRUM"),menu_INSTRUMENT:h.integerMenu("INSTRUMENT"),note:h.integerMenu("NOTE"),getTempo:(R,E)=>r.exprOnlySnippet(_.getVMState(i.VMStoreKey.music_tempo,E))},stackInfo:{},statements:{setTempo:I,changeTempo:g,playDrumForBeats:a,playNoteForBeats:l,restForBeats:v,setInstrument:P}}},61182:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RadioBroadcastPackage=void 0;const r=u(3827),i=u(31347),_=u(91439),p=r.id('vm.extensions["radiobroadcast"]'),f="radiobroadcast",c=(o,m)=>{m.markExtensionUsed(f);const a=m.getRawInputValue(o,"SIGNAL"),l=r.integerConstant(i.signalHash(a!=null?a:"")),v=m.compileExpressionInput(o,"VALUE","string");return[...v.statements,r.await_(r.methodCall(p,"broadcast",[l,v.expression]))]},h=(o,m)=>{m.markExtensionUsed(f);const a=m.generateName("stack"),l=m.getRawInputValue(o,"SIGNAL"),v=r.integerConstant(i.signalHash(l!=null?l:""));m.registerFunctionTrigger(_.RadioBroadcastMessageReceivedFunctionTrigger(o.id,a,v));const g=m.compileStatement(m.getNext(o));return[r.asyncFunctionDefinition(a,["vm","stack"],g)]},y=(o,m)=>{m.markExtensionUsed(f);const a=m.getRawInputValue(o,"SIGNAL"),l=r.integerConstant(i.signalHash(a!=null?a:""));return m.uniqueSetupStatements.set(`${f}_${l.value}`,r.methodCall(p,"register",[l])),r.exprOnlySnippet(r.methodCall(p,"value",[l]))};n.RadioBroadcastPackage={expressions:{radiobroadcast_radioSignalReporter:y},stackInfo:{radiobroadcast_whenIReceiveRadioSignalHat:{restartExistingThreads:!0}},statements:{radiobroadcast_broadcastRadioSignalWithValueCommand:c,radiobroadcast_whenIReceiveRadioSignalHat:h}}},44445:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.maxInstrument=n.maxDrum=void 0;const r=u(9174);n.Music=u(35860),r.setup({missingTranslation:"ignore"}),n.maxDrum=n.Music.prototype.DRUM_INFO.length,n.maxInstrument=n.Music.prototype.INSTRUMENT_INFO.length},63288:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sensorPackage=void 0;const r=u(3827),i=u(31347),_=u(91439),p=u(64497),f=u(35058),c=u(16240),h=u(79028),y={newton:1,"%":10},o=r.integerConstant(5),m=r.integerConstant(0),a=r.integerConstant(5),l=r.integerConstant(0),v=r.integerConstant(200),g=r.integerConstant(0),I=r.integerConstant(-1),P=r.integerConstant(-1),R=r.integerConstant(0),E=r.noneIdentifier,T=r.integerConstant(-1),b=-2,w=r.id('vm.extensions["sensors"]'),D=ie=>(Y,ae)=>{const[he]=Y.fields.AXIS,Ce=["x","y","z"].indexOf(he),ke=r.tupleLiteral([r.integerConstant(0),r.integerConstant(0),r.integerConstant(0)]),Ze=c.internalSensor(0,ie,ke)(Y,ae),$e=r.id(ae.generateName("values"));return r.snippet([...Ze.statements,r.assignment($e,Ze.expression)],r.listAccessor($e,Ce,"number"))},L=(ie,Y)=>{switch(Y){case c.SensorType.FlipperColor:return[ie,r.integerConstant(0),I,c.allowedTypeLiteral(c.SensorType.FlipperColor),l];case c.SensorType.FlipperDistance:return[ie,r.integerConstant(0),v,c.allowedTypeLiteral(c.SensorType.FlipperDistance),m];case c.SensorType.FlipperForce:return[ie,r.integerConstant(4),g,c.allowedTypeLiteral(c.SensorType.FlipperForce),a];default:throw new _.CompileError(`Can't generate whenChangedArgs for sensor type ${Y}`)}},$=(ie,Y)=>{const ae=Y.compileStringInput(ie,"PORT"),he=Y.compileNumberInput(ie,"OPTION"),ue=c.externalSensor(0,I,[c.SensorType.FlipperColor],!1)(ie,Y),Ce=Y.compileStatement(Y.getNext(ie));let ke=f.equalsExpression(he.expression,ue.expression);p.isConstantExpression(he.expression)&&(he.expression.value===3||he.expression.value===4)&&(ke=f.inExpression(ue.expression,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])));const Ze=r.snippet(ue.statements,ke),$e=r.id(Y.generateName("stack_condition_generator")),lt=r.snippet([...ae.statements,r.global_($e),r.if_(f.equalsExpression($e,r.noneIdentifier),[r.assignment($e,r.functionCall("vm.system.callbacks.custom_sensor_callbacks.did_change",L(ae.expression,c.SensorType.FlipperColor)))]),r.if_(r.functionCall("next",[$e]),[r.assignment($e,r.noneIdentifier),r.return_(r.trueLiteral)])],r.falseLiteral);if(p.isConstantExpression(he.expression)){let Wt;switch(he.expression.value){case b:Wt=lt;break;default:Wt=Ze}return[...he.expression.value===b?[r.assignment($e,r.noneIdentifier)]:[],...i.waitForConditionStack(ie.id,r.snippet([...ae.statements,...he.statements,...Wt.statements],Wt.expression),Ce,Y)]}const bn=r.id(Y.generateName("option"));return[r.assignment($e,r.noneIdentifier),...i.waitForConditionStack(ie.id,r.snippet([...ae.statements,...he.statements,...Ze.statements,r.assignment(bn,he.expression),r.if_(f.equalsExpression(bn,r.numberConstant(b)),[...lt.statements,r.return_(lt.expression)]),r.if_(f.inExpression(bn,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])),[r.return_(f.inExpression(ue.expression,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])))])],Ze.expression),Ce,Y)]},re=(ie,Y)=>{const[ae]=ie.fields.OPTION;switch(ae){case"pressed":return Ie(ie,Y);case"hardpressed":return Gt(ie,Y);case"released":return Mt(ie,Y);default:throw new _.CompileError(`Can't generate isPressed for option ${ae}`)}},le=ie=>r.functionCall(`hub.button.${ie}.is_pressed`,[],"boolean"),oe=(ie,Y)=>{Y.import("hub");const[ae]=ie.fields.BUTTON,[he]=ie.fields.EVENT;switch(he){case"pressed":return r.exprOnlySnippet(le(ae));case"released":return r.exprOnlySnippet(f.notExpression(le(ae)));default:throw new _.CompileError(`Can't generate buttonIsPressed for event ${he}`)}},X=(ie,Y)=>{const ae=Y.compileStringInput(ie,"PORT"),[he]=ie.fields.OPTION,ue=Y.compileStatement(Y.getNext(ie));let Ce,ke=r.exprOnlySnippet(r.trueLiteral);switch(he){case"pressed":ke=Ie(ie,Y);break;case"hardpressed":ke=Gt(ie,Y);break;case"pressurechanged":Ce=r.id(Y.generateName("stack_condition_generator")),ke=r.snippet([...ae.statements,r.global_(Ce),r.if_(f.equalsExpression(Ce,r.noneIdentifier),[r.assignment(Ce,r.functionCall("vm.system.callbacks.custom_sensor_callbacks.did_change",L(ae.expression,c.SensorType.FlipperForce)))]),r.if_(r.functionCall("next",[Ce]),[r.assignment(Ce,r.noneIdentifier),r.return_(r.trueLiteral)])],r.falseLiteral);break;case"released":Ce=r.id(Y.generateName("stack_condition_generator")),ke=r.snippet([...ae.statements,r.global_(Ce),r.if_(f.equalsExpression(Ce,r.noneIdentifier),[r.assignment(Ce,r.functionCall("vm.system.callbacks.custom_sensor_callbacks.is_less_than",[ae.expression,r.integerConstant(1),g,c.allowedTypeLiteral(c.SensorType.FlipperForce),r.integerConstant(1)]))]),r.if_(r.functionCall("next",[Ce]),[r.assignment(Ce,r.noneIdentifier),r.return_(r.trueLiteral)])],r.falseLiteral)}const Ze=[];return Ce&&Ze.push(r.assignment(Ce,r.noneIdentifier)),Ze.push(...i.waitForConditionStack(ie.id,ke,ue,Y)),Ze},F=(ie,Y)=>{const[ae]=ie.fields.VALUE,he=Y.generateName("stack");return Y.registerFunctionTrigger(_.onOrientationFunctionTrigger(ie.id,he,ae)),[r.asyncFunctionDefinition(he,["vm","stack"],Y.compileStatement(Y.getNext(ie)))]},B=(ie,Y)=>{const[ae]=ie.fields.EVENT,he=Y.generateName("stack");return Y.registerFunctionTrigger(_.onGestureFunctionTrigger(ie.id,he,ae)),[r.asyncFunctionDefinition(he,["vm","stack"],Y.compileStatement(Y.getNext(ie)))]},W=(ie,Y)=>{const ae=Y.compileNumberInput(ie,"VALUE"),[he]=ie.fields.UNIT,[ue]=ie.fields.COMPARATOR,Ce=Y.compileStatement(Y.getNext(ie)),ke=c.externalSensor(0,v,[c.SensorType.FlipperDistance],!1)(ie,Y),Ze=yn(ke.expression,he,Y),$e=h.makeComparison(ue)(Ze,i.clampSignedInt(ae.expression,Y,!0)),lt=r.snippet([...ke.statements,...ae.statements],$e);return i.waitForConditionStack(ie.id,lt,Ce,Y)},ce=(ie,Y)=>{Y.import("util.motion");const ae=Y.compileStringInput(ie,"VALUE"),he=r.id(Y.generateName("last_direction")),ue=r.id(Y.generateName("direction")),Ce=Y.compileStatement(Y.getNext(ie)),ke=r.snippet([...ae.statements,r.assignment(he,r.functionCall("util.motion.last_saved_tilt_direction",[r.stringConstant(ie.id)])),r.assignment(ue,r.functionCall("util.motion.tilt_direction",[])),r.functionCall("util.motion.save_tilt_direction",[r.stringConstant(ie.id),ue])],f.andExpression(f.notEqualsExpression(ue,he),f.orExpression(f.andExpression(f.equalsExpression(ae.expression,r.stringConstant(_.TiltDirection.ANY)),f.notEqualsExpression(ue,r.stringConstant(_.TiltDirection.FLAT))),f.equalsExpression(ae.expression,ue))));return i.waitForConditionStack(ie.id,ke,Ce,Y)},te=(ie,Y)=>{const[ae]=ie.fields.AXIS,ue=["yaw","pitch","roll"].indexOf(ae),Ce=c.internalSensor(0,"position",R)(ie,Y),ke=r.id(Y.generateName("values"));return r.snippet([...Ce.statements,r.assignment(ke,Ce.expression)],r.listAccessor(ke,ue,"number"))},K=(ie,Y)=>(Y.import("hub"),[r.functionCall("hub.motion.yaw_pitch_roll",[r.numberConstant(0)]),i.sleep(r.numberConstant(100))]),ee=(ie,Y)=>r.exprOnlySnippet(f.divideExpression(r.functionCall("vm.get_time",[]),r.numberConstant(1e3))),de=(ie,Y)=>[r.methodCall("vm","reset_time",[])],z=(ie,Y)=>(Y.markExtensionUsed("sensors"),r.exprOnlySnippet(r.await_(r.methodCall(w,"get_loudness",[])))),G=(ie,Y)=>{Y.import("hub");const ae=r.id(Y.generateName("gesture"));return r.snippet([r.assignment(ae,r.functionCall("hub.motion.gesture",[]))],r.ternaryIf(f.isNotExpression(ae,r.noneIdentifier),ae,T))},ge=(ie,Y)=>{Y.import("hub");const[ae]=ie.fields.MOTION;return r.exprOnlySnippet(f.equalsExpression(r.functionCall("hub.motion.gesture",[]),r.integerConstant(_.HubGesture[ae])))},pe=(ie,Y)=>{Y.import("hub");const[ae]=ie.fields.ORIENTATION;return r.exprOnlySnippet(f.equalsExpression(r.functionCall("hub.motion.orientation",[]),r.integerConstant(_.HubOrientation[ae])))},fe=(ie,Y)=>{Y.import("util.motion");const ae=Y.compileStringInput(ie,"VALUE"),he=r.id(Y.generateName("direction"));return r.snippet([...ae.statements,r.assignment(he,r.functionCall("util.motion.tilt_direction",[]))],f.orExpression(f.andExpression(f.equalsExpression(ae.expression,r.stringConstant(_.TiltDirection.ANY)),f.notEqualsExpression(he,r.stringConstant(_.TiltDirection.FLAT))),f.equalsExpression(ae.expression,he)))},Ee=(ie,Y)=>{Y.import("util.motion");const[ae]=ie.fields.UP,he=i.frontFromUp(ae);return[r.if_(r.functionCall("hasattr",[r.id("util.motion"),r.stringConstant("align_to_model_async")]),[r.await_(r.functionCall("util.motion.align_to_model_async",[r.integerConstant(_.HubOrientation[ae]),r.integerConstant(_.HubOrientation[he])]))],[r.functionCall("util.motion.align_to_model",[r.integerConstant(_.HubOrientation[ae]),r.integerConstant(_.HubOrientation[he])])])]},De=ie=>(Y,ae)=>{const he=ae.compileNumberInput(Y,ie),ue=c.externalSensor(0,I,[c.SensorType.FlipperColor],!1)(Y,ae);if(p.isConstantExpression(he.expression)&&(he.expression.value===3||he.expression.value===4))return r.snippet([...he.statements,...ue.statements],f.inExpression(ue.expression,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])));const Ce=r.id(ae.generateName("option"));return r.snippet([...he.statements,...ue.statements,r.assignment(Ce,he.expression)],f.orExpression(f.equalsExpression(Ce,ue.expression),f.andExpression(f.inExpression(Ce,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])),f.inExpression(ue.expression,r.tupleLiteral([r.numberConstant(3),r.numberConstant(4)])))))},Ie=(ie,Y)=>{const ae=c.externalSensor(1,g,[c.SensorType.FlipperForce])(ie,Y);return r.snippet(ae.statements,f.equalsExpression(ae.expression,r.integerConstant(1)))},Mt=(ie,Y)=>{const ae=c.externalSensor(1,g,[c.SensorType.FlipperForce])(ie,Y);return r.snippet(ae.statements,f.equalsExpression(ae.expression,r.integerConstant(0)))},Gt=(ie,Y)=>{const ae=c.externalSensor(0,g,[c.SensorType.FlipperForce])(ie,Y);return r.snippet(ae.statements,f.greaterThanExpression(ae.expression,o))},At=(ie,Y)=>{Y.import("hub"),Y.import("util.scratch",["percent_to_int","to_number"]),Y.import("util.sensors","is_type");const ae=Y.compileStringInput(ie,"PORT"),he=Y.compileStringInput(ie,"VALUE"),ue=r.id(Y.generateName("port")),Ce=r.id(Y.generateName("p")),ke=(Ze,$e,lt)=>[r.assignment(Ze,r.functionCall("getattr",[r.id("hub.port"),$e,r.noneIdentifier])),r.if_(f.andExpression(r.functionCall("getattr",[Ze,r.stringConstant("device"),r.noneIdentifier]),r.functionCall("is_type",[$e,r.integerConstant(c.SensorType.FlipperDistance)])),lt)];return[...ae.statements,...ke(ue,ae.expression,[...he.statements,r.methodCall(ue,"device.mode",[r.integerConstant(5),r.functionCall("bytes",[r.functionCall('"".join',[r.forComprehension(r.functionCall("chr",[r.functionCall("percent_to_int",[i.clamp(r.functionCall("to_number",[Ce]),0,100,Y),r.integerConstant(87)])]),Ce,r.methodCall(he.expression,"split",[]))]),r.stringConstant("utf-8")])])])]},yn=(ie,Y,ae)=>{switch(Y){case"cm":return ie;case"inches":return i.clampSignedInt(f.multiplyExpression(ie,r.numberConstant(.3937)),ae,!0);case"%":return f.multiplyExpression(ie,r.numberConstant(.5));default:throw new _.InvalidFieldError("UNIT")}},ft=(ie,Y)=>{const ae=Y.compileNumberInput(ie,"VALUE"),[he]=ie.fields.UNIT,[ue]=ie.fields.COMPARATOR,Ce=c.externalSensor(0,v,[c.SensorType.FlipperDistance],!1)(ie,Y),ke=yn(Ce.expression,he,Y),Ze=h.makeComparison(ue)(ke,i.clampSignedInt(ae.expression,Y,!0));return r.snippet([...Ce.statements,...ae.statements],Ze)},vn=(ie,Y)=>{const[ae]=ie.fields.COMPARATOR,he=Y.compileNumberInput(ie,"VALUE"),ue=c.externalSensor(1,P,[c.SensorType.FlipperColor])(ie,Y),Ce=h.makeComparison(ae)(ue.expression,he.expression);return r.snippet([...he.statements,...ue.statements],Ce)},rn=(ie,Y)=>{const[ae]=ie.fields.UNIT,he=c.externalSensor(0,v,[c.SensorType.FlipperDistance],!1)(ie,Y),ue=yn(he.expression,ae,Y);return r.snippet(he.statements,ue)},ct=(ie,Y)=>{const[ae]=ie.fields.COLOR,he=c.externalSensor(parseInt(ae,10)+2,I,[c.SensorType.FlipperColor],!1)(ie,Y),ue=i.roundHalfUp(f.multiplyExpression(he.expression,r.numberConstant(.249)),Y);return r.snippet(he.statements,ue)},dr=(ie,Y)=>{const[ae]=ie.fields.UNIT;if(ae==="newton")return c.externalSensor(0,g,[c.SensorType.FlipperForce])(ie,Y);if(ae==="%"){const he=r.numberConstant(y["%"]),ue=c.externalSensor(0,g,[c.SensorType.FlipperForce])(ie,Y),Ce=c.externalSensor(1,g,[c.SensorType.FlipperForce])(ie,Y);return r.snippet([...ue.statements,...Ce.statements],f.multiplyExpression(r.functionCall("max",[ue.expression,Ce.expression]),he))}else throw new _.InvalidFieldError(`Unknown UNIT value: '${ae}'`)};n.sensorPackage={expressions:{"custom-tilted":c.stringMenu("custom-tilted"),menu_color:c.stringMenu("color"),menu_colorOption:c.integerMenu("colorOption"),menu_nearOrFar:c.stringMenu("nearOrFar"),menu_orientation:c.stringMenu("orientation"),menu_comparator:c.stringMenu("comparator"),menu_unitDistance:c.stringMenu("unitDistance"),menu_unitForce:c.stringMenu("unitForce"),menu_forceOption:c.stringMenu("forceOption"),menu_pressureOption:c.stringMenu("pressureOption"),menu_gestureOption:c.stringMenu("gestureOption"),menu_buttonEvent:c.stringMenu("buttonEvent"),menu_button:c.stringMenu("button"),menu_axis:c.stringMenu("axis"),acceleration:D("accelerometer"),angularVelocity:D("gyroscope"),buttonIsPressed:oe,color:c.externalSensor(0,I,[c.SensorType.FlipperColor],!1),distance:rn,force:dr,isColor:De("VALUE"),isDistance:ft,ismotion:ge,isorientation:pe,isPressed:re,isReflectivity:vn,isTilted:fe,loudness:z,motion:G,orientation:c.internalSensor(1,"orientation",E,"string"),orientationAxis:te,rawColor:ct,reflectivity:c.externalSensor(1,P,[c.SensorType.FlipperColor]),timer:ee},stackInfo:{whenColor:{restartExistingThreads:!1},whenDistance:{restartExistingThreads:!1},whenPressed:{restartExistingThreads:!1},whenOrientation:{restartExistingThreads:!1},whenGesture:{restartExistingThreads:!1},whenTilted:{restartExistingThreads:!1}},statements:{ultrasonicLightUp:At,resetTimer:de,resetYaw:K,whenColor:$,whenPressed:X,whenGesture:B,whenDistance:W,whenOrientation:F,whenTilted:ce,setOrientation:Ee}}},9653:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.soundPackage=void 0;const r=u(3827),i=u(91439),_=u(64497),p=u(31347),f=u(35058),c=u(16240),h=900*1e3,[y,o,m]=[12e3,16e3,2e4],a=(oe,X)=>{const F=X.compileNumberInput(oe,"NOTE");return[...F.statements,r.functionCall("vm.system.sound.beep",[F.expression,r.numberConstant(32767)]),p.sleep(r.numberConstant(10))]},l=(oe,X)=>{const F=X.compileNumberInput(oe,"NOTE"),B=X.compileNumberInput(oe,"DURATION");return _.isConstantExpression(B.expression)&&B.expression.type==="number"&&B.expression.value===0?[]:[...F.statements,...B.statements,r.await_(r.functionCall("vm.system.sound.beep_async",[F.expression,p.clamp(r.floor(f.multiplyExpression(B.expression,r.integerConstant(1e3))),0,h,X)]))]},v=r.id('vm.extensions["sound"]'),g={PITCH:{min:-360,max:360,key:i.VMStoreKey.sound_pitch},PAN:{min:-100,max:100,key:i.VMStoreKey.sound_pan}},I=oe=>(X,F)=>{F.markExtensionUsed("sound");const B=F.compileStringInput(X,"SOUND_MENU");return[...B.statements,r.await_(r.methodCall(v,"play",[B.expression,p.getVMState(i.VMStoreKey.sound_volume,F),p.getVMState(i.VMStoreKey.sound_pitch,F),p.getVMState(i.VMStoreKey.sound_pan,F),r.keywordArgument("wait",r.booleanConstant(oe))]))]},P=oe=>oe&&oe.length>0&&oe[0]==="{"?JSON.parse(oe):{name:"",location:"device"},R=oe=>(X,F)=>{const B=F.getRawInputValue(X,"SOUND"),W=P(B);if(W.location==="device"){F.markExtensionUsed("sound");const ce=W.name!==""?r.exprOnlySnippet(r.stringConstant(W.name)):F.compileStringInput(X,"SOUND");return[...ce.statements,r.await_(r.methodCall(v,"play",[ce.expression,p.getVMState(i.VMStoreKey.sound_volume,F),p.getVMState(i.VMStoreKey.sound_pitch,F),p.getVMState(i.VMStoreKey.sound_pan,F),r.keywordArgument("wait",r.booleanConstant(oe))]))]}else{F.import("util.scratch","pitch_to_freq");const ce=r.functionCall("pitch_to_freq",[p.getVMState(i.VMStoreKey.sound_pitch,F),r.numberConstant(y),r.numberConstant(o),r.numberConstant(m)]);return[(oe?K=>r.await_(r.functionCall("vm.system.sound.play_async",K)):K=>r.functionCall("vm.system.sound.play",K))([r.stringConstant(W.path||""),r.keywordArgument("freq",ce)])]}},E=(oe,X)=>{const F=g[oe.fields.EFFECT[0]],B=X.compileNumberInput(oe,"VALUE");return[...B.statements,p.setVMState(F.key,p.clamp(B.expression,F.min,F.max,X),X)]},T=(oe,X)=>{const F=g[oe.fields.EFFECT[0]],B=X.compileNumberInput(oe,"VALUE");return[...B.statements,p.setVMState(F.key,p.clamp(f.addExpression(p.getVMState(F.key,X),B.expression),F.min,F.max,X),X)]},b=(oe,X)=>Object.values(g).map(F=>p.setVMState(F.key,r.integerConstant(0),X)),w=(oe,X)=>(X.import("hub"),X.markExtensionUsed("sound"),[r.functionCall("hub.sound.beep",[r.numberConstant(0),r.numberConstant(0)]),r.await_(r.methodCall(v,"stop_all",[]))]),D=oe=>(oe.import("hub"),f.multiplyExpression(r.functionCall("hub.sound.volume",[]),r.numberConstant(10))),L=(oe,X)=>(X.import("hub"),r.functionCall("hub.sound.volume",[p.clamp(f.divideExpression(oe,r.numberConstant(10)),0,10,X)])),$=(oe,X)=>{const F=X.compileNumberInput(oe,"VOLUME"),B=r.id(X.generateName("volume"));return[...F.statements,r.assignment(B,F.expression),L(B,X),p.setVMState(i.VMStoreKey.sound_volume,p.clamp(B,0,100,X),X)]},re=(oe,X)=>{const F=X.compileNumberInput(oe,"VOLUME"),B=r.id(X.generateName("volume_delta"));return[...F.statements,r.assignment(B,F.expression),L(f.addExpression(D(X),B),X),p.setVMState(i.VMStoreKey.sound_volume,p.clamp(f.addExpression(p.getVMState(i.VMStoreKey.sound_volume,X),B),0,100,X),X)]},le=(oe,X)=>r.exprOnlySnippet(p.getVMState(i.VMStoreKey.sound_volume,X));n.soundPackage={expressions:{menu_notes:c.integerMenu("notes"),volume:le,sound_sounds_menu:c.stringMenu("SOUND_MENU"),sound_volume:(oe,X)=>r.exprOnlySnippet(p.getVMState(i.VMStoreKey.sound_volume,X))},stackInfo:{},statements:{beep:a,beepForTime:l,stopSound:w,sound_setvolumeto:$,sound_changevolumeby:re,sound_changeeffectby:T,sound_seteffectto:E,sound_cleareffects:b,sound_play:I(!1),sound_playuntildone:I(!0),playSound:R(!1),playSoundUntilDone:R(!0)}}},70067:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.weatherPackage=void 0;const r=u(3827),i=u(91439),_=u(31347),p=u(35058),f=u(16240),c=r.id('vm.extensions["weather"]'),h=r.id("_"),y=(b,w)=>r.await_(r.methodCall(c,"update",[b.location?b.location:_.getVMState(i.VMStoreKey.weather_location,w),b.offset?b.offset:_.getVMState(i.VMStoreKey.weather_offset,w)])),o=(b,w,D)=>r.await_(r.methodCall(c,`get_${b}`,[_.getVMState(i.VMStoreKey.weather_location,D),_.getVMState(i.VMStoreKey.weather_offset,D)]),w),m=(b,w)=>{w.markExtensionUsed("weather");const D=w.compileStringInput(b,"LOCATION"),L=r.id(w.generateName("location")),$=y({location:D.expression},w);return[...D.statements,r.assignment(r.tupleLiteral([L,h]),$),_.setVMState(i.VMStoreKey.weather_location,L,w)]},a=(b,w)=>(w.markExtensionUsed("weather"),[r.expressionStatement(y({offset:r.numberConstant(0)},w)),_.setVMState(i.VMStoreKey.weather_offset,r.numberConstant(0),w)]),l=(b,w)=>{w.markExtensionUsed("weather");const D=w.compileNumberInput(b,"HOURS"),L=r.id(w.generateName("offset")),$=_.clamp(p.addExpression(_.getVMState(i.VMStoreKey.weather_offset,w),D.expression),0,239,w);return[...D.statements,r.assignment(L,$),r.expressionStatement(y({offset:L},w)),_.setVMState(i.VMStoreKey.weather_offset,L,w)]},v=(b,w)=>{w.markExtensionUsed("weather");const D=w.compileNumberInput(b,"HOUR"),L=w.compileNumberInput(b,"DAYSAWAY"),$=r.id(w.generateName("offset"));return[...D.statements,...L.statements,r.assignment(r.tupleLiteral([h,$]),r.await_(r.methodCall(c,"update",[_.getVMState(i.VMStoreKey.weather_location,w),_.clamp(D.expression,0,23,w),r.keywordArgument("day_offset",_.clamp(L.expression,0,10,w))]))),r.if_(r.isNotNone($),[_.setVMState(i.VMStoreKey.weather_offset,$,w)])]},g=(b,w)=>{w.markExtensionUsed("weather");const[D]=b.fields.UNIT;let L=o("precipitation","number",w);D==="in"&&(L=p.divideExpression(L,r.numberConstant(25.4)));const $=r.id(w.generateName("precipitation"),"number");return r.snippet([r.assignment($,L)],$)},I=(b,w)=>{w.markExtensionUsed("weather");const D=o("pressure","number",w),L=r.id(w.generateName("pressure"),"number");return r.snippet([r.assignment(L,D)],L)},P=(b,w)=>{w.markExtensionUsed("weather");const[D]=b.fields.UNIT;let L=o("temperature","number",w);D==="\xB0F"&&(L=p.addExpression(p.multiplyExpression(L,r.numberConstant(9/5)),r.numberConstant(32)));const $=r.id(w.generateName("temperature"),"number");return r.snippet([r.assignment($,L)],$)},R=(b,w)=>{w.markExtensionUsed("weather");const[D]=b.fields.UNIT;let L=o("wind_speed","number",w);D!=="m/s"&&(L=p.multiplyExpression(L,r.numberConstant(2.237)));const $=r.id(w.generateName("wind_speed"),"number");return r.snippet([r.assignment($,L)],$)},E=(b,w)=>{w.markExtensionUsed("weather");const D=o("wind_direction","string",w),L=r.id(w.generateName("wind_direction"),"string");return r.snippet([r.assignment(L,D)],L)},T=(b,w)=>{w.markExtensionUsed("weather");const[D]=b.fields.CONDITION,L=o("condition","string",w),$=r.id(w.generateName("condition"),"string");return r.snippet([r.assignment($,L)],p.equalsExpression($,r.stringConstant(D)))};n.weatherPackage={expressions:{weather_menu_precipitationUnits:f.stringMenu("precipitationUnits"),weather_menu_forecastTo:f.integerMenu("forecastTo"),weather_menu_temperatureUnits:f.stringMenu("temperatureUnits"),weather_menu_speedUnits:f.stringMenu("speedUnits"),weather_menu_conditions:f.stringMenu("conditions"),weather_location:(b,w)=>r.exprOnlySnippet(_.getVMState(i.VMStoreKey.weather_location,w)),weather_timeOffset:(b,w)=>r.exprOnlySnippet(_.getVMState(i.VMStoreKey.weather_offset,w)),weather_precipitation:g,weather_pressure:I,weather_temperature:P,weather_windSpeed:R,weather_windDirection:E,weather_isCondition:T},stackInfo:{},statements:{weather_setLocation:m,weather_resetTimeOffset:a,weather_changeTime:l,weather_setForecast:v}}},16240:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseAccelerationArgument=n.isAccelerationArgumentDefault=n.numberMenu=n.integerMenu=n.stringMenu=n.baseMenu=n.internalSensor=n.externalSensor=n.getSensorValue=n.AllMotorTypes=n.allowedTypeLiteral=n.SensorType=n.isValidSensor=n.isValidPort=void 0;const r=u(3827),i=u(31347),_=u(91439),p=u(64497),f=u(35058),c=["A","B","C","D","E","F"],h=[...c.map(o=>o.toLowerCase()),"accelerometer","gyroscope","position","orientation"];n.isValidPort=o=>c.includes(o),n.isValidSensor=o=>h.includes(o.toLowerCase());var y;(function(o){o[o.SimpleLight=8]="SimpleLight",o[o.WedoTilt=34]="WedoTilt",o[o.WedoDetect=35]="WedoDetect",o[o.BoostVision=37]="BoostVision",o[o.BoostExternalEncodedMotor=38]="BoostExternalEncodedMotor",o[o.ConvoyLMotor=46]="ConvoyLMotor",o[o.ConvoyXLMotor=47]="ConvoyXLMotor",o[o.FlipperSmallMotor=65]="FlipperSmallMotor",o[o.FlipperMediumMotor=48]="FlipperMediumMotor",o[o.FlipperLargeMotor=49]="FlipperLargeMotor",o[o.FlipperColor=61]="FlipperColor",o[o.FlipperDistance=62]="FlipperDistance",o[o.FlipperForce=63]="FlipperForce",o[o.StoneGreyMediumMotor=75]="StoneGreyMediumMotor",o[o.StoneGreyLargeMotor=76]="StoneGreyLargeMotor"})(y=n.SensorType||(n.SensorType={})),n.allowedTypeLiteral=o=>r.tupleLiteral([r.integerConstant(o)]),n.AllMotorTypes=[y.FlipperLargeMotor,y.FlipperMediumMotor,y.FlipperSmallMotor,y.StoneGreyLargeMotor,y.StoneGreyMediumMotor,y.ConvoyLMotor,y.ConvoyXLMotor,y.BoostExternalEncodedMotor],n.getSensorValue=(o,m,a,l,v,g)=>p.isConstantExpression(o)&&o.type==="string"&&!n.isValidSensor(o.value)?a:(v.import("util.sensors","get_sensor_value"),r.functionCall("get_sensor_value",[o,r.numberConstant(m),a,r.tupleLiteral(l.map(I=>r.integerConstant(I)))],g)),n.externalSensor=(o,m,a,l=!0)=>(v,g)=>{const I=g.compileStringInput(v,"PORT"),P=n.getSensorValue(I.expression,o,m,a,g,"number");if(l)return r.snippet(I.statements,P);{const R=r.id(g.generateName("sensor_value"),"number");return r.snippet([...I.statements,r.assignment(R,P),r.if_(f.isExpression(R,r.noneIdentifier),[r.assignment(R,m)])],R)}},n.internalSensor=(o,m,a,l)=>(v,g)=>r.exprOnlySnippet(n.getSensorValue(r.stringConstant(m),o,a,[],g,l)),n.baseMenu=o=>m=>(a,l)=>{const v=Object.keys(a.fields).filter(g=>g.endsWith(m))[0];if(v in a.fields)return r.exprOnlySnippet(o(a.fields[v][0]));throw new _.CompileError(`Could not find fieldname: ${m}`)},n.stringMenu=n.baseMenu(r.stringConstant),n.integerMenu=n.baseMenu(o=>r.integerConstant(i.Cast.toNumber(o))),n.numberMenu=n.baseMenu(o=>r.numberConstant(i.Cast.toNumber(o))),n.isAccelerationArgumentDefault=o=>{if(p.isConstantExpression(o)&&o.type==="string"){const[m,a]=o.value.split(" ");return m==="-1"&&a==="-1"}return!1},n.parseAccelerationArgument=(o,m)=>{const a=l=>i.clamp(l,0,1e4,m);if(p.isConstantExpression(o)&&o.type==="string"){const[l,v]=o.value.split(" "),g=a(r.integerConstant(i.Cast.toNumber(l))),I=a(r.integerConstant(i.Cast.toNumber(v)));return r.exprOnlySnippet(r.tupleLiteral([g,I]))}else{m.import("util.scratch","to_number");const l=m.generateName("acc");return r.snippet([r.assignment(l,r.methodCall(f.stringConcatExpression(o,r.stringConstant(" ")),"split",[r.stringConstant(" ")]))],r.tupleLiteral([a(r.functionCall("to_number",[r.listAccessor(l,0)])),a(r.functionCall("to_number",[r.listAccessor(l,1)]))]))}}},82999:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.operators=void 0;const r=u(64771),i=u(88320),_=u(81449);n.operators={expressions:{operator_add:i.add,operator_and:r.and,operator_contains:_.contains,operator_divide:i.divide,operator_equals:r.equals,operator_gt:r.gt,operator_join:_.join,operator_length:_.length,operator_letter_of:_.letterOf,operator_lt:r.lt,operator_mathop:i.op,operator_mod:i.mod,operator_multiply:i.multiply,operator_not:r.not,operator_or:r.or,operator_random:i.random,operator_round:i.round,operator_subtract:i.subtract,isInBetween:i.isInBetween}}},64771:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.not=n.or=n.and=n.gt=n.lt=n.equals=void 0;const r=u(3827),i=u(31347),_=u(64497),p=u(79028),f=u(35058),c=(o,m,a)=>_.isConstantExpression(o)&&_.isConstantExpression(m)?r.numberConstant(i.Cast.compare(o.value,m.value)):"type"in o&&o.type==="number"&&"type"in m&&m.type==="number"?f.subtractExpression(o,m):(a.import("util.scratch","compare"),r.functionCall("compare",[o,m])),h=o=>(m,a)=>{const l=a.compileExpressionInput(m,"OPERAND1","string"),v=a.compileExpressionInput(m,"OPERAND2","string"),g=c(l.expression,v.expression,a),I=[...l.statements,...v.statements],P=r.numberConstant(0);return o==="<"?r.snippet(I,f.lessThanExpression(g,P)):o===">"?r.snippet(I,f.greaterThanExpression(g,P)):r.snippet(I,f.equalsExpression(g,P))};n.equals=h("=="),n.lt=h("<"),n.gt=h(">");const y=o=>(m,a)=>{const l=i.hasInput(m,"OPERAND1")?a.compileBooleanInput(m,"OPERAND1"):r.exprOnlySnippet(r.falseLiteral),v=i.hasInput(m,"OPERAND2")?a.compileBooleanInput(m,"OPERAND2"):r.exprOnlySnippet(r.falseLiteral);return p.combineSnippets(o,l,v)};n.and=y(f.andExpression),n.or=y(f.orExpression),n.not=(o,m)=>{if(!i.hasInput(o,"OPERAND"))return r.exprOnlySnippet(r.booleanConstant(!1));const a=m.compileBooleanInput(o,"OPERAND");return r.snippet([...a.statements],f.notExpression(a.expression))}},88320:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isInBetween=n.op=n.round=n.mod=n.random=n.divide=n.multiply=n.subtract=n.add=void 0;const r=u(3827),i=u(64497),_=u(79028),p=u(31347),f=u(35058),c=(a,l)=>(v,g)=>{const I=g.compileNumberInput(v,"NUM1"),P=g.compileNumberInput(v,"NUM2");if(i.isConstantExpression(I.expression)&&I.expression.type==="number"&&i.isConstantExpression(P.expression)&&P.expression.type==="number"){const R=l(I.expression.value,P.expression.value);return r.exprOnlySnippet(r.numberConstant(R))}return _.combineSnippets(a,I,P)};function h(a,l,v=r.numberConstant(0)){const g=r.id(a.generateName("value"));return r.snippet([r.try_([...l.statements,r.assignment(g,l.expression)],"ValueError",[r.assignment(g,v)])],g)}n.add=c(f.addExpression,(a,l)=>a+l),n.subtract=c(f.subtractExpression,(a,l)=>a-l),n.multiply=c(f.multiplyExpression,(a,l)=>a*l);const y=(a,l,v)=>{if(i.isConstantExpression(l)&&l.type==="number")return l.value===0?(v.import("sys"),r.exprOnlySnippet(r.property("sys","maxsize"))):r.exprOnlySnippet(f.divideExpression(a,l));if(i.isConstantExpression(a)&&a.type==="number"&&a.value===0)return r.exprOnlySnippet(r.numberConstant(0));const g=r.id(v.generateName("divided"),"number"),I=f.equalsExpression(l,r.numberConstant(0));v.import("sys");const P=[r.assignment(g,r.property("sys","maxsize"))],R=[r.assignment(g,f.divideExpression(a,l))],E=r.if_(I,P,R);return r.snippet([E],g)};n.divide=(a,l)=>{const v=l.compileNumberInput(a,"NUM1"),g=l.compileNumberInput(a,"NUM2");if(i.isConstantExpression(v.expression)&&v.expression.type==="number"&&i.isConstantExpression(g.expression)&&g.expression.type==="number"){const P=v.expression.value/g.expression.value;return P===1/0||isNaN(P)?(l.import("sys"),r.exprOnlySnippet(r.property("sys","maxsize"))):r.exprOnlySnippet(r.numberConstant(P))}const I=y(v.expression,g.expression,l);return r.snippet([...v.statements,...g.statements,...I.statements],I.expression)},n.random=(a,l)=>{const v=l.compileNumberInput(a,"FROM"),g=l.compileNumberInput(a,"TO");l.import("urandom");const I=r.id(l.generateName("random"),"number");if(i.isConstantExpression(v.expression)&&i.isConstantExpression(g.expression)){let E;if(p.Cast.isInt(v.expression.value)&&p.Cast.isInt(g.expression.value)){const T=[v.expression.value,g.expression.value].sort((b,w)=>b-w);E=r.functionCall("urandom.randint",T.map(b=>r.integerConstant(b)))}else E=r.functionCall("urandom.uniform",[v.expression,g.expression]);return r.snippet([...v.statements,...g.statements,r.assignment(I,E)],I)}l.import("util.scratch","is_int");const P=r.id(l.generateName("rng"),"number"),R=r.id(l.generateName("v"));return r.snippet([...v.statements,...g.statements,r.assignment(P,r.listLiteral([v.expression,g.expression])),r.functionCall(r.property(P,"sort"),[]),r.assignment(I,r.ternaryIf(r.functionCall("all",[r.forComprehension(r.functionCall("is_int",[R]),R,P)]),r.functionCall("urandom.randint",[r.unpack(P)]),r.functionCall("urandom.uniform",[r.unpack(P)])))],I)},n.mod=(a,l)=>{const v=l.compileNumberInput(a,"NUM1"),g=l.compileNumberInput(a,"NUM2"),I=r.id(l.generateName("num"),"number"),P=r.id(l.generateName("modulus"),"number"),R=r.id(l.generateName("result"),"number");return r.snippet([...v.statements,...g.statements,r.assignment(I,v.expression),r.assignment(P,g.expression),r.if_(f.equalsExpression(P,r.integerConstant(0)),[r.assignment(R,r.integerConstant(0))],[r.assignment(R,f.modulusExpression(I,P)),r.if_(f.lessThanExpression(f.divideExpression(R,P),r.integerConstant(0)),[r.assignment(R,f.addExpression(R,P))])])],R)},n.round=(a,l)=>{const v=l.compileNumberInput(a,"NUM");return i.isConstantExpression(v.expression)&&v.expression.type==="number"?r.exprOnlySnippet(r.numberConstant(Math.round(v.expression.value))):r.snippet(v.statements,p.roundHalfUp(v.expression,l))};const o=(a,l)=>r.snippet(l.statements,r.functionCall(`math.${a}`,[l.expression],"number")),m=r.numberConstant(Number(Math.E.toFixed(15)));n.op=(a,l)=>{const[v]=a.fields.OPERATOR,g=l.compileNumberInput(a,"NUM");switch(v){case"abs":return r.snippet(g.statements,r.functionCall("abs",[g.expression],"number"));case"floor":case"sqrt":return l.import("math"),o(v,g);case"sin":case"cos":case"tan":case"asin":case"acos":case"atan":return l.import("util.scratch",v),r.snippet(g.statements,r.functionCall(v,[g.expression]));case"ceiling":return l.import("math"),o("ceil",g);case"ln":l.import("math");const I=o("log",g);return i.isConstantExpression(g.expression)&&g.expression.type==="number"&&g.expression.value>0?I:h(l,I);case"log":l.import("math");const P=o("log10",g);return i.isConstantExpression(g.expression)&&g.expression.type==="number"&&g.expression.value>0?P:h(l,P);case"e ^":return l.import("math"),r.snippet(g.statements,f.powerExpression(i.isConstantExpression(g.expression)?m:r.id("math.e"),g.expression));case"10 ^":return r.snippet(g.statements,f.powerExpression(r.integerConstant(10),g.expression));default:return r.exprOnlySnippet(r.integerConstant(0))}},n.isInBetween=(a,l)=>{const v=l.compileNumberInput(a,"VALUE"),g=l.compileNumberInput(a,"LOW"),I=l.compileNumberInput(a,"HIGH");return i.isConstantExpression(v.expression)&&v.expression.type==="number"&&i.isConstantExpression(g.expression)&&g.expression.type==="number"&&i.isConstantExpression(I.expression)&&I.expression.type==="number"?r.exprOnlySnippet(r.booleanConstant(v.expression.value<=I.expression.value&&v.expression.value>=g.expression.value)):r.snippet([...v.statements,...g.statements,...I.statements],r.inRangeExpression(g.expression,v.expression,I.expression,!0))}},81449:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.contains=n.length=n.letterOf=n.join=void 0;const r=u(3827),i=u(64497),_=u(79028),p=u(35058);n.join=(f,c)=>{const h=c.compileStringInput(f,"STRING1"),y=c.compileStringInput(f,"STRING2"),o=[...h.statements,...y.statements];return r.snippet(o,p.stringConcatExpression(h.expression,y.expression))},n.letterOf=(f,c)=>{const h=c.compileIntegerInput(f,"LETTER"),y=c.compileStringInput(f,"STRING");if(i.isConstantExpression(y.expression)&&y.expression.type==="string"&&i.isConstantExpression(h.expression)&&h.expression.type==="number")return h.expression.value>=1&&h.expression.value<=y.expression.value.length?r.exprOnlySnippet(r.stringConstant(y.expression.value[h.expression.value-1])):r.exprOnlySnippet(r.emptyString);const o=r.id(c.generateName("string")),m=r.id(c.generateName("letter")),a=r.id(c.generateName("letter"));return r.snippet([...h.statements,...y.statements,r.assignment(o,y.expression),r.assignment(m,p.subtractExpression(h.expression,r.integerConstant(1))),r.if_(_.validListIndex(o,m),[r.assignment(a,r.listAccessor(o,m))],[r.assignment(a,r.emptyString)])],a)},n.length=(f,c)=>{const h=c.compileStringInput(f,"STRING");if(i.isConstantExpression(h.expression)&&h.expression.type==="string")return r.exprOnlySnippet(r.numberConstant(h.expression.value.length));const y=r.id(c.generateName("length"));return r.snippet([...h.statements,r.assignment(y,r.functionCall("len",[h.expression]))],y)},n.contains=(f,c)=>{const h=c.compileStringInput(f,"STRING1"),y=c.compileStringInput(f,"STRING2");if(i.isConstantExpression(h.expression)&&h.expression.type==="string"&&i.isConstantExpression(y.expression)&&y.expression.type==="string")return r.exprOnlySnippet(r.booleanConstant(h.expression.value.toLowerCase().includes(y.expression.value.toLowerCase())));const o=r.id(c.generateName("needle")),m=r.id(c.generateName("haystack")),a=r.id(c.generateName("contains")),l=r.methodCall(o,"lower",[]),v=r.methodCall(m,"lower",[]);return r.snippet([...h.statements,...y.statements,r.assignment(o,y.expression),r.assignment(m,h.expression),r.assignment(a,p.greaterThanOrEqualExpression(r.methodCall(v,"find",[l]),r.integerConstant(0)))],a)}},69208:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.procedures=void 0;const r=u(3827),i=u(91439),_=u(31347),p=(y,o)=>{const m=o.procedures.getProcedure(y),a=new Map;Object.keys(y.inputs).forEach(g=>{try{a.set(g,o.compileExpressionInput(y,g,"string"))}catch(I){}});const l=[];for(const g of a.values())l.push(...g.statements);const v=m.args.map(g=>{const I=a.get(g.id);return _.exprToString(I===void 0?g.default:I.expression)});return[...l,r.await_(r.functionCall(m.name,[r.id("vm"),r.id("stack"),...v]))]},f=(y,o)=>{const m=o.getInputBlock(y,"custom_block");if(m===void 0)throw new i.CompileError("Could not find prototype for procedure.");const a=o.procedures.getProcedure(m);if(a.consumed)return[];a.consumed=!0,o.procedures.current=a;const l=a.args.map(I=>I.sanitizedName);let v=o.compileStatement(o.getNext(y));const g=v.find(I=>!["comment","emptyLine"].includes(I.stmt));return g&&g.stmt!=="yield"&&(v=[r.yield_(),...v]),[r.asyncFunctionDefinition(a.name,["vm","stack",...l],v)]},c=(y,o)=>{const[m]=y.fields.VALUE,a=o.procedures.getArgument(m),l=a===void 0?r.falseLiteral:r.id(a.sanitizedName);return r.exprOnlySnippet(l)},h=(y,o)=>{const[m]=y.fields.VALUE,a=o.procedures.getArgument(m),l=a===void 0?r.emptyString:r.id(a.sanitizedName);return r.exprOnlySnippet(l)};n.procedures={expressions:{argument_reporter_boolean:c,argument_reporter_string_number:h},stackInfo:{procedures_definition:{restartExistingThreads:!1}},statements:{procedures_call:p,procedures_definition:f}}},46465:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sensing=void 0;const r=u(3827),i=u(35058),_=u(64497),p=y=>(o,m)=>{const a=m.compileExpressionInput(o,y,"string");return[...a.statements,r.functionCall("print",[a.expression])]},f=(y,o)=>{const m=o.compileExpressionInput(y,"VALUE","string");if(_.isConstantExpression(m.expression)){const a=o.generateName("tmp");m.statements=[...m.statements,r.assignment(a,r.rawExpression(m.expression.value))],m.expression=r.id(a)}return m},c=(y,o)=>r.exprOnlySnippet(i.divideExpression(r.methodCall("vm","get_time",[],"number"),r.numberConstant(1e3))),h=(y,o)=>[r.functionCall("vm.reset_time",[])];n.sensing={expressions:{sensing_timer:c,sensing_asdynamic:f},statements:{sensing_askandwait:p("QUESTION"),sensing_resettimer:h}}},38090:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wedoPackages=void 0;const r=u(90856),i=u(76357);n.wedoPackages=[i.tiltPackage,r.motionPackage]},90856:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.motionPackage=void 0;const r=u(3827),i=u(35058),_=u(16240),p=u(79028),f=u(31347),c=r.integerConstant(10),h=(m,a)=>{const l=a.compileStringInput(m,"PORT"),v=_.getSensorValue(l.expression,0,c,[_.SensorType.WedoDetect],a,"number"),g=r.id(a.generateName("distance"));return r.snippet([...l.statements,r.assignment(g,v),r.assignment(g,r.ternaryIf(r.isNone(g),i.multiplyExpression(r.numberConstant(10),c),i.multiplyExpression(r.numberConstant(10),g)))],g)},y=(m,a)=>{const[l]=m.fields.COMPARATOR,v=a.compileNumberInput(m,"VALUE"),g=h(m,a),I=p.makeComparison(l)(g.expression,v.expression);return r.snippet([...v.statements,...g.statements],I)},o=(m,a)=>{const l=a.compileStatement(a.getNext(m)),v=y(m,a);return f.waitForConditionStack(m.id,v,l,a)};n.motionPackage={expressions:{wedoMotionDistance:h,wedoMotionIsDistance:y,"wedo-motion-sensor-selector":_.stringMenu("wedo-motion-sensor-selector")},stackInfo:{wedoMotionWhenDistance:{restartExistingThreads:!1}},statements:{wedoMotionWhenDistance:o}}},76357:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tiltPackage=void 0;const r=u(3827),i=u(35058),_=u(31347),p=u(16240),f=r.integerConstant(0),c=r.integerConstant(12),h={notTilted:1,tiltedUp:2,tiltedDown:3,tiltedRight:4,tiltedLeft:5};var y;(function(R){R[R.roll=0]="roll",R[R.pitch=1]="pitch"})(y||(y={}));const o=(R,E,T)=>p.getSensorValue(E,T,f,[p.SensorType.WedoTilt],R,"number"),m=(R,E)=>o(R,E,y.roll),a=(R,E)=>i.unaryMinusExpression(o(R,E,y.pitch)),l=(R,E)=>{const T=i.andExpression(i.lessThanOrEqualExpression(r.functionCall("abs",[E]),c),i.lessThanOrEqualExpression(r.functionCall("abs",[R]),c)),b=i.greaterThanOrEqualExpression(r.functionCall("abs",[E]),r.functionCall("abs",[R])),w=r.ternaryIf(i.greaterThanExpression(E,c),r.numberConstant(h.tiltedUp),r.numberConstant(h.tiltedDown)),D=r.ternaryIf(i.greaterThanExpression(R,c),r.numberConstant(h.tiltedRight),r.numberConstant(h.tiltedLeft)),L=r.ternaryIf(b,w,D);return r.ternaryIf(T,r.numberConstant(h.notTilted),L)},v=R=>{const E=["port"],T=r.id(E[0]),b=m(R,T),w=r.id("r"),D=a(R,T),L=r.id("p"),$=r.if_(i.orExpression(r.isNone(w),r.isNone(L)),[r.return_(r.numberConstant(h.notTilted))]),re=[r.assignment(w,b),r.assignment(L,D),$,r.return_(l(w,L))];return R.declareGlobalFunction("wedo","orientation","wedoTiltOrientation",E,re)},g=(R,E)=>{const[T]=R.fields.ORIENTATION,b=h[T]||0,w=E.compileStringInput(R,"PORT"),D=r.functionCall(v(E),[w.expression]);return r.snippet([...w.statements],i.equalsExpression(D,r.numberConstant(b)))},I=(R,E)=>{const T=E.compileStatement(E.getNext(R)),b=g(R,E);return _.waitForConditionStack(R.id,b,T,E)},P=(R,E)=>{const T=E.compileStringInput(R,"PORT"),[b]=R.fields.AXIS,w=parseInt(b,10),D=w===y.roll?m(E,T.expression):a(E,T.expression),L=r.id(E.generateName(w===y.roll?"roll":"pitch"));return r.snippet([...T.statements,r.assignment(L,D)],r.ternaryIf(r.isNotNone(L),L,f))};n.tiltPackage={expressions:{"wedo-tilt-sensor-selector":p.stringMenu("wedo-tilt-sensor-selector"),wedoTiltIsOrientation:g,wedoTiltAngle:P},stackInfo:{wedoTiltWhenOrientation:{restartExistingThreads:!1}},statements:{wedoTiltWhenOrientation:I}}},76473:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Compiler=void 0;const r=u(49563),i=u(3827),_=u(88973),p=u(29280),f=u(43656),c=u(80857),h=u(49318),y=u(82999),o=u(69208),m=u(46465),a=u(21985),l=u(31347),v=u(91439),g=u(35291),I=u(83155),P=u(64497),R=u(38090),E=[_.control,p.data,f.event,...c.flipperPackages,...h.boostPackages,...R.wedoPackages,y.operators,o.procedures,m.sensing],T={weather:{className:"WeatherExtension",additionalParams:[]},sound:{className:"SoundExtension",additionalParams:[]},music:{className:"MusicExtension",additionalParams:[]},bargraphmonitor:{className:"BargraphMonitorExtension",additionalParams:[]},linegraphmonitor:{className:"LinegraphMonitorExtension",additionalParams:[]},displaymonitor:{className:"DisplayMonitorExtension",additionalParams:[]},radiobroadcast:{className:"RadioBroadcastExtension",additionalParams:[i.id("vm")]},sensors:{className:"SensorsExtension",additionalParams:[]}};class b{constructor(W,ce){this.stackInfo={},this.stmtCompilers={},this.exprCompilers={},this.extensionFunctions={},this.isOpcodeSupported=te=>{const K=w(te);return!!(this.stmtCompilers[K]||this.exprCompilers[K])},this.isOpcodeHatBlock=te=>!!this.stackInfo[w(te)],this.compile=(te,K,ee=!0)=>{const de=this.findTarget(te,K),z=this.compileToAST(de,ee);return g.emitPython(z,ee)},this.compileFirstTarget=(te,K=!0)=>{var ee;const de=(ee=te.targets.find(z=>P.isTarget(z)))===null||ee===void 0?void 0:ee.name;if(!de)throw new v.CompileError("Could not find a valid target.");return this.compile(te,de,K)},this.compileIsolatedBlocks=(te,K=!0)=>{const ee=I.emptyTarget,de=te.map(Ie=>Object.assign(Object.assign({},I.emptyBlock),Ie));de.forEach(Ie=>ee.blocks[Ie.id]=Ie);const z=new a.Context(this,ee,K),G=de.find(Ie=>!Ie.parent&&!this.isOpcodeHatBlock(Ie.opcode));if(!G)throw Error("No top block found");z.procedures.register(Object.values(ee.blocks));const ge=de.filter(Ie=>Ie.opcode==="procedures_definition"),pe=r(ge,z.compileStatementBlock);if(this.stmtCompilers[w(G.opcode)])pe.push(...this.compileStatement(G,z));else{const Ie=this.compileExpression(G,z);pe.push(...Ie.statements,i.functionCall("print",[Ie.expression]))}const fe=L(z.moduleImports,z.namedImports),Ee=z.globalStatements.length?[i.emptyLine,...z.globalStatements]:[],De=this.handleExtensionFunctions(z);return g.emitPython([...fe,...Ee,...De,...pe],K)},this.compileToAST=(te,K)=>{const ee=new a.Context(this,te,K);K&&(ee.generateName("vm"),ee.generateName("stack")),ee.import("runtime",["VirtualMachine"]),ee.procedures.register(Object.values(te.blocks));const de=this.findStacks(te),z=r(de,ee.compileStatementBlock),G=Object.keys(T).filter(De=>ee.usedExtensions.has(De));D(G,ee);const ge=this.handleExtensionFunctions(ee),pe=re(te.name,Object.values(te.variables||{}),Object.values(te.lists||{}),G,ee),fe=L(ee.moduleImports,ee.namedImports),Ee=ee.globalStatements.length?[i.emptyLine,...ee.globalStatements]:[];return[...fe,...Ee,i.emptyLine,...ge,...z,pe]},this.findTarget=(te,K)=>{if(te.targets.length===0)throw new v.CompileError("No targets in program");const ee=te.targets.find(de=>de.name===K);if(ee===void 0)throw new v.CompileError(`Could not find target with name '${K}'`);if(!P.isTarget(ee))throw new v.CompileError(`Target with name '${K}' is the stage`);return ee},this.compileStatement=(te,K)=>{if(this.stmtCompilers[w(te.opcode)]){const ee=this.stmtCompilers[w(te.opcode)](te,K);if(ee.length>0){const de=[];return K.fullSize&&de.push(i.comment_(l.prettyPrintOpcode(w(te.opcode)))),de.push(...ee),de}else return[]}throw new Error(`Opcode for statement ${w(te.opcode)} is not yet implemented`)},this.compileExpression=(te,K)=>{if(this.exprCompilers[w(te.opcode)])return this.exprCompilers[w(te.opcode)](te,K);throw new Error(`opcode for expression ${w(te.opcode)} is not yet implemented`)},this.findStacks=te=>Object.keys(te.blocks).map(K=>Object.assign(Object.assign({},te.blocks[K]),{id:K})).filter(K=>!!K.opcode&&!!this.stackInfo[w(K.opcode)]),this.registerBlockPackages=te=>{for(const K of te)K.stackInfo&&(this.stackInfo=Object.assign(Object.assign({},this.stackInfo),K.stackInfo)),K.statements&&(this.stmtCompilers=Object.assign(Object.assign({},this.stmtCompilers),K.statements)),K.expressions&&(this.exprCompilers=Object.assign(Object.assign({},this.exprCompilers),K.expressions))},this.registerExtensionFunctions=te=>{if(te){const K=Object.keys(te).reduce((ee,de)=>(ee[de]=(z,G)=>{const ge=te[de].inputs||[],pe=G.markExtensionFunctionUsed(de,ge.map(De=>De.name)),fe=ge.map(De=>De.type==="field"?i.exprOnlySnippet(i.stringConstant(z.fields[De.blockArgument][0])):z.inputs.hasOwnProperty(De.blockArgument)?G.compileExpressionInput(z,De.blockArgument,De.type):i.exprOnlySnippet(i.noneIdentifier)),Ee=i.functionCall(pe,[i.id("vm"),...fe.map(De=>De.expression)]);return[...r(fe.map(De=>De.statements)),te[de].isAsync===!0?i.await_(Ee):Ee]},ee),{});this.stmtCompilers=Object.assign(Object.assign({},this.stmtCompilers),K)}},this.registerBlockPackages(E),W!==void 0&&this.registerBlockPackages(W),ce!==void 0&&(this.extensionFunctions=ce,this.registerExtensionFunctions(ce))}handleExtensionFunctions(W){return Object.keys(this.extensionFunctions).filter(ce=>W.usedExtensionFunctions.has(ce)).map(ce=>{const te=W.usedExtensionFunctions.get(ce);return te?(this.extensionFunctions[ce].imports.forEach(ee=>W.import(ee.module,ee.members)),(this.extensionFunctions[ce].isAsync===!0?i.asyncFunctionDefinition:i.functionDefinition)(te.functionName,["vm",...te.inputs.map(ee=>ee.toLowerCase())],[i.rawStatement(this.extensionFunctions[ce].functionBody,1)])):i.pass})}}n.Compiler=b;const w=B=>B.replace(/^(flipper.*?_)/,""),D=(B,W)=>{for(const ce of B)W.import("runtime.extensions",T[ce].className)},L=(B,W)=>{const ce=Array.from(B).sort().map(K=>i.import_(K)),te=Array.from(W).sort(([K],[ee])=>K.localeCompare(ee)).map(([K,ee])=>{const de=Array.from(ee).sort();return i.import_(K,de)});return ce.concat(te)},$=B=>B&&B.length>0?[...B,i.emptyLine]:[],re=(B,W,ce,te,K)=>i.functionDefinition("setup",["rpc","system","stop"],[i.assignment("vm",i.functionCall("VirtualMachine",[i.id("rpc"),i.id("system"),i.id("stop"),i.stringConstant(B)])),i.emptyLine,...$([...le(W,K),...oe(ce,K.usedLists),...X(te)]),...$(F(K.functionTriggers)),...$([...K.uniqueSetupStatements.values()]),i.return_(i.id("vm"))]),le=(B,W)=>r(B,([ce,te])=>{if(W.usedVariables.has(ce)){const K=Number(te);return K.toString()===te?[l.setVmVariable(ce,i.numberConstant(K),"number",W)]:[l.setVmVariable(ce,l.exprToString(l.scalarValToExpr(te)),"string",W)]}return[]}),oe=(B,W)=>r(B,([ce,te])=>{if(W.has(ce)){const K=i.listLiteral(te.map(ee=>l.exprToString(l.scalarValToExpr(ee))));return[i.assignment(i.vmList(ce),K)]}return[]}),X=B=>B.map(W=>i.assignment(i.id(`vm.extensions["${W}"]`),i.functionCall(T[W].className,[i.id("rpc"),...T[W].additionalParams]))),F=B=>B.map(W=>{switch(W.trigger){case"on_start":return i.functionCall("vm.register_on_start",[i.stringConstant(W.identifier),i.id(W.function)]);case"on_condition":return i.functionCall("vm.register_on_condition",[i.stringConstant(W.identifier),i.id(W.function),i.id(W.condition)]);case"on_broadcast":return i.functionCall("vm.register_on_broadcast",[i.stringConstant(W.identifier),i.id(W.function),i.stringConstant(W.message)]);case"on_button":return i.functionCall("vm.register_on_button",[i.stringConstant(W.identifier),i.id(W.function),i.stringConstant(W.button),i.stringConstant(W.event)]);case"on_gesture":return i.functionCall("vm.register_on_gesture",[i.stringConstant(W.identifier),i.id(W.function),i.integerConstant(v.HubGesture[W.event])]);case"on_orientation":return i.functionCall("vm.register_on_orientation",[i.stringConstant(W.identifier),i.id(W.function),i.integerConstant(v.HubOrientation[W.event])]);case"on_radiobroadcast":return i.methodCall(i.id('vm.extensions["radiobroadcast"]'),"register",[W.message,i.id(W.function),i.stringConstant(W.identifier)])}})},21985:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeShortNameGenerator=n.identifierBlacklist=n.Context=void 0;const r=u(83203),i=u(3827),_=u(79028),p=u(31347),f=u(91439),c=u(7906),h=u(64497);class y{constructor(a,l,v){this.moduleImports=new Set,this.namedImports=new Map,this.usedVariables=new Set,this.usedLists=new Set,this.usedVMStoreKeys=new Set,this.usedExtensions=new Set,this.usedExtensionFunctions=new Map,this.functionTriggers=[],this.globalStatements=[],this.uniqueSetupStatements=new Map,this.globalNames=new Map,this.import=(g,I)=>{if(I!==void 0){const P=typeof I=="string"?[I]:I,R=this.namedImports.get(g);if(R===void 0)this.namedImports.set(g,new Set(P));else for(const E of P)R.add(E)}else this.moduleImports.add(g)},this.declareGlobalStatement=(g,I,P,R)=>{const E=`${g}#${I}`;let T=this.globalNames.get(E);return T||(T=this.generateName(`g_${P}`),this.globalNames.set(E,T),this.globalStatements=[...this.globalStatements,R(T)]),i.id(T)},this.declareGlobalFunction=(g,I,P,R,E)=>this.declareGlobalStatement(g,I,P,T=>i.functionDefinition(T,R,E)),this.declareGlobalVariable=(g,I,P,R)=>this.declareGlobalStatement(g,I,P,E=>i.assignment(E,R)),this.markVariableUsed=g=>this.usedVariables.add(g),this.markListUsed=g=>this.usedLists.add(g),this.markVMStoreKeyUsed=g=>this.usedVMStoreKeys.add(g),this.markExtensionUsed=g=>this.usedExtensions.add(g),this.markExtensionFunctionUsed=(g,I)=>{const P=this.usedExtensionFunctions.get(g);if(P)return P.functionName;const R=this.generateName(g);return this.usedExtensionFunctions.set(g,{functionName:R,inputs:I}),R},this.registerFunctionTrigger=g=>this.functionTriggers.push(g),this.getBlock=g=>this.target.blocks[g],this.getNext=g=>g.next!==null?this.getBlock(g.next):void 0,this.getInputBlock=(g,I)=>{const P=g.inputs[I];if(P&&h.isBlockInput(P)&&P[1])return this.getBlock(P[1])},this.compileStatementBlock=g=>this.compiler.compileStatement(g,this),this.compileExpressionBlock=g=>this.compiler.compileExpression(g,this),this.compileStatement=g=>{if(g===void 0)return[];const I=[];let P=g;for(;P!==void 0;){const R=this.compileStatementBlock(P);I.push(...R),P=this.getNext(P)}return I},this.compileExpressionInput=(g,I,P)=>{const R=g.inputs[I];return h.isBlockInput(R)&&R[1]?this.compileExpressionBlock(this.getBlock(R[1])):this.expressionFromPrimitive(R[1],P)},this.compileNumberInput=(g,I)=>this.compileTypedInput(g,I,"number",p.exprToNumber),this.compileIntegerInput=(g,I)=>this.compileTypedInput(g,I,"number",p.exprToInteger),this.compileStringInput=(g,I)=>this.compileTypedInput(g,I,"string",p.exprToString),this.compileBooleanInput=(g,I)=>this.compileTypedInput(g,I,"boolean",p.exprToBoolean),this.getRawInputValue=(g,I)=>{const P=g.inputs[I];if(h.isBlockInput(P)&&P[1]){const R=this.getBlock(P[1]),E=Object.keys(R.fields).find(T=>T.endsWith(R.opcode));if(E)return R.fields[E][0]}},this.compileTypedInput=(g,I,P,R)=>{const{statements:E,expression:T,fromInput:b}=this.compileExpressionInput(g,I,P);return{statements:E,expression:R(T,this),fromInput:b}},this.expressionFromPrimitive=(g,I="string")=>{if(h.isNumPrimitive(g))return i.exprOnlySnippet(i.numberConstant(p.Cast.toNumber(g[1])));if(h.isStringPrimitive(g)||h.isColorPrimitive(g))return i.exprOnlySnippet(i.stringConstant(p.Cast.toString(g[1])));if(h.isVariablePrimitive(g)){const P=g[1];return i.exprOnlySnippet(p.getVmVariable(P,I,this))}if(h.isBroadcastPrimitive(g))return i.exprOnlySnippet(i.stringConstant(g[1]));if(h.isListPrimitive(g))return _.joinListContents(g[1],this);throw new f.CompileError(`Unknown primitive: ${JSON.stringify(g)}`)},this.compiler=a,this.target=l,this.fullSize=v,this.generateName=v?o():n.makeShortNameGenerator(),this.procedures=new c.default(this.generateName,this)}getCustomInputFieldValue(a,l){const v=this.getRawInputValue(a,l);return v?JSON.parse(v):void 0}}n.Context=y;const o=()=>{const m=new Map;return a=>{const l=m.get(a)||0;return m.set(a,l+1),l===0?a:`${a}_${l}`}};n.identifierBlacklist=["for","in","if","def","or","del","is","not","try","vm"],n.makeShortNameGenerator=()=>{let m=0;return a=>{let l;do l=r.toAlphabet(m++,r.KNOWN_ALPHABETS[52]);while(n.identifierBlacklist.includes(l));return l}}},31347:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.signalHash=n.frontFromUp=n.wrapClamp=n.clampBeats=n.clampDegrees=n.clampUInt16=n.clampSignedInt=n.clampDuration=n.clampSpeed=n.roundHalfUp=n.clamp=n.sleep=n.escapeVariableName=n.getVmVariable=n.setVmVariable=n.vmStoreType=n.setVMStateForPort=n.getVMStateForPort=n.setVMState=n.getVMState=n.prettyPrintOpcode=n.waitForConditionStack=n.hasInput=n.exprToBoolean=n.exprToString=n.exprToInteger=n.exprToNumber=n.scalarValToExpr=n.Cast=void 0;const r=u(79905),i=u(35860),_=u(77603),p=u(3827),f=u(91439),c=u(83155),h=u(64497),y=u(35058),o=36e5;n.Cast=r,n.scalarValToExpr=a=>typeof a=="string"?p.stringConstant(a):typeof a=="number"?p.numberConstant(a):p.booleanConstant(a),n.exprToNumber=(a,l)=>"type"in a&&a.type==="number"?a:h.isConstantExpression(a)?p.numberConstant(n.Cast.toNumber(a)):(l.import("util.scratch","to_number"),p.functionCall("to_number",[a])),n.exprToInteger=(a,l)=>a.expr==="integerConstant"?a:h.isConstantExpression(a)?p.integerConstant(Math.floor(n.Cast.toNumber(a.value))):(l.import("util.scratch","to_number"),p.floor(p.functionCall("to_number",[a]))),n.exprToString=a=>"type"in a&&a.type==="string"?a:h.isConstantExpression(a)?a.type==="boolean"?p.stringConstant(a.value?"True":"False"):p.stringConstant(n.Cast.toString(a.value)):p.functionCall("str",[a]),n.exprToBoolean=(a,l)=>"type"in a&&a.type==="boolean"?a:h.isConstantExpression(a)?p.booleanConstant(n.Cast.toBoolean(a.value)):(l.import("util.scratch","to_boolean"),p.functionCall("to_boolean",[a])),n.hasInput=(a,l)=>{const v=a.inputs[l];if(v===void 0)return!1;const g=v[0]===c.InputShadowStatus.unobscured,I=v[1]===null;return!g&&!I},n.waitForConditionStack=(a,l,v,g)=>{g.import("hub");const I=g.generateName("stack"),P=g.generateName("stack_condition");g.registerFunctionTrigger(f.onConditionFunctionTrigger(a,I,P));const R=[...l.statements,p.return_(l.expression)];return[p.asyncFunctionDefinition(I,["vm","stack"],v),p.functionDefinition(P,["vm","stack"],R)]},n.prettyPrintOpcode=a=>(a=a.replace(/([a-z0-9])([A-Z])|_/g,"$1 $2"),a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()),n.getVMState=(a,l)=>(l.markVMStoreKeyUsed(a),p.methodCall("vm.store",a,[])),n.setVMState=(a,l,v)=>(v.markVMStoreKeyUsed(a),p.methodCall("vm.store",a,[l])),n.getVMStateForPort=(a,l,v)=>(v.markVMStoreKeyUsed(a),p.methodCall("vm.store",a,[l])),n.setVMStateForPort=(a,l,v,g)=>(g.markVMStoreKeyUsed(a),p.methodCall("vm.store",a,[l,v])),n.vmStoreType={[f.VMStorePortKey.motor_speed]:"number",[f.VMStorePortKey.motor_last_status]:"number",[f.VMStorePortKey.motor_stall]:"boolean",[f.VMStorePortKey.motor_stop]:"number",[f.VMStorePortKey.motor_acceleration]:void 0,[f.VMStoreKey.move_calibration]:"number",[f.VMStoreKey.move_last_status]:"number",[f.VMStoreKey.move_pair]:void 0,[f.VMStoreKey.move_speed]:"number",[f.VMStoreKey.move_stop]:"number",[f.VMStoreKey.move_acceleration]:void 0,[f.VMStoreKey.display_brightness]:"number",[f.VMStoreKey.weather_location]:"string",[f.VMStoreKey.weather_offset]:"number",[f.VMStoreKey.sound_volume]:"number",[f.VMStoreKey.sound_pitch]:"number",[f.VMStoreKey.sound_pan]:"number",[f.VMStoreKey.music_tempo]:"number",[f.VMStoreKey.music_instrument]:"number"};const m=(a,l)=>(l.import("util.constants",a.toUpperCase()),p.id(a.toUpperCase()));n.setVmVariable=(a,l,v,g)=>(g.markVariableUsed(a),p.assignment(p.dictAccessor("vm.vars",p.stringConstant(n.escapeVariableName(a))),p.tupleLiteral([m(v,g),l]))),n.getVmVariable=(a,l,v)=>(v.markVariableUsed(a),v.import("util.scratch","get_variable"),p.functionCall("get_variable",[p.id("vm"),m(l,v),p.stringConstant(n.escapeVariableName(a))],l)),n.escapeVariableName=a=>encodeURIComponent(a).replace("%20"," "),n.sleep=a=>p.yield_(a),n.clamp=(a,l,v,g,I=!0)=>{if(h.isConstantExpression(a)&&a.type==="number"){const R=Math.max(l,Math.min(v,a.value)),E=I?Math.round(R):R;return p.numberConstant(E)}g.import("util.scratch","clamp");const P=p.functionCall("clamp",[a,p.integerConstant(l),p.integerConstant(v)]);return I?n.roundHalfUp(P,g):P},n.roundHalfUp=(a,l)=>h.isConstantExpression(a)&&a.type==="number"?p.integerConstant(Math.round(a.value)):(l.import("math"),p.methodCall("math","floor",[y.addExpression(a,p.numberConstant(.5))])),n.clampSpeed=(a,l)=>n.clamp(a,-100,100,l),n.clampDuration=(a,l)=>n.clamp(a,0,60,l,!1),n.clampSignedInt=(a,l,v=!1)=>n.clamp(a,-(Math.pow(2,31)-1),Math.pow(2,31)-1,l,v),n.clampUInt16=(a,l,v=!1)=>n.clamp(a,0,Math.pow(2,16)-1,l,v),n.clampDegrees=(a,l,v=!0)=>n.clamp(a,-o,o,l,v),n.clampBeats=(a,l)=>n.clamp(a,i.BEAT_RANGE.min,i.BEAT_RANGE.max,l,!1),n.wrapClamp=(a,l,v,g,I=!0)=>{if(h.isConstantExpression(a)&&a.type==="number"){const R=v-l+1,E=a.value-Math.floor((a.value-l)/R)*R,T=I?Math.round(E):E;return p.numberConstant(T)}g.import("util.scratch","wrap_clamp");const P=p.functionCall("wrap_clamp",[a,p.integerConstant(l),p.integerConstant(v)]);return I?n.roundHalfUp(P,g):P},n.frontFromUp=a=>{switch(a){case"up":return"back";case"front":return"up";case"back":return"down";case"down":return"front";case"leftside":return"back";case"rightside":return"front";default:return"up"}},n.signalHash=a=>_.crc32(a)},50468:(S,n,u)=>{"use strict";var r;r={value:!0},r=void 0;var i=u(76473);Object.defineProperty(n,"Si",{enumerable:!0,get:function(){return i.Compiler}});var _=u(91439);Object.defineProperty(n,"Hn",{enumerable:!0,get:function(){return _.CompileError}}),Object.defineProperty(n,"hq",{enumerable:!0,get:function(){return _.InvalidFieldError}}),r={enumerable:!0,get:function(){return _.VMStoreKey}},r={enumerable:!0,get:function(){return _.VMStorePortKey}},r={enumerable:!0,get:function(){return _.AnimationTransition}},r={signalHash:u(31347).signalHash}},91439:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TiltDirection=n.HubGesture=n.HubOrientation=n.AnimationTransition=n.VMStoreKey=n.VMStorePortKey=n.onOrientationFunctionTrigger=n.onGestureFunctionTrigger=n.onButtonFunctionTrigger=n.RadioBroadcastMessageReceivedFunctionTrigger=n.onBroadcastFunctionTrigger=n.onConditionFunctionTrigger=n.onStartFunctionTrigger=n.InvalidFieldError=n.CompileError=void 0;class u extends Error{constructor(){super(...arguments);this.name="CompileError"}}n.CompileError=u;class r extends u{constructor(h,y=""){super(`${h} is invalid. ${y}`);this.name="InvalidFieldError"}}n.InvalidFieldError=r,n.onStartFunctionTrigger=(c,h)=>({identifier:c,function:h,trigger:"on_start"}),n.onConditionFunctionTrigger=(c,h,y)=>({identifier:c,function:h,condition:y,trigger:"on_condition"}),n.onBroadcastFunctionTrigger=(c,h,y)=>({identifier:c,function:h,message:y,trigger:"on_broadcast"}),n.RadioBroadcastMessageReceivedFunctionTrigger=(c,h,y)=>({identifier:c,function:h,message:y,trigger:"on_radiobroadcast"}),n.onButtonFunctionTrigger=(c,h,y,o)=>({identifier:c,button:y,event:o,function:h,trigger:"on_button"}),n.onGestureFunctionTrigger=(c,h,y)=>({identifier:c,event:y,function:h,trigger:"on_gesture"}),n.onOrientationFunctionTrigger=(c,h,y)=>({identifier:c,event:y,function:h,trigger:"on_orientation"}),n.VMStorePortKey={motor_speed:"motor_speed",motor_last_status:"motor_last_status",motor_stall:"motor_stall",motor_stop:"motor_stop",motor_acceleration:"motor_acceleration"},n.VMStoreKey={move_speed:"move_speed",move_pair:"move_pair",move_last_status:"move_last_status",move_calibration:"move_calibration",move_acceleration:"move_acceleration",move_stop:"move_stop",display_brightness:"display_brightness",weather_location:"weather_location",weather_offset:"weather_offset",sound_volume:"sound_volume",sound_pitch:"sound_pitch",sound_pan:"sound_pan",music_tempo:"music_tempo",music_instrument:"music_instrument"};var i;(function(c){c[c.Immediate=0]="Immediate",c[c.NoFade=1]="NoFade",c[c.Overlay=2]="Overlay",c[c.ScrollRight=3]="ScrollRight",c[c.ScrollLeft=4]="ScrollLeft",c[c.FadeIn=5]="FadeIn",c[c.FadeOut=6]="FadeOut"})(i=n.AnimationTransition||(n.AnimationTransition={}));var _;(function(c){c[c.up=1]="up",c[c.front=0]="front",c[c.leftside=5]="leftside",c[c.down=4]="down",c[c.back=3]="back",c[c.rightside=2]="rightside"})(_=n.HubOrientation||(n.HubOrientation={}));var p;(function(c){c[c.tapped=0]="tapped",c[c.doubletapped=1]="doubletapped",c[c.shake=2]="shake",c[c.freefall=3]="freefall"})(p=n.HubGesture||(n.HubGesture={}));var f;(function(c){c.UP="1",c.DOWN="2",c.LEFT="3",c.RIGHT="4",c.ANY="5",c.FLAT="6"})(f=n.TiltDirection||(n.TiltDirection={}))},35291:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.emitPython=void 0;const r=u(49563);n.emitPython=(i,_=!0)=>{const p=_?4:1,f=_?" ":"",c=","+f,h=(b,w)=>`${b.split(`
`).map(D=>Array(w*p+1).join(" ")+D).join(`
`)}`,y=(b,w)=>r(b,D=>l(D,w)),o=b=>{const w=b.args.map(m);return`${g(b.callee)}(${w.join(c)})`},m=b=>"type"in b&&b.type==="keywordArgument"?`${b.keyword}=${g(b.argument)}`:g(b),a=b=>b.length===0||b.every(w=>w.stmt==="comment"),l=(b,w)=>{switch(b.stmt){case"emptyLine":return _?[""]:[];case"expression":return[h(g(b.expression),w)];case"break":case"pass":return[h(b.stmt,w)];case"import":return b.names===void 0?[h(`import ${b.module}`,w)]:b.names.includes("*")?[h(`from ${b.module} import *`,w)]:[h(`from ${b.module} import ${b.names.sort().join(c)}`,w)];case"yield":return b.duration===void 0?[h("yield",w)]:[h(`yield ${g(b.duration)}`,w)];case"functionDefinition":const D=b.async?"async ":"",L=[h(`${D}def ${b.name}(${b.args.join(c)}):`,w),...y(b.body,w+1)];return w===0?[...L,""]:L;case"functionCall":return[h(o(b),w)];case"assignment":return[h(`${E(b.lhs)}${f}=${f}${T(b.rhs)}`,w)];case"while":return a(b.body)?[]:[h(`while ${g(b.cond)}:`,w),...y(b.body,w+1)];case"for":return a(b.body)?[]:[h(`for ${R(b.variable)} in ${g(b.iterator)}:`,w),...y(b.body,w+1)];case"return":return b.value===void 0?[h("return",w)]:[h(`return ${g(b.value)}`,w)];case"if":const $=y(b.ifBody,w+1);a(b.ifBody)&&$.push(h("pass",w+1));const re=a(b.elseBody)?[]:[h("else:",w),...y(b.elseBody,w+1)];return[h(`if ${g(b.cond)}:`,w),...$,...re];case"keyword":return[h(`${b.keyword} ${R(b.target)}`,w)];case"await":return[h(`await ${g(b.target)}`,w)];case"try":return[h("try:",w),...y(b.tryBody,w+1),h(`except ${b.exception}:`,w),...y(b.exceptBody,w+1)];case"comment":return[h(`# ${b.value}`,w)];case"raw":return[h(b.value,w)];default:throw new Error(`Can't print unknown statement ${JSON.stringify(b)}`)}},v=b=>b.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),g=b=>P(b,!1),I=b=>P(b,!0),P=(b,w)=>{if("idnt"in b)return R(b);switch(b.expr){case"stringConstant":return`"${v(b.value)}"`;case"numberConstant":return b.value.toString();case"integerConstant":return Math.floor(b.value).toString();case"booleanConstant":return b.value?"True":"False";case"listLiteral":return`[${b.value.map(g).join(c)}]`;case"tupleLiteral":return b.value.length===1?`(${g(b.value[0])},)`:`(${b.value.map(g).join(c)})`;case"raw":return b.value;case"functionCall":return o(b);case"unaryOperator":const D=`${b.op}${b.addSpace?" ":""}${I(b.value)}`;return w?`(${D})`:D;case"binaryOperator":{const $=b.addSpace||_?" ":"",re=`${I(b.lhs)}${$}${b.op}${$}${I(b.rhs)}`;return w?`(${re})`:re}case"ternaryOperator":{const $=b.addSpace||_?" ":"",re=`${I(b.args[0])}${$}${b.op1}${$}${I(b.args[1])}${$}${b.op2}${$}${I(b.args[2])}`;return w?`(${re})`:re}case"forComprehension":return`[${g(b.body)} for ${g(b.variable)} in ${g(b.iterator)}]`;case"await":const L=`await ${g(b.target)}`;return w?`(${L})`:L;case"unpackOperator":return`*${g(b.value)}`;default:throw new Error(`Can't print unknown expression ${JSON.stringify(b)}`)}},R=b=>{switch(b.idnt){case"simpleIdentifier":return String(b.value);case"listAccessor":return`${g(b.list)}[${g(b.index)}]`;case"dictAccessor":return`${g(b.dict)}[${g(b.index)}]`;case"property":return`${I(b.target)}.${R(b.property)}`;default:throw new Error(`Cant't print unknown identifier: ${JSON.stringify(b)}`)}},E=b=>{switch(b.expr){case"raw":case"tupleLiteral":return g(b);default:return R(b)}},T=b=>"idnt"in b?R(b):g(b);return y(i,0).join(`
`)}},7906:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=u(3827),i=u(91439);class _{constructor(h,y){this.procedures=new Map,this.register=o=>{o.filter(m=>m.opcode==="procedures_prototype").forEach(m=>{const a=this.parsePrototype(m);this.procedures.has(a.proccode)||this.procedures.set(a.proccode,a)})},this.getProcedure=o=>{const m=this.procedures.get(o.mutation&&o.mutation.proccode||"");if(m===void 0)throw new i.CompileError(`Couldn't find procedure for '${o.mutation&&o.mutation.proccode}'`);return m},this.getArgument=o=>{if(this.current===void 0)throw new i.CompileError("Can't get argument name while there is no current procedure.");return this.current.args.filter(m=>m.name===o).pop()},this.parsePrototype=o=>{if(o.mutation===void 0)throw new i.CompileError("Could not find mutation field for procedure.");const m=o.mutation,a=this.generateName("proc"),l=v=>this.generateName(`${a}_${f(v)}`);return{proccode:m.proccode,name:a,args:this.parsePrototypeArgs(o,l),consumed:!1}},this.parsePrototypeArgs=(o,m)=>Object.keys(o.inputs).map(a=>{const l=this.ctx.getInputBlock(o,a);if(l===void 0)return null;const[v]=l.fields.VALUE;return{id:a,name:v,sanitizedName:m(v),default:p(l.opcode)}}).filter(a=>a!==null),this.generateName=h,this.ctx=y}}n.default=_;const p=c=>{if(c==="argument_reporter_string_number")return r.emptyString;if(c==="argument_reporter_boolean")return r.falseLiteral;throw new i.CompileError(`Unknown procedure argument opcode: '${c}'`)},f=c=>{const h=c.replace(/[^a-zA-Z0-9_]/g,"");return h===""?"arg":h}},83155:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.emptyTarget=n.emptyBlock=n.InputShadowStatus=void 0;var u;(function(r){r[r.unobscured=1]="unobscured",r[r.noShadow=2]="noShadow",r[r.obscured=3]="obscured"})(u=n.InputShadowStatus||(n.InputShadowStatus={})),n.emptyBlock={fields:{},inputs:{},next:"",parent:"",opcode:"",shadow:!1,topLevel:!0,id:"emptyBlock",x:0,y:0},n.emptyTarget={isStage:!1,blocks:{},name:"emptyTarget",broadcasts:{},costumes:[],lists:{},sounds:[],variables:{},volume:1,currentCostume:1}},64497:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isConstantExpression=n.isBlockInput=n.isPrimitiveInput=n.isColorPrimitive=n.isListPrimitive=n.isVariablePrimitive=n.isBroadcastPrimitive=n.isStringPrimitive=n.isNumPrimitive=n.isTarget=void 0;const r=u(83155);n.isTarget=i=>i!==void 0&&!i.isStage,n.isNumPrimitive=i=>i[0]>=4&&i[0]<=8,n.isStringPrimitive=i=>i[0]===10,n.isBroadcastPrimitive=i=>i[0]===11,n.isVariablePrimitive=i=>i[0]===12,n.isListPrimitive=i=>i[0]===13,n.isColorPrimitive=i=>i[0]===9,n.isPrimitiveInput=i=>typeof i[1]!="string"&&(i[0]===r.InputShadowStatus.unobscured||i[0]===r.InputShadowStatus.obscured),n.isBlockInput=i=>!n.isPrimitiveInput(i),n.isConstantExpression=i=>i.expr==="stringConstant"||i.expr==="numberConstant"||i.expr==="integerConstant"||i.expr==="booleanConstant"||i.expr==="listLiteral"},74806:S=>{S.exports={firmware:{version:[1,3,0,0],file:"firmware/FLIPPER-v1.3.00.0000.bin"},runtime:{version:[4,0,0,7],files:["/_api/__init__.mpy","/_api/app.mpy","/_api/button.mpy","/_api/colorsensor.mpy","/_api/control.mpy","/_api/distancesensor.mpy","/_api/forcesensor.mpy","/_api/large_technic_hub.mpy","/_api/lightmatrix.mpy","/_api/motionsensor.mpy","/_api/motor.mpy","/_api/motorpair.mpy","/_api/operator.mpy","/_api/speaker.mpy","/_api/statuslight.mpy","/_api/util.mpy","/boot.py","/commands/__init__.mpy","/commands/abstract_handler.mpy","/commands/device_methods.mpy","/commands/hub_methods.mpy","/commands/light_methods.mpy","/commands/linegraphmonitor_methods.mpy","/commands/motor_methods.mpy","/commands/move_methods.mpy","/commands/program_methods.mpy","/commands/sound_methods.mpy","/commands/wait_methods.mpy","/event_loop/__init__.mpy","/event_loop/event_loop.mpy","/hub_runtime.mpy","/main.py","/mindstorms/__init__.mpy","/mindstorms/control.mpy","/mindstorms/operator.mpy","/mindstorms/util.mpy","/programrunner/__init__.mpy","/projects/standalone.mpy","/projects/standalone_/__init__.mpy","/projects/standalone_/animation.mpy","/projects/standalone_/device_helper.mpy","/projects/standalone_/devices.mpy","/projects/standalone_/display.mpy","/projects/standalone_/priority_mapping.mpy","/projects/standalone_/program.mpy","/projects/standalone_/row.mpy","/projects/standalone_/util.mpy","/protocol/__init__.mpy","/protocol/notifications.mpy","/protocol/rpc_protocol.mpy","/protocol/ujsonrpc.mpy","/runtime/__init__.mpy","/runtime/dirty_dict.mpy","/runtime/extensions/__init__.mpy","/runtime/extensions/abstract_extension.mpy","/runtime/extensions/displaymonitor.mpy","/runtime/extensions/linegraphmonitor.mpy","/runtime/extensions/music.mpy","/runtime/extensions/radio_broadcast.mpy","/runtime/extensions/sensors.mpy","/runtime/extensions/sound.mpy","/runtime/extensions/weather.mpy","/runtime/multimotor.mpy","/runtime/stack.mpy","/runtime/virtualmachine.mpy","/runtime/vm_store.mpy","/sounds/menu_click","/sounds/menu_fastback","/sounds/menu_program_start","/sounds/menu_program_stop","/sounds/menu_shutdown","/sounds/startup","/spike/__init__.mpy","/spike/control.mpy","/spike/operator.mpy","/spike/util.mpy","/system/__init__.mpy","/system/abstractwrapper.mpy","/system/callbacks/__init__.mpy","/system/callbacks/customcallbacks.mpy","/system/display.mpy","/system/displayunitwrapper.mpy","/system/displaywrapper.mpy","/system/motors.mpy","/system/motorwrapper.mpy","/system/move.mpy","/system/movewrapper.mpy","/system/simplemotorwrapper.mpy","/system/simplemovewrapper.mpy","/system/sound.mpy","/ui/hubui.mpy","/ui/hubui_mini.mpy","/util/__init__.mpy","/util/adjust_motor_offset/AbsoluteMotorAdjust.mpy","/util/adjust_motor_offset/lpf2/__init__.mpy","/util/adjust_motor_offset/lpf2/lpf2_logging.mpy","/util/adjust_motor_offset/lpf2/lpf2_motor_adjust.mpy","/util/adjust_motor_offset/lpf2/lpf2_motor_eeprom.mpy","/util/adjust_motor_offset/lpf2/lpf2_packet.mpy","/util/adjust_motor_offset/lpf2/lpf2_process.mpy","/util/animations.mpy","/util/color.mpy","/util/constants.mpy","/util/constants_image.mpy","/util/error_handler.mpy","/util/font.mpy","/util/led.mpy","/util/log.mpy","/util/motion.mpy","/util/motor.mpy","/util/movement.mpy","/util/print_override.mpy","/util/resetter.mpy","/util/rotation.mpy","/util/schedule.mpy","/util/scratch.mpy","/util/sensors.mpy","/util/storage.mpy","/util/time.mpy","/version.py"]},variants:[{firmware:{version:[1,0,0,71],file:"firmware/GECKO-v1.0.00.0071-release.bin",useFileTransferMode:!1},runtime:{version:[4,0,0,7],files:["/_api/__init__.mpy","/_api/app.mpy","/_api/button.mpy","/_api/colorsensor.mpy","/_api/control.mpy","/_api/distancesensor.mpy","/_api/forcesensor.mpy","/_api/large_technic_hub.mpy","/_api/lightmatrix.mpy","/_api/motionsensor.mpy","/_api/motor.mpy","/_api/motorpair.mpy","/_api/operator.mpy","/_api/speaker.mpy","/_api/statuslight.mpy","/_api/util.mpy","/boot.py","/commands/__init__.mpy","/commands/abstract_handler.mpy","/commands/device_methods.mpy","/commands/hub_methods.mpy","/commands/light_methods.mpy","/commands/linegraphmonitor_methods.mpy","/commands/motor_methods.mpy","/commands/move_methods.mpy","/commands/program_methods.mpy","/commands/sound_methods.mpy","/commands/wait_methods.mpy","/event_loop/__init__.mpy","/event_loop/event_loop.mpy","/hub_runtime.mpy","/main.py","/mindstorms/__init__.mpy","/mindstorms/control.mpy","/mindstorms/operator.mpy","/mindstorms/util.mpy","/programrunner/__init__.mpy","/projects/standalone.mpy","/projects/standalone_/__init__.mpy","/projects/standalone_/animation.mpy","/projects/standalone_/device_helper.mpy","/projects/standalone_/devices.mpy","/projects/standalone_/display.mpy","/projects/standalone_/priority_mapping.mpy","/projects/standalone_/program.mpy","/projects/standalone_/row.mpy","/projects/standalone_/util.mpy","/protocol/__init__.mpy","/protocol/notifications.mpy","/protocol/rpc_protocol.mpy","/protocol/ujsonrpc.mpy","/runtime/__init__.mpy","/runtime/dirty_dict.mpy","/runtime/extensions/__init__.mpy","/runtime/extensions/abstract_extension.mpy","/runtime/extensions/displaymonitor.mpy","/runtime/extensions/linegraphmonitor.mpy","/runtime/extensions/music.mpy","/runtime/extensions/radio_broadcast.mpy","/runtime/extensions/sensors.mpy","/runtime/extensions/sound.mpy","/runtime/extensions/weather.mpy","/runtime/multimotor.mpy","/runtime/stack.mpy","/runtime/virtualmachine.mpy","/runtime/vm_store.mpy","/spike/__init__.mpy","/spike/control.mpy","/spike/operator.mpy","/spike/util.mpy","/system/__init__.mpy","/system/abstractwrapper.mpy","/system/callbacks/__init__.mpy","/system/callbacks/customcallbacks.mpy","/system/display.mpy","/system/displayunitwrapper.mpy","/system/displaywrapper.mpy","/system/motors.mpy","/system/motorwrapper.mpy","/system/move.mpy","/system/movewrapper.mpy","/system/simplemotorwrapper.mpy","/system/simplemovewrapper.mpy","/system/sound.mpy","/ui/hubui.mpy","/ui/hubui_mini.mpy","/util/__init__.mpy","/util/adjust_motor_offset/AbsoluteMotorAdjust.mpy","/util/adjust_motor_offset/lpf2/__init__.mpy","/util/adjust_motor_offset/lpf2/lpf2_logging.mpy","/util/adjust_motor_offset/lpf2/lpf2_motor_adjust.mpy","/util/adjust_motor_offset/lpf2/lpf2_motor_eeprom.mpy","/util/adjust_motor_offset/lpf2/lpf2_packet.mpy","/util/adjust_motor_offset/lpf2/lpf2_process.mpy","/util/animations.mpy","/util/color.mpy","/util/constants.mpy","/util/constants_image.mpy","/util/error_handler.mpy","/util/font.mpy","/util/led.mpy","/util/log.mpy","/util/motion.mpy","/util/motor.mpy","/util/movement.mpy","/util/print_override.mpy","/util/resetter.mpy","/util/rotation.mpy","/util/schedule.mpy","/util/scratch.mpy","/util/sensors.mpy","/util/storage.mpy","/util/time.mpy","/version.py"]},variantCheck:"import hub;pid=hub.info().get('usb_pid', 0);print(pid == 13 or not hasattr(hub, 'display'))",variantId:13}]}},67430:function(S,n){"use strict";var u=this&&this.__extends||function(){var _=function(p,f){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var y in h)h.hasOwnProperty(y)&&(c[y]=h[y])},_(p,f)};return function(p,f){_(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.DecodingError=n.EncodingError=void 0;var r=function(_){u(p,_);function p(f,c){var h=_.call(this,c!=null?c:"Error encoding: "+JSON.stringify(f))||this;return h.t=f,Object.setPrototypeOf(h,p.prototype),h}return p}(Error);n.EncodingError=r;var i=function(_){u(p,_);function p(f,c){var h=_.call(this,c!=null?c:"Error decoding: "+JSON.stringify(f))||this;return h.bytes=f,Object.setPrototypeOf(h,p.prototype),h}return p}(Error);n.DecodingError=i},9093:function(S,n,u){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(b){for(var w,D=1,L=arguments.length;D<L;D++){w=arguments[D];for(var $ in w)Object.prototype.hasOwnProperty.call(w,$)&&(b[$]=w[$])}return b},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(b,w,D,L){L===void 0&&(L=D),Object.defineProperty(b,L,{enumerable:!0,get:function(){return w[D]}})}:function(b,w,D,L){L===void 0&&(L=D),b[L]=w[D]}),_=this&&this.__setModuleDefault||(Object.create?function(b,w){Object.defineProperty(b,"default",{enumerable:!0,value:w})}:function(b,w){b.default=w}),p=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var D in b)Object.hasOwnProperty.call(b,D)&&i(w,b,D);return _(w,b),w},f=this&&this.__spreadArrays||function(){for(var b=0,w=0,D=arguments.length;w<D;w++)b+=arguments[w].length;for(var L=Array(b),$=0,w=0;w<D;w++)for(var re=arguments[w],le=0,oe=re.length;le<oe;le++,$++)L[$]=re[le];return L};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var c=u(67430),h=u(48095),y=u(58533),o=p(u(33321)),m=u(63734),a={MediumMotor:1,SystemTrainMotor:2,Turn:3,Power:4,Touch:5,LargeMotor:6,XMotor:7,Light:8,Light1:9,Light2:10,TPoint:11,Explod:12,ThreePart:13,Uart:14,Voltage:20,Current:21,PiezoBuzzer:22,RGBLight:23,TestDevice:24,HubLedMatrix:25,WeDoTiltSensor:34,WeDoDetectSensor:35,BoostVisionSensor:37,BoostExternalEncodedMotor:38,BoostInternalEncodedMotor:39,BoostInternalTiltSensor:40,DuploTrainMotor:41,DuploSoundPlayer:42,DuploColorTagReader:43,DuploMoveSensor:44,MotorNo2ConvoyLarge:46,MotorNo3ConvoyXLarge:47,MotorNo5MediumAzureSpikeMedium:48,MotorNo6MediumAzureSpikeLarge:49,ThreeAxisGesture:54,CityRemoteButtonSensor:55,RssiSensor:56,ThreeAxisAcceleration:57,ThreeAxisGyro:58,ThreeAxisOrientation:59,TemperatureSensor:60,SpikeColorSensor:61,SpikeDistanceSensor:62,SpikeForceSensor:63,RGBSensor:64,MotorNo7MediumAzure:65,BoostVm:66,DBotInternalEncodedMotor:67,DBotColorSensor:68,LeafGameEngine:70,LeafGesture:71,LeafDisplay:72,LeafTag:73,LeafPants:74,MotorNo5StoneGreyMedium:74,MotorNo6StoneGreyLarge:76,ConnectionButton:77,ChargingLight:78,Speaker:79,BreakOutDType_0_10:80,BreakOutRType:81,BreakOutATypeOnly:82,BreakOutAType:83,BreakOutATypePlusMinusX2:84},l=y.invertObject(a),v=m.map(function(b){var w=l[b];return w===void 0?{tag:"Unknown",value:b}:{tag:w,value:b}})(m.singleUint16),g={detached:h.makeUint8(0),attached:h.makeUint8(1),attachedVirtual:h.makeUint8(2)},I=m.ObjectSyntax.begin.bindLabelKeyAs("portId",m.single,h.makePortId).skip(m.constant(g.attached)).bindLabelKey("ioTypeId",v).bindLabelKey("hardwareRevision",o.codec.decode()).bindLabelKey("softwareRevision",o.codec.decode()).map(function(b){return{tag:"AttachedIoBody",value:b}}).value,P=m.ObjectSyntax.begin.bindLabelKeyAs("portId",m.single,h.makePortId).skip(m.constant(g.attachedVirtual)).bindLabelKey("ioTypeId",v).bindLabelKeyAs("vPortIdA",m.single,h.makePortId).bindLabelKeyAs("vPortIdB",m.single,h.makePortId).map(function(b){return{tag:"AttachedVirtualIoBody",value:b}}).value,R=m.ObjectSyntax.begin.bindLabelKeyAs("value",m.single,h.makePortId).skip(m.constant(g.detached)).map(function(b){return r({tag:"DetachedIoBody"},b)}).value,E=new m.Syntax(I).choice(R).choice(P).value,T=function(b){switch(b.tag){case"AttachedIoBody":return f([h.asByte(b.value.portId),h.asByte(g.attached)],h.Codecs.uint16.encode(b.value.ioTypeId.value),o.codec.encode(b.value.hardwareRevision),o.codec.encode(b.value.softwareRevision));case"DetachedIoBody":return[h.asByte(b.value),h.asByte(g.detached)];case"AttachedVirtualIoBody":throw new c.EncodingError("Encode not implemented for AttachedVirtualIoBody")}};n.codec={decode:function(b){return E},encode:function(b){return T(b)}}},85417:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(o,m,a,l){l===void 0&&(l=a),Object.defineProperty(o,l,{enumerable:!0,get:function(){return m[a]}})}:function(o,m,a,l){l===void 0&&(l=a),o[l]=m[a]}),i=this&&this.__setModuleDefault||(Object.create?function(o,m){Object.defineProperty(o,"default",{enumerable:!0,value:m})}:function(o,m){o.default=m}),_=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var m={};if(o!=null)for(var a in o)Object.hasOwnProperty.call(o,a)&&r(m,o,a);return i(m,o),m};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var p=u(48095),f=u(63734),c=_(u(46409)),h=function(o){switch(o){case 1:return"Ack";case 2:return"Mack";case 3:return"BufferOverflow";case 4:return"Timeout";case 5:return"CommandNotRecognized";case 6:return"InvalidUse";case 7:return"Overcurrent";case 8:return"InternalError"}return{tag:"Unknown",value:p.makeByte(o)}},y=f.ObjectSyntax.begin.bindLabelKey("commandType",c.codec.decode()).bindLabelKeyAs("errorCode",f.single,h).value;n.codec={decode:function(){return y}}},18338:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(v,g,I,P){P===void 0&&(P=I),Object.defineProperty(v,P,{enumerable:!0,get:function(){return g[I]}})}:function(v,g,I,P){P===void 0&&(P=I),v[P]=g[I]}),i=this&&this.__setModuleDefault||(Object.create?function(v,g){Object.defineProperty(v,"default",{enumerable:!0,value:g})}:function(v,g){v.default=g}),_=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var I in v)Object.hasOwnProperty.call(v,I)&&r(g,v,I);return i(g,v),g},p=this&&this.__spreadArrays||function(){for(var v=0,g=0,I=arguments.length;g<I;g++)v+=arguments[g].length;for(var P=Array(v),R=0,g=0;g<I;g++)for(var E=arguments[g],T=0,b=E.length;T<b;T++,R++)P[R]=E[T];return P};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(48095),c=u(63734),h=_(u(46409)),y=function(v){return(v&128)===128},o=c.map(function(v){return(v[0]&127)+(v[1]<<7)})(c.take(2)),m=c.flatMap(function(v){return y(v)?o:c.singleUint8})(c.peek),a=c.singleUint8,l=c.ObjectSyntax.begin.bindLabelKey("length",m).bindLabelKey("hubIdentifier",a).bindLabelKey("messageType",h.codec.decode()).value;n.codec={decode:function(v){return l},encode:function(v){return p([f.makeByte(v.length),f.makeByte(v.hubIdentifier)],h.codec.encode(v.messageType))}}},95208:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(48095),i=u(63734),_=function(c){switch(c){case 48:return"HubWillSwitchOff";case 49:return"HubWillDisconnect";case 50:return"HubWillGoIntoBootMode"}return{tag:"Unknown",value:r.makeByte(c)}},p=new i.Syntax(i.singleUint8).map(_).parser,f=function(c){switch(c){case"SwitchOffHub":return 1;case"Disconnect":return 2;case"VCCPortControlOn":return 3;case"VCCPortControlOff":return 4;case"ActivateBUSYIndication":return 5;case"ResetBUSYIndication":return 6;case"ShutdownFast":return 47}};n.codec={decode:function(){return p},encode:function(c){return[r.makeByte(f(c))]}}},70909:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(F,B,W,ce){ce===void 0&&(ce=W),Object.defineProperty(F,ce,{enumerable:!0,get:function(){return B[W]}})}:function(F,B,W,ce){ce===void 0&&(ce=W),F[ce]=B[W]}),i=this&&this.__setModuleDefault||(Object.create?function(F,B){Object.defineProperty(F,"default",{enumerable:!0,value:B})}:function(F,B){F.default=B}),_=this&&this.__importStar||function(F){if(F&&F.__esModule)return F;var B={};if(F!=null)for(var W in F)Object.hasOwnProperty.call(F,W)&&r(B,F,W);return i(B,F),B},p=this&&this.__spreadArrays||function(){for(var F=0,B=0,W=arguments.length;B<W;B++)F+=arguments[B].length;for(var ce=Array(F),te=0,B=0;B<W;B++)for(var K=arguments[B],ee=0,de=K.length;ee<de;ee++,te++)ce[te]=K[ee];return ce};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(67430),c=_(u(33321)),h=u(48095),y=u(63734),o=1,m=6,a=3,l=4,v=1,g=2,I=3,P=4,R=5,E=6,T=function(F){switch(F.tag){case"EnableUpdate":return[h.makeByte(g)];case"DisableUpdate":return[h.makeByte(I)];case"SetString":return p([h.makeByte(v)],F.value.substring(0,14).split("").map(function(B){return h.makeByte(B.charCodeAt(0))}));case"RequestUpdate":return[h.makeByte(R)];case"Reset":return[h.makeByte(P)]}},b=function(F){switch(F.tag){case"HubPropertyAdvertisingNameUpdate":case"HubPropertyAdvertisingName":return h.makeByte(o);case"HubPropertyBatteryVoltage":case"HubPropertyBatteryVoltageUpdate":return h.makeByte(m);case"HubPropertyFWVersion":case"HubPropertyFWVersionUpdate":return h.makeByte(a);case"HubPropertyHWVersion":case"HubPropertyHWVersionUpdate":return h.makeByte(l)}},w=function(F){switch(F.tag){case"HubPropertyFWVersionUpdate":case"HubPropertyHWVersionUpdate":return p([b(F),h.makeByte(E)],c.codec.encode(F.value));case"HubPropertyAdvertisingNameUpdate":return p([b(F),h.makeByte(E)],h.Codecs.string.encode(F.value));case"HubPropertyBatteryVoltageUpdate":return p([b(F),h.makeByte(E)],h.Codecs.uint8.encode(F.value));default:return p([b(F)],T(F.operation))}},D=function(){return y.ObjectSyntax.begin.bindLabelKey("payload",y.singleUint8).map(function(F){var B=F.payload;return{property:{tag:"HubPropertyBatteryVoltageUpdate",value:B}}}).value},L=function(){return y.ObjectSyntax.begin.bindLabelKey("fwversion",c.codec.decode()).map(function(F){var B=F.fwversion;return{property:{tag:"HubPropertyFWVersionUpdate",value:B}}}).value},$=function(){return y.ObjectSyntax.begin.bindLabelKey("hwversion",c.codec.decode()).map(function(F){var B=F.hwversion;return{property:{tag:"HubPropertyHWVersionUpdate",value:B}}}).value},re=function(){return y.ObjectSyntax.begin.bindLabelKey("payload",y.stringParser).map(function(F){var B=F.payload;return{property:{tag:"HubPropertyAdvertisingNameUpdate",value:B}}}).value},le=function(F){if(F===g)return y.success({property:{tag:"HubPropertyBatteryVoltage",operation:{tag:"EnableUpdate"}}});if(F===I)return y.success({property:{tag:"HubPropertyBatteryVoltage",operation:{tag:"DisableUpdate"}}});if(F===R)return y.success({property:{tag:"HubPropertyBatteryVoltage",operation:{tag:"RequestUpdate"}}});throw new f.DecodingError([h.makeByte(F)],"Cannot decode hub property battery voltage operation")},oe=function(F){if(F===g)return y.success({property:{tag:"HubPropertyAdvertisingName",operation:{tag:"EnableUpdate"}}});if(F===I)return y.success({property:{tag:"HubPropertyAdvertisingName",operation:{tag:"DisableUpdate"}}});if(F===R)return y.success({property:{tag:"HubPropertyAdvertisingName",operation:{tag:"RequestUpdate"}}});if(F===v)return y.ObjectSyntax.begin.bindLabelKey("value",y.stringParser).map(function(B){var W=B.value;return{property:{tag:"HubPropertyAdvertisingName",operation:{tag:"SetString",value:W}}}}).value;if(F===P)return y.success({property:{tag:"HubPropertyAdvertisingName",operation:{tag:"Reset"}}});throw new f.DecodingError([h.makeByte(F)],"Cannot decode hub property battery voltage operation")},X=y.ObjectSyntax.begin.bindLabelKey("property",y.singleUint8).bindLabelKey("operation",y.singleUint8).flatMap(function(F){var B=F.property,W=F.operation;switch(W){case E:switch(B){case a:return L();case l:return $();case m:return D();case o:return re()}case v:case g:case I:case P:case R:switch(B){case a:return y.success({property:{tag:"HubPropertyFWVersion",operation:{tag:"RequestUpdate"}}});case l:return y.success({property:{tag:"HubPropertyHWVersion",operation:{tag:"RequestUpdate"}}});case m:return le(W);case o:return oe(W)}}return y.fail("Cannot parse hub property: "+B)}).value;n.codec={encode:function(F){return p(w(F.property))},decode:function(){return X}}},46409:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(63734),i=u(48095),_=u(58533),p={HubProperties:1,HubActions:2,HubAlerts:3,HubAttachedIO:4,GenericErrorMessages:5,HWNetworkCommands:8,FWUpdate_GoIntoBootMode:16,FWUpdate_LockMemory:17,FWUpdate_LockStatusRequest:18,FWUpdate_LockStatus:19,PortInformationRequest:33,PortModeInformationRequest:34,PortInputFormatSetupSingle:65,PortInputFormatSetupCombinedMode:66,PortInformation:67,PortModeInformation:68,PortValueSingle:69,PortValueCombinedMode:70,PortInputFormatSingle:71,PortInputFormatCombinedMode:72,VirtualPortSetup:97,PortOutputCommand:129,PortOutputCommandFeedback:130},f=_.invertObject(p),c=function(y){return typeof y!="string"?y.value:p[y]},h=function(y){var o=f[y];return o===void 0?{tag:"Unknown",value:y}:o};n.codec={decode:function(y){return r.map(h)(r.singleUint8)},encode:function(y){return[i.makeByte(c(y))]}}},20491:function(S,n,u){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(K){for(var ee,de=1,z=arguments.length;de<z;de++){ee=arguments[de];for(var G in ee)Object.prototype.hasOwnProperty.call(ee,G)&&(K[G]=ee[G])}return K},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(K,ee,de,z){z===void 0&&(z=de),Object.defineProperty(K,z,{enumerable:!0,get:function(){return ee[de]}})}:function(K,ee,de,z){z===void 0&&(z=de),K[z]=ee[de]}),_=this&&this.__setModuleDefault||(Object.create?function(K,ee){Object.defineProperty(K,"default",{enumerable:!0,value:ee})}:function(K,ee){K.default=ee}),p=this&&this.__importStar||function(K){if(K&&K.__esModule)return K;var ee={};if(K!=null)for(var de in K)Object.hasOwnProperty.call(K,de)&&i(ee,K,de);return _(ee,K),ee};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(67430),c=u(63734),h=p(u(9093)),y=p(u(18338)),o=p(u(62768)),m=p(u(12312)),a=p(u(13813)),l=p(u(57969)),v=p(u(85575)),g=p(u(19823)),I=p(u(17461)),P=p(u(19823)),R=p(u(5031)),E=p(u(2036)),T=p(u(4091)),b=p(u(99007)),w=p(u(20828)),D=p(u(69821)),L=p(u(85417)),$=p(u(95208)),re=p(u(70909)),le=function(K){return c.fail('Decoder for "'+K+'" not implemented yet')},oe=function(K){return function(ee){return c.map(function(de){return{tag:K,value:de}})(ee)}},X=function(K){return{HubProperties:oe("HubProperties")(re.codec.decode()),HubActions:oe("HubActions")($.codec.decode()),HubAlerts:le("HubAlerts"),HubAttachedIO:oe("HubAttachedIO")(h.codec.decode(K)),GenericErrorMessages:oe("ErrorBody")(L.codec.decode(K)),HWNetworkCommands:le("HWNetworkCommands"),FWUpdate_GoIntoBootMode:le("FWUpdate_GoIntoBootMode"),FWUpdate_LockMemory:le("FWUpdate_LockMemory"),FWUpdate_LockStatusRequest:le("FWUpdate_LockStatusRequest"),FWUpdate_LockStatus:le("FWUpdate_LockStatus"),PortInformationRequest:le("PortInformationRequest"),PortModeInformationRequest:oe("PortModeInformationRequest")(l.codec.decode()),PortInputFormatSetupSingle:oe("PortInputFormatSetupSingle")(v.codec.decode()),PortInputFormatSetupCombinedMode:oe("PortInputFormatSetupCombinedMode")(I.codec.decode()),PortInformation:oe("PortInformation")(o.codec.decode()),PortModeInformation:oe("PortModeInformation")(a.codec.decode()),PortValueSingle:oe("PortValueSingle")(b.codec.decode(K)),PortValueCombinedMode:oe("PortValueCombinedMode")(D.codec.decode(K)),PortInputFormatSingle:oe("PortInputFormatSingle")(P.codec.decode()),PortInputFormatCombinedMode:oe("PortInputFormatCombinedMode")(R.codec.decode()),VirtualPortSetup:le("VirtualPortSetup"),PortOutputCommand:le("PortOutputCommand"),PortOutputCommandFeedback:oe("PortOutputCommandFeedback")(T.codec.decode())}},F={encode:function(K){throw new Error("Encoder for "+K.tag+" not yet implemented")}},B=function(K){return function(){return{encode:function(ee){return K.encode(ee.value)}}}},W={HubProperties:B(re.codec)(),HubActions:B($.codec)(),HubAlerts:F,HubAttachedIO:B(h.codec)(),GenericErrorMessages:F,HWNetworkCommands:F,FWUpdate_GoIntoBootMode:F,FWUpdate_LockMemory:F,FWUpdate_LockStatusRequest:F,FWUpdate_LockStatus:F,PortInformationRequest:B(m.codec)(),PortModeInformationRequest:B(l.codec)(),PortInputFormatSetupSingle:B(v.codec)(),PortInputFormatSetupCombinedMode:B(I.codec)(),PortInformation:F,PortModeInformation:B(a.codec)(),PortValueSingle:B(b.codec)(),PortValueCombinedMode:F,PortInputFormatSingle:B(g.codec)(),PortInputFormatCombinedMode:F,VirtualPortSetup:B(w.codec)(),PortOutputCommand:B(E.codec)(),PortOutputCommandFeedback:F},ce=function(K){return function(ee){return typeof ee!="string"?c.fail("Unknown message type"):X(K)[ee]}},te=function(K){return new c.Syntax(y.codec.decode()).flatMap(function(ee){return c.map(function(de){return{header:ee,body:de}})(ce(K)(ee.messageType))}).value};n.codec={encode:function(K){if(typeof K.header.messageType!="string")throw new f.EncodingError("Cannot encode type: "+K.header.messageType);var ee=W[K.header.messageType],de=ee.encode(K.body),z=r(r({},K.header),{length:3+de.length}),G=y.codec.encode(z);return[].concat(G,de)},decode:function(K){return te(K)}}},12312:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(h,y,o,m){m===void 0&&(m=o),Object.defineProperty(h,m,{enumerable:!0,get:function(){return y[o]}})}:function(h,y,o,m){m===void 0&&(m=o),h[m]=y[o]}),i=this&&this.__setModuleDefault||(Object.create?function(h,y){Object.defineProperty(h,"default",{enumerable:!0,value:y})}:function(h,y){h.default=y}),_=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var o in h)Object.hasOwnProperty.call(h,o)&&r(y,h,o);return i(y,h),y},p=this&&this.__spreadArrays||function(){for(var h=0,y=0,o=arguments.length;y<o;y++)h+=arguments[y].length;for(var m=Array(h),a=0,y=0;y<o;y++)for(var l=arguments[y],v=0,g=l.length;v<g;v++,a++)m[a]=l[v];return m};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(48095),c=_(u(85041));n.codec={encode:function(h){return p([f.makeByte(h.portId)],c.codec.encode(h.portInformationType))}}},85041:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(67430),i=u(48095),_=u(58533),p=u(63734),f={PortValue:0,ModeInfo:1,PossibleModeCombinations:2},c=_.invertObject(f);n.codec={encode:function(h){if(h==="Unknown")throw new r.EncodingError('Cannot encode "Unknown" port information type');return[i.makeByte(f[h])]},decode:function(h){return new p.Syntax(p.singleUint8).flatMap(function(y){return c[y]===void 0?p.success("Unknown"):p.success(c[y])}).value}}},62768:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(P,R,E,T){T===void 0&&(T=E),Object.defineProperty(P,T,{enumerable:!0,get:function(){return R[E]}})}:function(P,R,E,T){T===void 0&&(T=E),P[T]=R[E]}),i=this&&this.__setModuleDefault||(Object.create?function(P,R){Object.defineProperty(P,"default",{enumerable:!0,value:R})}:function(P,R){P.default=R}),_=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var R={};if(P!=null)for(var E in P)Object.hasOwnProperty.call(P,E)&&r(R,P,E);return i(R,P),R};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var p=u(48095),f=u(63734),c=_(u(85041));function h(P){return P!==void 0}var y=function(P,R){var E=R.map(P),T=E.filter(h);return T},o=function(P){var R=Array.from({length:16},function(T,b){return b}),E=y(function(T){var b=Math.pow(2,T);return(P&b)===b?T:void 0},R);return E.map(p.makeUint8)},m=function(P,R){var E=Math.pow(2,P);return(R&E)===E},a=f.map(o)(f.singleUint16),l=function(P){return f.map(function(R){return{tag:"PossibleModeCombinations",value:{portId:P,modeCombinations:R}}})(f.repeatAtMost(8)(a))},v=function(P){return{output:m(0,P),input:m(1,P),logicalCombinable:m(2,P),logicalSynchronizable:m(3,P)}},g=function(P){return f.ObjectSyntax.begin.bindLabelKey("capabilityBits",f.single).bindLabelKey("totalModeCount",f.single).bindLabelKeyAs("inputModes",f.singleUint16,o).bindLabelKeyAs("outputModes",f.singleUint16,o).map(function(R){var E=R.capabilityBits,T=R.totalModeCount,b=R.inputModes,w=R.outputModes;return{tag:"ModeInfo",value:{capabilities:v(E),portId:P,totalModeCount:T,inputModes:b,outputModes:w}}}).value},I=f.ObjectSyntax.begin.bindLabelKeyAs("portId",f.single,p.makePortId).bindLabelKey("informationType",c.codec.decode()).flatMap(function(P){var R=P.portId,E=P.informationType;switch(E){case"ModeInfo":return g(R);case"PossibleModeCombinations":return l(R);default:return f.fail("Cannot parse port information of type: "+E)}}).value;n.codec={decode:function(P){return I}}},5031:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(63734),i=u(48095),_=r.ObjectSyntax.begin.bindLabelKeyAs("portId",r.single,i.makePortId).bindLabelKey("combinedControlBit",r.single).bindLabelKey("modeDatasetCombinationPointer",r.singleUint16).map(function(p){var f=p.portId,c=p.combinedControlBit,h=p.modeDatasetCombinationPointer;return{portId:f,usedCombinationIndex:i.makeUint8(c&7),multiUpdateEnabled:(c&127)>0,modeDatasetCombinationPointer:h}}).value;n.codec={decode:function(p){return _}},n.default=n.codec},17461:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var o=0,m=0,a=arguments.length;m<a;m++)o+=arguments[m].length;for(var l=Array(o),v=0,m=0;m<a;m++)for(var g=arguments[m],I=0,P=g.length;I<P;I++,v++)l[v]=g[I];return l};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=u(63734),p={LockLpf2DeviceForSetup:2,UnlockAndStartWithMultiUpdateEnabled:3,UnlockAndStartWithMultiUpdateDisabled:4,ResetSensor:6},f=function(o){var m=o.mode,a=o.dataset;return i.combineUint4(m,a)},c=function(o){if(typeof o=="string")return[i.makeByte(p[o])];var m=o.combinationIndex,a=o.modeAndDatasets;return r([i.makeByte(1),i.asByte(m)],a.map(f).map(i.asByte))},h=function(o){return r([i.asByte(o.portId)],c(o.subCommand))},y=_.ObjectSyntax.begin.bindLabelKeyAs("portId",_.single,i.makePortId).bindLabelKey("command",_.single).flatMap(function(o){var m=o.portId,a=o.command;switch(a){case p.LockLpf2DeviceForSetup:return _.success({portId:m,subCommand:"LockLpf2DeviceForSetup"});case p.ResetSensor:return _.success({portId:m,subCommand:"ResetSensor"});case p.UnlockAndStartWithMultiUpdateEnabled:return _.success({portId:m,subCommand:"UnlockAndStartWithMultiUpdateEnabled"});case p.UnlockAndStartWithMultiUpdateDisabled:return _.success({portId:m,subCommand:"UnlockAndStartWithMultiUpdateDisabled"});default:return _.ObjectSyntax.begin.bindLabelKey("combinationIndex",_.single).bindLabelKey("modeAndDatasets",_.takeRest).map(function(l){var v=l.combinationIndex,g=l.modeAndDatasets;return{portId:m,subCommand:{combinationIndex:v,modeAndDatasets:Array.from(g).map(function(I){return{mode:i.makeUint4(I&240>>4),dataset:i.makeUint4(I&15)}})}}}).value}}).value;n.codec={encode:function(o){return h(o)},decode:function(o){return y}}},85575:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var c=0,h=0,y=arguments.length;h<y;h++)c+=arguments[h].length;for(var o=Array(c),m=0,h=0;h<y;h++)for(var a=arguments[h],l=0,v=a.length;l<v;l++,m++)o[m]=a[l];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=u(63734),p=function(c){return r([i.asByte(c.portId),i.asByte(c.mode)],i.Codecs.uint32.encode(c.deltaInterval),[i.makeByte(c.notificationEnabled?1:0)])},f=_.ObjectSyntax.begin.bindLabelKeyAs("portId",_.single,i.makePortId).bindLabelKey("mode",_.single).bindLabelKey("deltaInterval",_.singleUint32).bindLabelKeyAs("notificationEnabled",_.single,function(c){return c===1}).value;n.codec={encode:function(c){return p(c)},decode:function(c){return f}}},19823:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var c=0,h=0,y=arguments.length;h<y;h++)c+=arguments[h].length;for(var o=Array(c),m=0,h=0;h<y;h++)for(var a=arguments[h],l=0,v=a.length;l<v;l++,m++)o[m]=a[l];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(63734),_=u(48095),p=i.ObjectSyntax.begin.bindLabelKeyAs("portId",i.single,_.makePortId).bindLabelKey("mode",i.single).bindLabelKey("deltaInterval",i.singleUint32).bindLabelKeyAs("notificationEnabled",i.single,function(c){return c===1}).value,f=function(c){return r([_.makeByte(c.portId),_.makeByte(c.mode)],_.Codecs.uint32.encode(c.deltaInterval),[_.makeByte(c.notificationEnabled?1:0)])};n.codec={encode:function(c){return f(c)},decode:function(c){return p}},n.default=n.codec},57969:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(y,o,m,a){a===void 0&&(a=m),Object.defineProperty(y,a,{enumerable:!0,get:function(){return o[m]}})}:function(y,o,m,a){a===void 0&&(a=m),y[a]=o[m]}),i=this&&this.__setModuleDefault||(Object.create?function(y,o){Object.defineProperty(y,"default",{enumerable:!0,value:o})}:function(y,o){y.default=o}),_=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var o={};if(y!=null)for(var m in y)Object.hasOwnProperty.call(y,m)&&r(o,y,m);return i(o,y),o},p=this&&this.__spreadArrays||function(){for(var y=0,o=0,m=arguments.length;o<m;o++)y+=arguments[o].length;for(var a=Array(y),l=0,o=0;o<m;o++)for(var v=arguments[o],g=0,I=v.length;g<I;g++,l++)a[l]=v[g];return a};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(48095),c=u(63734),h=_(u(25657));n.codec={encode:function(y){return p([f.asByte(y.portId),f.asByte(y.mode)],h.codec.encode(y.portModeInformationType))},decode:function(){return c.ObjectSyntax.begin.bindLabelKeyAs("portId",c.single,f.makePortId).bindLabelKey("mode",c.single).bindLabelKey("portModeInformationType",h.codec.decode()).parser}}},25657:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(67430),i=u(48095),_=u(63734),p=u(58533),f={NAME:0,RAW:1,PCT:2,SI:3,SYMBOL:4,MAPPING:5,INTERNAL:6,MOTOR_BIAS:7,CAPABILITY_BITS:8,VALUE_FORMAT:128},c=p.invertObject(f);n.codec={encode:function(h){if(typeof h!="string"||f[h]===void 0)throw new r.EncodingError(h,"Unknown port mode information type cannot be encoded");return[i.makeByte(f[h])]},decode:function(h){return _.map(function(y){var o=c[y];return o===void 0?{tag:"Unknown",value:y}:o})(_.single)}}},13813:function(S,n,u){"use strict";var r=this&&this.__createBinding||(Object.create?function(E,T,b,w){w===void 0&&(w=b),Object.defineProperty(E,w,{enumerable:!0,get:function(){return T[b]}})}:function(E,T,b,w){w===void 0&&(w=b),E[w]=T[b]}),i=this&&this.__setModuleDefault||(Object.create?function(E,T){Object.defineProperty(E,"default",{enumerable:!0,value:T})}:function(E,T){E.default=T}),_=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var T={};if(E!=null)for(var b in E)Object.hasOwnProperty.call(E,b)&&r(T,E,b);return i(T,E),T},p=this&&this.__spreadArrays||function(){for(var E=0,T=0,b=arguments.length;T<b;T++)E+=arguments[T].length;for(var w=Array(E),D=0,T=0;T<b;T++)for(var L=arguments[T],$=0,re=L.length;$<re;$++,D++)w[D]=L[$];return w};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var f=u(67430),c=u(48095),h=u(63734),y=_(u(25657)),o=function(E,T,b){return h.ObjectSyntax.begin.bindLabelKey("stringvalue",c.Codecs.string.decode()).map(function(w){var D=w.stringvalue;return{portId:E,mode:T,payload:{tag:b,value:D}}}).value},m=function(E,T,b){return h.ObjectSyntax.begin.bindLabelKey("min",h.singleFloat32).bindLabelKey("max",h.singleFloat32).map(function(w){var D=w.min,L=w.max;return{portId:E,mode:T,payload:{tag:b,value:{min:D,max:L}}}}).value},a=function(E){switch(E){case 0:return"Int8";case 1:return"Int16";case 2:return"Int32";case 3:return"Float";default:return{tag:"Unknown",value:c.asByte(E)}}},l=function(E,T){return h.ObjectSyntax.begin.bindLabelKey("numberOfDatasets",h.singleUint8).bindLabelKeyAs("datasetType",h.singleUint8,a).bindLabelKey("totalFigures",h.singleUint8).bindLabelKeyAs("decimals",h.singleUint8,c.asByte).map(function(b){return{portId:E,mode:T,payload:{tag:"ValueFormat",value:b}}}).value},v=h.ObjectSyntax.begin.bindLabelKeyAs("portId",h.single,c.makePortId).bindLabelKey("mode",h.single).bindLabelKey("informationType",y.codec.decode()).flatMap(function(E){var T=E.informationType,b=E.mode,w=E.portId;switch(T){case"RAW":return m(w,b,"RawRange");case"PCT":return m(w,b,"PctRange");case"SI":return m(w,b,"SiRange");case"NAME":return o(w,b,"Name");case"SYMBOL":return o(w,b,"Symbol");case"VALUE_FORMAT":return l(w,b);default:return h.fail("Cannot parse port information of type: "+JSON.stringify(T))}}).value,g=function(E){switch(E){case"Int8":return c.makeByte(0);case"Int16":return c.makeByte(1);case"Int32":return c.makeByte(2);case"Float":return c.makeByte(3);default:throw new f.EncodingError("Encode dataset type failed. Unknown type: "+E)}},I=function(E){return p(c.Codecs.float32.encode(c.makeFloat(E.min)),c.Codecs.float32.encode(c.makeFloat(E.max)))},P=function(E){switch(E.tag){case"ValueFormat":return[c.makeByte(E.value.numberOfDatasets),g(E.value.datasetType),c.makeByte(E.value.totalFigures),c.makeByte(E.value.numberOfDatasets)];case"Name":return c.Codecs.string.encode(E.value);case"SiRange":return I(E.value);case"RawRange":return I(E.value)}throw new f.EncodingError("Encoding PortModeInformation failed. Payload not supported: "+E.tag)},R=function(E){switch(E){case"Name":return"NAME";case"CapabilityBits":return"CAPABILITY_BITS";case"Mapping":return"MAPPING";case"MotorBias":return"MOTOR_BIAS";case"PctRange":return"PCT";case"RawRange":return"RAW";case"SiRange":return"SI";case"Symbol":return"SYMBOL";case"ValueFormat":return"VALUE_FORMAT"}};n.codec={encode:function(E){return p([c.asByte(E.portId),c.asByte(E.mode)],y.codec.encode(R(E.payload.tag)),P(E.payload))},decode:function(){return v}}},4091:function(S,n,u){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(c){for(var h,y=1,o=arguments.length;y<o;y++){h=arguments[y];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(c[m]=h[m])}return c},r.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=u(63734),p=function(c){return r(r(r(r(r({},(c&1)===1?{BufferEmptyCommandInProgress:!0}:void 0),(c&2)===2?{BufferEmptyCommandCompleted:!0}:void 0),(c&4)===4?{CurrentCommandsDiscarded:!0}:void 0),(c&8)===8?{Idle:!0}:void 0),(c&16)===16?{BusyOrFull:!0}:void 0)},f=_.ObjectSyntax.begin.bindLabelKeyAs("portId",_.singleUint8,i.makePortId).bindLabelKeyAs("feedbackMessage",_.singleUint8,p).value;n.codec={decode:function(){return new _.Syntax(_.repeatStar(f)).map(function(c){var h={portFeedback:{portId:c[0].portId,feedbackMessage:c[0].feedbackMessage},port2Feedback:c.length>1?{portId:c[1].portId,feedbackMessage:c[1].feedbackMessage}:void 0,port3Feedback:c.length>2?{portId:c[2].portId,feedbackMessage:c[2].feedbackMessage}:void 0};return h}).value}}},2036:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var T=0,b=0,w=arguments.length;b<w;b++)T+=arguments[b].length;for(var D=Array(T),L=0,b=0;b<w;b++)for(var $=arguments[b],re=0,le=$.length;re<le;re++,L++)D[L]=$[re];return D};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=i.makeByte(81),p=i.makeByte(13),f=i.makeByte(11),c=i.makeByte(12),h=i.makeByte(2),y=i.makeByte(5),o=i.makeByte(6),m=i.makeByte(7),a=i.makeByte(8),l=i.makeByte(9),v=i.makeByte(10),g=function(T){return[i.makeByte(i.combineUint4(i.makeUint4(T.startupInfo==="BufferIfNeccessary"?0:1),i.makeUint4(T.completionInfo==="NoAction"?0:1)))]},I=function(T){switch(T){case"Brake":return i.makeByte(127);case"Float":return i.makeByte(0);default:return i.makeSignedByte(Math.min(100,Math.max(-100,T)))}},P={Brake:i.makeByte(127),Hold:i.makeByte(126),Float:i.makeByte(0)},R={No:i.makeByte(0),Acc:i.makeByte(1),Dec:i.makeByte(2),AccAndDec:i.makeByte(3)},E=function(T){switch(T.tag){case"SubCommandStartPower":return[_,i.makeByte(0),I(T.value)];case"SubCommandStartPowerPair":return[h,I(T.value.powerL),I(T.value.powerR)];case"SubCommandWriteDirectModeData":return r([_],i.Codecs.uint8.encode(T.value.mode),T.value.payload.map(i.asByte));case"SubCommandSetRgbColorNo":return r([_,i.makeByte(0)],i.Codecs.uint8.encode(T.value));case"SubCommandPresetEncoder":return r([_,i.makeByte(2)],i.Codecs.int32.encode(T.value.position));case"SubCommandSetAccTime":return r([y],i.Codecs.uint16.encode(T.value.time),[i.makeByte(0)]);case"SubCommandSetDecTime":return r([o],i.Codecs.uint16.encode(T.value.time),[i.makeByte(0)]);case"SubCommandStartSpeedPair":return r([a],i.Codecs.int8.encode(T.value.speedL),i.Codecs.int8.encode(T.value.speedR),i.Codecs.int8.encode(T.value.maxPower),[R[T.value.useProfile]]);case"SubCommandStartSpeed":return r([m],i.Codecs.int8.encode(T.value.speed),i.Codecs.int8.encode(T.value.maxPower),[R[T.value.useProfile]]);case"SubCommandStartSpeedForDegreesPair":return r([c],i.Codecs.uint32.encode(T.value.degrees),i.Codecs.int8.encode(T.value.speedL),i.Codecs.int8.encode(T.value.speedR),i.Codecs.int8.encode(T.value.maxPower),[P[T.value.endState],R[T.value.useProfile]]);case"SubCommandStartSpeedForDegrees":return r([f],i.Codecs.uint32.encode(T.value.degrees),i.Codecs.int8.encode(T.value.speed),i.Codecs.int8.encode(T.value.maxPower),[P[T.value.endState],R[T.value.useProfile]]);case"SubCommandStartSpeedForTimePair":return r([v],i.Codecs.uint16.encode(T.value.time),i.Codecs.int8.encode(T.value.speedL),i.Codecs.int8.encode(T.value.speedR),i.Codecs.int8.encode(T.value.maxPower),[P[T.value.endState],R[T.value.useProfile]]);case"SubCommandStartSpeedForTime":return r([l],i.Codecs.uint16.encode(T.value.time),i.Codecs.int8.encode(T.value.speed),i.Codecs.int8.encode(T.value.maxPower),[P[T.value.endState],R[T.value.useProfile]]);case"SubCommandGotoAbsolutePosition":return r([p],i.Codecs.int32.encode(T.value.position),i.Codecs.int8.encode(T.value.speed),i.Codecs.int8.encode(T.value.maxPower),[P[T.value.endState],R[T.value.useProfile]])}};n.codec={encode:function(T){return r([i.makeByte(T.portId)],g(T.startupAndCompletionInfo),E(T.subCommand))}}},69821:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(48095),i=u(63734),_={Int8:i.map(function(c){return{tag:"Int8Value",value:c}})(i.singleInt8),Int16:i.map(function(c){return{tag:"Int16Value",value:c}})(i.singleInt16),Int32:i.map(function(c){return{tag:"Int32Value",value:c}})(i.singleInt32),Float:i.map(function(c){return{tag:"Float32Value",value:c}})(i.singleFloat32)},p=function(c,h){return typeof c.datasetType!="string"?f:i.repeat(h)(_[c.datasetType])},f=i.map(function(c){return[{tag:"Binary",value:c}]})(i.takeRest);n.codec={decode:function(c){return i.ObjectSyntax.begin.bindLabelKeyAs("portId",i.singleUint8,r.makePortId).bindLabelKey("modeDatasetBitPointers1",i.singleUint8).bindLabelKey("modeDatasetBitPointers2",i.singleUint8).flatMap(function(h){for(var y=h.portId,o=h.modeDatasetBitPointers1,m=h.modeDatasetBitPointers2,a=[],l=7;l>=0;l--){var v=o&1<<l;a.push(!!v)}for(var l=7;l>=0;l--){var v=m&1<<l;a.push(!!v)}a=a.reverse();var g=0;return new i.Syntax(i.sequence(((c==null?void 0:c[y])||[]).map(function(I){var P=a.slice(g,g+I.numberOfDatasets),R=P.reduce(function(T,b,w){return P[w]?T+1:T},0),E=p(I,R);return g+=I.numberOfDatasets,E}))).map(function(I){var P;return(P=[]).concat.apply(P,I)}).map(function(I){return{portId:y,modeDatasets:a.slice(0,((c==null?void 0:c[y])||[]).reduce(function(P,R){return P+R.numberOfDatasets},0)),values:I}}).value}).value}}},99007:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var y=0,o=0,m=arguments.length;o<m;o++)y+=arguments[o].length;for(var a=Array(y),l=0,o=0;o<m;o++)for(var v=arguments[o],g=0,I=v.length;g<I;g++,l++)a[l]=v[g];return a};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=u(63734),p=function(y){switch(y.tag){case"Int8Value":return i.Codecs.int8.encode(y.value);case"Int16Value":return i.Codecs.int16.encode(y.value);case"Int32Value":return i.Codecs.int32.encode(y.value);case"Float32Value":return i.Codecs.float32.encode(y.value);case"Binary":return Array.from(y.value.values()).map(i.makeByte)}},f={Int8:_.map(function(y){return{tag:"Int8Value",value:y}})(_.singleInt8),Int16:_.map(function(y){return{tag:"Int16Value",value:y}})(_.singleInt16),Int32:_.map(function(y){return{tag:"Int32Value",value:y}})(_.singleInt32),Float:_.map(function(y){return{tag:"Float32Value",value:y}})(_.singleFloat32)},c=function(y){return typeof y.datasetType!="string"?h:_.repeat(y.numberOfDatasets)(f[y.datasetType])},h=_.map(function(y){return[{tag:"Binary",value:y}]})(_.takeRest);n.codec={decode:function(y){return new _.Syntax(_.singleUint8).map(i.makePortId).flatMap(function(o){var m,a=(m=y==null?void 0:y[o])!==null&&m!==void 0?m:[];return a.length===0?new _.Syntax(h).map(function(l){return l.map(function(v){return{portId:o,value:v}})}).value:new _.Syntax(_.sequence(a.map(c))).map(function(l){var v;return(v=[]).concat.apply(v,l)}).map(function(l){return l.map(function(v){return{portId:o,value:v}})}).value}).value},encode:function(y){return[i.makeByte(y[0].portId)].concat(y.flatMap(function(o){return r(p(o.value))}))}}},33321:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var r=u(71926),i=u(48095),_=u(63734),p=_.ObjectSyntax.begin.bindLabelKey("byte0",_.byte).bindLabelKey("byte1",_.byte).bindLabelKey("byte2",_.byte).bindLabelKey("byte3",_.byte).map(function(f){var c=f.byte3,h=f.byte2,y=f.byte1,o=f.byte0,m=r.makeByte((c&240)>>4),a=r.makeByte(c&15),l=r.makeByte(((h&240)>>4)*10+(h&15)),v=i.makeUint16(((y&240)>>4)*1e3+(y&15)*100+((o&240)>>4)*10+(o&15));return{major:m,minor:a,bugFix:l,buildNo:v}}).value;n.codec={decode:function(){return p},encode:function(f){return[r.makeByte((Math.floor(f.buildNo%1e3%100)/10<<4)+Math.floor(f.buildNo%1e3%100%10)),r.makeByte((Math.floor(f.buildNo/1e3)<<4)+Math.floor(f.buildNo%1e3/100)),r.makeByte((Math.floor(f.bugFix/10)<<4)+f.bugFix%10),r.makeByte(((f.major&15)<<4)+(f.minor&15))]}}},20828:function(S,n,u){"use strict";var r=this&&this.__spreadArrays||function(){for(var f=0,c=0,h=arguments.length;c<h;c++)f+=arguments[c].length;for(var y=Array(f),o=0,c=0;c<h;c++)for(var m=arguments[c],a=0,l=m.length;a<l;a++,o++)y[o]=m[a];return y};Object.defineProperty(n,"__esModule",{value:!0}),n.codec=void 0;var i=u(48095),_=function(f){throw new Error("VirtualPortSetup subcommand tag is not supported.")},p=function(f){switch(f.subCommand.tag){case"Connect":return r(i.Codecs.uint8.encode(i.makeUint8(1)),[i.makeByte(f.subCommand.value.portIdA),i.makeByte(f.subCommand.value.portIdB)]);case"Disconnect":return r(i.Codecs.uint8.encode(i.makeUint8(0)),[i.makeByte(f.subCommand.value.portId)]);default:return _(f.subCommand),[]}};n.codec={encode:function(f){return p(f)}}},48095:function(S,n,u){"use strict";var r=this&&this.__extends||function(){var T=function(b,w){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,L){D.__proto__=L}||function(D,L){for(var $ in L)L.hasOwnProperty($)&&(D[$]=L[$])},T(b,w)};return function(b,w){T(b,w);function D(){this.constructor=b}b.prototype=w===null?Object.create(w):(D.prototype=w.prototype,new D)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.makePortId=n.makeSignedByte=n.makeByte=n.makeInt32=n.makeInt16=n.makeInt8=n.makeFloat=n.makeUint32=n.makeUint16=n.makeUint8=n.combineUint4=n.makeUint4=n.Codecs=n.asNumber=n.asByte=void 0;var i=u(63734);n.asByte=function(T){return n.makeByte(T)},n.asNumber=function(T){return T};var _=function(){function T(b,w){var D=this;this.min=b,this.max=w,this.contains=function(L){return L>=D.min&&L<=D.max},this.assertContains=function(L){if(!D.contains(L))throw new E(L,D);return L}}return T}(),p=function(){function T(b,w){var D=this;this.min=b,this.max=w,this.contains=function(L){return L>=D.min&&L<=D.max},this.assertContains=function(L){if(!D.contains(L))throw new R(L,D);return L}}return T}(),f=function(T,b){return new _(T,b)},c=function(T,b){return new p(T,b)},h={uint4:f(Number(0),Number(Math.pow(2,4))),uint8:f(Number(0),Number(Math.pow(2,8))),uint16:f(Number(0),Number(Math.pow(2,16))),uint32:f(Number(0),Number(Math.pow(2,32))),float32:c(-Math.pow(3.4,38),Math.pow(3.4,38)),int8:f(-Number(Math.pow(2,7)),Number(Math.pow(2,7)-1)),int16:f(-Number(Math.pow(2,15)),Number(Math.pow(2,15)-1)),int32:f(-Number(Math.pow(2,31)),Number(Math.pow(2,31)-1))},y=function(T){return Array.from(new Uint8Array(T).values()).map(n.makeByte)},o={decode:function(T){return i.singleInt8},encode:function(T){return[T]}},m={decode:function(T){return i.singleInt16},encode:function(T){return y(new Int16Array([T]).buffer)}},a={decode:function(T){return i.singleInt32},encode:function(T){return y(new Int32Array([T]).buffer)}},l={decode:function(T){return i.singleUint8},encode:function(T){return[n.asByte(T)]}},v={decode:function(T){return i.singleUint16},encode:function(T){return y(new Uint16Array([T]).buffer)}},g={decode:function(T){return i.singleUint32},encode:function(T){return y(new Uint32Array([T]).buffer)}},I={decode:function(T){return i.singleFloat32},encode:function(T){return y(new Float32Array([T]).buffer)}},P={decode:function(T){return i.stringParser},encode:function(T){return T.split("").map(function(b){return b.charCodeAt(0)}).filter(function(b){return b>0}).map(n.makeByte)}};n.Codecs={int8:o,int16:m,int32:a,uint8:l,uint16:v,uint32:g,float32:I,string:P},n.makeUint4=function(T){return h.uint4.assertContains(T)},n.combineUint4=function(T,b){return n.makeUint8((T<<4)+b)},n.makeUint8=function(T){return h.uint8.assertContains(T)},n.makeUint16=function(T){return h.uint16.assertContains(T)},n.makeUint32=function(T){return h.uint32.assertContains(T)},n.makeFloat=function(T){return h.float32.assertContains(T)},n.makeInt8=function(T){return h.int8.assertContains(T)},n.makeInt16=function(T){return h.int16.assertContains(T)},n.makeInt32=function(T){return h.int32.assertContains(T)},n.makeByte=function(T){return n.makeUint8(T)},n.makeSignedByte=function(T){return n.makeInt8(T)},n.makePortId=function(T){return n.makeUint8(T)};var R=function(T){r(b,T);function b(w,D,L){var $=T.call(this,L!=null?L:w+" is not in range ["+D.min+","+D.max+"]")||this;return $.n=w,$.range=D,Object.setPrototypeOf($,b.prototype),$}return b}(Error),E=function(T){r(b,T);function b(w,D,L){var $=T.call(this,L!=null?L:w+" is not in range ["+D.min+","+D.max+"]")||this;return $.n=w,$.range=D,Object.setPrototypeOf($,b.prototype),$}return b}(Error)},71926:(S,n,u)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.portInformationTypes=n.ByteFactory=n.decode=n.encode=void 0;var r=u(48095),i=u(20491),_=u(48095);Object.defineProperty(n,"makeUint4",{enumerable:!0,get:function(){return _.makeUint4}}),Object.defineProperty(n,"makeUint8",{enumerable:!0,get:function(){return _.makeUint8}}),Object.defineProperty(n,"makeUint16",{enumerable:!0,get:function(){return _.makeUint16}}),Object.defineProperty(n,"makeUint32",{enumerable:!0,get:function(){return _.makeUint32}}),Object.defineProperty(n,"makeInt8",{enumerable:!0,get:function(){return _.makeInt8}}),Object.defineProperty(n,"makeInt16",{enumerable:!0,get:function(){return _.makeInt16}}),Object.defineProperty(n,"makeInt32",{enumerable:!0,get:function(){return _.makeInt32}}),Object.defineProperty(n,"makePortId",{enumerable:!0,get:function(){return _.makePortId}}),Object.defineProperty(n,"makeByte",{enumerable:!0,get:function(){return _.makeByte}}),Object.defineProperty(n,"makeFloat",{enumerable:!0,get:function(){return _.makeFloat}}),Object.defineProperty(n,"asNumber",{enumerable:!0,get:function(){return _.asNumber}});var p={ErrorBody:"GenericErrorMessages",PortInformationRequest:"PortInformationRequest",PortModeInformationRequest:"PortModeInformationRequest",PortInputFormatSetupSingle:"PortInputFormatSetupSingle",PortInputFormatSetupCombinedMode:"PortInputFormatSetupCombinedMode",PortInputFormatSingle:"PortInputFormatSingle",PortInputFormatCombinedMode:"PortInputFormatCombinedMode",PortInformation:"PortInformation",PortModeInformation:"PortModeInformation",PortValueSingle:"PortValueSingle",PortValueCombinedMode:"PortValueCombinedMode",PortOutputCommand:"PortOutputCommand",PortOutputCommandFeedback:"PortOutputCommandFeedback",HubAttachedIO:"HubAttachedIO",VirtualPortSetup:"VirtualPortSetup",HubActions:"HubActions",HubProperties:"HubProperties"};n.encode=function(f,c){c===void 0&&(c=r.makeUint8(0));var h={length:-1,hubIdentifier:c,messageType:p[f.tag]};return i.codec.encode({header:h,body:f})},n.decode=function(f,c){return c===void 0&&(c=[]),i.codec.decode(c)(f)},n.ByteFactory={ofInt:function(f){return f},toInt:function(f){return f}},n.portInformationTypes=["NAME","RAW","PCT","SI","SYMBOL","MAPPING","INTERNAL","MOTOR_BIAS","CAPABILITY_BITS","VALUE_FORMAT"]},58533:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.invertObject=void 0,n.invertObject=function(u){for(var r={},i=0,_=Object.entries(u);i<_.length;i++){var p=_[i],f=p[0],c=p[1];r[c]=f}return r}},36473:(S,n,u)=>{"use strict";var r=u(23716);Object.defineProperty(n,"__esModule",{value:!0}),n.level=void 0,n.level="INFO",n.default={info:function(i){(n.level==="INFO"||n.level==="DEBUG")&&r.log("[INFO] "+i)},warn:function(i){(n.level==="INFO"||n.level==="WARN")&&r.log("[WARN] "+i)},error:function(i){return r.error("[ERROR] "+i)},debug:function(i){n.level==="DEBUG"&&r.log("[DEBUG] "+i)}}},63734:function(S,n,u){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(a){for(var l,v=1,g=arguments.length;v<g;v++){l=arguments[v];for(var I in l)Object.prototype.hasOwnProperty.call(l,I)&&(a[I]=l[I])}return a},r.apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var a=0,l=0,v=arguments.length;l<v;l++)a+=arguments[l].length;for(var g=Array(a),I=0,l=0;l<v;l++)for(var P=arguments[l],R=0,E=P.length;R<E;R++,I++)g[I]=P[R];return g},_=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectSyntax=n.Syntax=n.stringParser=n.singleInt32=n.singleInt16=n.singleInt8=n.singleFloat32=n.singleUint32=n.singleUint16=n.singleUint8=n.label=n.smush=n.peek=n.repeatAtMost=n.repeatStar=n.repeat=n.recoverWith=n.takeRest=n.take=n.byte=n.single=n.sequence=n.constant=n.success=n.flatMap=n.map=n.fail=n.mapResult=void 0;var p=u(48095),f=_(u(36473));n.mapResult=function(a){return function(l){switch(l.tag){case"SUCCESS":return r(r({},l),{parsed:a(l.parsed)});case"FAILURE":return l}}};var c=function(a){return{tag:"FAILURE",error:"Reached end of input prematurely...",remaining:a}};n.fail=function(a){return function(l){return{tag:"FAILURE",error:a,remaining:l}}},n.map=function(a){return function(l){return function(v){return n.mapResult(a)(l(v))}}},n.flatMap=function(a){return function(l){return function(v){var g=l(v);switch(g.tag==="SUCCESS"&&f.default.debug(v+" --- "+JSON.stringify(g.parsed)+" "),g.tag){case"SUCCESS":return a(g.parsed)(g.remaining);case"FAILURE":return r({},g)}}}},n.success=function(a){return function(l){return{tag:"SUCCESS",parsed:a,remaining:l}}},n.constant=function(a){return function(l){return l.length===0?c(l):l[0]===a?{tag:"SUCCESS",parsed:a,remaining:l.slice(1,l.length)}:{tag:"FAILURE",error:"found: "+l[0]+", expected: "+a,remaining:l.slice(1,l.length)}}},n.sequence=function(a){if(a.length===0)return n.success([]);var l=a[0],v=a.slice(1,a.length),g=n.sequence(v);return n.flatMap(function(I){return n.map(function(P){return i([I],P)})(g)})(l)},n.single=function(a){return a.length===0?c(a):{tag:"SUCCESS",parsed:p.makeUint8(a[0]),remaining:a.slice(1,a.length)}},n.byte=n.map(function(a){return p.makeByte(a)})(n.single),n.take=function(a){return function(l){return l.length<a?c(l):{tag:"SUCCESS",parsed:l.slice(0,a),remaining:l.slice(a,l.length)}}},n.takeRest=function(a){return{tag:"SUCCESS",parsed:a,remaining:new Uint8Array}},n.recoverWith=function(a){return function(l){return function(v){var g=l(v);return g.tag==="SUCCESS"?g:{tag:"SUCCESS",parsed:a,remaining:g.remaining}}}},n.repeat=function(a){return function(l){if(a===0)return n.success([]);var v=n.repeat(a-1)(l);return n.flatMap(function(g){return n.map(function(I){return i([g],I)})(v)})(l)}},n.repeatStar=function(a){return n.recoverWith([])(new o(a).flatMap(function(l){return new o(n.repeatStar(a)).map(function(v){return i([l],v)}).value}).value)},n.repeatAtMost=function(a){return function(l){if(a===0)return n.success([]);var v=n.recoverWith([])(n.repeat(a-1)(l));return n.flatMap(function(g){return n.map(function(I){return i([g],I)})(v)})(l)}},n.peek=function(a){return a.length===0?c(a):{tag:"SUCCESS",parsed:p.makeUint8(a[0]),remaining:a}};var h=function(a){return function(l){return function(v){var g=a(v);return g.tag==="SUCCESS"?g:l(v)}}};n.smush=function(a){return function(l){return n.flatMap(function(v){return n.map(function(g){return r(r({},v),g)})(l)})(a)}},n.label=function(a){return function(l){return n.map(function(v){var g;return g={},g[a]=v,g})(l)}},n.singleUint8=n.single,n.singleUint16=n.map(function(a){return p.makeUint16(new Uint16Array(a.buffer)[0])})(n.take(2)),n.singleUint32=n.map(function(a){return p.makeUint32(new Uint32Array(a.buffer)[0])})(n.take(4)),n.singleFloat32=n.map(function(a){return p.makeFloat(new Float32Array(a.buffer)[0])})(n.take(4)),n.singleInt8=n.map(function(a){return p.makeInt8(new Int8Array(a.buffer)[0])})(n.take(1)),n.singleInt16=n.map(function(a){var l=new Uint16Array(a.buffer)[0];return p.makeInt16(l<<16>>16)})(n.take(2)),n.singleInt32=n.map(function(a){return p.makeInt32(new Int32Array(a.buffer)[0])})(n.take(4)),n.stringParser=n.map(function(a){return Array.from(a).filter(function(l){return l>0}).map(function(l){return String.fromCharCode(l)}).join("")})(n.takeRest);var y=n.map(function(a){return{}})(n.peek),o=function(){function a(l){var v=this;this.parser=l,this.map=function(g){return new a(n.map(g)(v.parser))},this.flatMap=function(g){return new a(n.flatMap(g)(v.parser))},this.choice=function(g){return new a(h(v.parser)(g))},this.value=this.parser}return a.begin=new a(y),a}();n.Syntax=o;var m=function(){function a(l){var v=this;this.parser=l,this.map=function(g){return new a(n.map(g)(v.parser))},this.flatMap=function(g){return new a(n.flatMap(g)(v.parser))},this.skip=function(g){return v.flatMap(function(I){return n.map(function(P){return I})(g)})},this.choice=function(g){return h(v.parser)(g)},this.bindLabel=function(g){return new a(n.smush(v.parser)(g))},this.bindLabelKey=function(g,I){return new a(n.smush(v.parser)(n.label(g)(I)))},this.bindLabelKeyAs=function(g,I,P){return new a(n.smush(v.parser)(n.label(g)(n.map(P)(I))))},this.value=this.parser}return a.begin=new a(y),a}();n.ObjectSyntax=m},37239:(S,n,u)=>{var r="/index.js",i="/",_=u(41317).Buffer,p=u(34406),f=u(23716),c=function(){var h=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return h=h||r,function(o){o=o||{};var o=typeof o!="undefined"?o:{},m,a;if(o.ready=new Promise(function(M,N){m=M,a=N}),Object.getOwnPropertyDescriptor(o.ready,"_mp_js_init")||(Object.defineProperty(o.ready,"_mp_js_init",{configurable:!0,get:function(){k("You are getting _mp_js_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_js_init",{configurable:!0,set:function(){k("You are setting _mp_js_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_js_init_repl")||(Object.defineProperty(o.ready,"_mp_js_init_repl",{configurable:!0,get:function(){k("You are getting _mp_js_init_repl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_js_init_repl",{configurable:!0,set:function(){k("You are setting _mp_js_init_repl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_js_do_str")||(Object.defineProperty(o.ready,"_mp_js_do_str",{configurable:!0,get:function(){k("You are getting _mp_js_do_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_js_do_str",{configurable:!0,set:function(){k("You are setting _mp_js_do_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_js_compile_str")||(Object.defineProperty(o.ready,"_mp_js_compile_str",{configurable:!0,get:function(){k("You are getting _mp_js_compile_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_js_compile_str",{configurable:!0,set:function(){k("You are setting _mp_js_compile_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_js_process_char")||(Object.defineProperty(o.ready,"_mp_js_process_char",{configurable:!0,get:function(){k("You are getting _mp_js_process_char on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_js_process_char",{configurable:!0,set:function(){k("You are setting _mp_js_process_char on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_hal_get_interrupt_char")||(Object.defineProperty(o.ready,"_mp_hal_get_interrupt_char",{configurable:!0,get:function(){k("You are getting _mp_hal_get_interrupt_char on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_hal_get_interrupt_char",{configurable:!0,set:function(){k("You are setting _mp_hal_get_interrupt_char on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_mp_keyboard_interrupt")||(Object.defineProperty(o.ready,"_mp_keyboard_interrupt",{configurable:!0,get:function(){k("You are getting _mp_keyboard_interrupt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_mp_keyboard_interrupt",{configurable:!0,set:function(){k("You are setting _mp_keyboard_interrupt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackSave")||(Object.defineProperty(o.ready,"_stackSave",{configurable:!0,get:function(){k("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackSave",{configurable:!0,set:function(){k("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackRestore")||(Object.defineProperty(o.ready,"_stackRestore",{configurable:!0,get:function(){k("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackRestore",{configurable:!0,set:function(){k("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackAlloc")||(Object.defineProperty(o.ready,"_stackAlloc",{configurable:!0,get:function(){k("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackAlloc",{configurable:!0,set:function(){k("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___data_end")||(Object.defineProperty(o.ready,"___data_end",{configurable:!0,get:function(){k("You are getting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___data_end",{configurable:!0,set:function(){k("You are setting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___wasm_call_ctors")||(Object.defineProperty(o.ready,"___wasm_call_ctors",{configurable:!0,get:function(){k("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___wasm_call_ctors",{configurable:!0,set:function(){k("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_fflush")||(Object.defineProperty(o.ready,"_fflush",{configurable:!0,get:function(){k("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_fflush",{configurable:!0,set:function(){k("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___errno_location")||(Object.defineProperty(o.ready,"___errno_location",{configurable:!0,get:function(){k("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___errno_location",{configurable:!0,set:function(){k("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_setThrew")||(Object.defineProperty(o.ready,"_setThrew",{configurable:!0,get:function(){k("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_setThrew",{configurable:!0,set:function(){k("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_realloc")||(Object.defineProperty(o.ready,"_realloc",{configurable:!0,get:function(){k("You are getting _realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_realloc",{configurable:!0,set:function(){k("You are setting _realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_testSetjmp")||(Object.defineProperty(o.ready,"_testSetjmp",{configurable:!0,get:function(){k("You are getting _testSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_testSetjmp",{configurable:!0,set:function(){k("You are setting _testSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_saveSetjmp")||(Object.defineProperty(o.ready,"_saveSetjmp",{configurable:!0,get:function(){k("You are getting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_saveSetjmp",{configurable:!0,set:function(){k("You are setting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_malloc")||(Object.defineProperty(o.ready,"_malloc",{configurable:!0,get:function(){k("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_malloc",{configurable:!0,set:function(){k("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_free")||(Object.defineProperty(o.ready,"_free",{configurable:!0,get:function(){k("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_free",{configurable:!0,set:function(){k("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"onRuntimeInitialized")||(Object.defineProperty(o.ready,"onRuntimeInitialized",{configurable:!0,get:function(){k("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"onRuntimeInitialized",{configurable:!0,set:function(){k("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),!o.api){const M={stdout_callback:void 0,compile_callback:void 0,do_str:N=>{let j=[];return M.stdout_callback=me=>{j.push(...me)},{status:o.cwrap("mp_js_do_str","number",["string"])(N),result:_.from(j).toString()}},mp_js_compile_str:void 0,compile_str:(N,j)=>{o.api.mp_js_compile_str||(o.api.mp_js_compile_str=o.cwrap("mp_js_compile_str","number",["string","string","number"]));let ne=[];M.compile_callback=ve=>{ne.push(...ve)},M.stdout_callback=ve=>{ne.push(...ve)};const me=o.api.mp_js_compile_str(N,j);return ne=Uint8Array.from(ne),M.compile_callback=void 0,M.stdout_callback=void 0,{status:me===0?"success":"failure",result:ne}},init:N=>{o.ccall("mp_js_init","null",["number"],[(N||1024)*1024])}};o.api=M}var l={},v;for(v in o)o.hasOwnProperty(v)&&(l[v]=o[v]);var g=[],I="./this.program",P=function(M,N){throw N},R=!1,E=!1,T=!1,b=!1;if(R=typeof window=="object",E=typeof importScripts=="function",T=typeof p=="object"&&typeof p.versions=="object"&&typeof p.versions.node=="string",b=!R&&!T&&!E,o.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var w="";function D(M){return o.locateFile?o.locateFile(M,w):w+M}var L,$,re,le,oe,X;if(T)E?w=u(84371).dirname(w)+"/":w=i+"/",L=function(N,j){return oe||(oe=u(98770)),X||(X=u(84371)),N=X.normalize(N),oe.readFileSync(N,j?null:"utf8")},re=function(N){var j=L(N,!0);return j.buffer||(j=new Uint8Array(j)),ue(j.buffer),j},p.argv.length>1&&(I=p.argv[1].replace(/\\/g,"/")),g=p.argv.slice(2),p.on("uncaughtException",function(M){if(!(M instanceof vo))throw M}),p.on("unhandledRejection",k),P=function(M){p.exit(M)},o.inspect=function(){return"[Emscripten Module object]"};else if(b)typeof read!="undefined"&&(L=function(N){return read(N)}),re=function(N){var j;return typeof readbuffer=="function"?new Uint8Array(readbuffer(N)):(j=read(N,"binary"),ue(typeof j=="object"),j)},typeof scriptArgs!="undefined"?g=scriptArgs:typeof arguments!="undefined"&&(g=arguments),typeof quit=="function"&&(P=function(M){quit(M)}),typeof print!="undefined"&&(typeof f=="undefined"&&(f={}),f.log=print,f.warn=f.error=typeof printErr!="undefined"?printErr:print);else if(R||E)E?w=self.location.href:typeof document!="undefined"&&document.currentScript&&(w=document.currentScript.src),h&&(w=h),w.indexOf("blob:")!==0?w=w.substr(0,w.lastIndexOf("/")+1):w="",L=function(N){var j=new XMLHttpRequest;return j.open("GET",N,!1),j.send(null),j.responseText},E&&(re=function(N){var j=new XMLHttpRequest;return j.open("GET",N,!1),j.responseType="arraybuffer",j.send(null),new Uint8Array(j.response)}),$=function(N,j,ne){var me=new XMLHttpRequest;me.open("GET",N,!0),me.responseType="arraybuffer",me.onload=function(){if(me.status==200||me.status==0&&me.response){j(me.response);return}ne()},me.onerror=ne,me.send(null)},le=function(M){document.title=M};else throw new Error("environment detection error");var F=o.print||f.log.bind(f),B=o.printErr||f.warn.bind(f);for(v in l)l.hasOwnProperty(v)&&(o[v]=l[v]);l=null,o.arguments&&(g=o.arguments),Object.getOwnPropertyDescriptor(o,"arguments")||Object.defineProperty(o,"arguments",{configurable:!0,get:function(){k("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),o.thisProgram&&(I=o.thisProgram),Object.getOwnPropertyDescriptor(o,"thisProgram")||Object.defineProperty(o,"thisProgram",{configurable:!0,get:function(){k("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),o.quit&&(P=o.quit),Object.getOwnPropertyDescriptor(o,"quit")||Object.defineProperty(o,"quit",{configurable:!0,get:function(){k("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),ue(typeof o.memoryInitializerPrefixURL=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),ue(typeof o.pthreadMainPrefixURL=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),ue(typeof o.cdInitializerPrefixURL=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),ue(typeof o.filePackagePrefixURL=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),ue(typeof o.read=="undefined","Module.read option was removed (modify read_ in JS)"),ue(typeof o.readAsync=="undefined","Module.readAsync option was removed (modify readAsync in JS)"),ue(typeof o.readBinary=="undefined","Module.readBinary option was removed (modify readBinary in JS)"),ue(typeof o.setWindowTitle=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),ue(typeof o.TOTAL_MEMORY=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(o,"read")||Object.defineProperty(o,"read",{configurable:!0,get:function(){k("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"readAsync")||Object.defineProperty(o,"readAsync",{configurable:!0,get:function(){k("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"readBinary")||Object.defineProperty(o,"readBinary",{configurable:!0,get:function(){k("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"setWindowTitle")||Object.defineProperty(o,"setWindowTitle",{configurable:!0,get:function(){k("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var W="IDBFS is no longer included by default; build with -lidbfs.js",ce="PROXYFS is no longer included by default; build with -lproxyfs.js",te="WORKERFS is no longer included by default; build with -lworkerfs.js",K="NODEFS is no longer included by default; build with -lnodefs.js",ee=16;function de(M,N){return N||(N=ee),Math.ceil(M/N)*N}function z(M){switch(M){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(M[M.length-1]==="*")return 4;if(M[0]==="i"){var N=Number(M.substr(1));return ue(N%8===0,"getNativeTypeSize invalid bits "+N+", type "+M),N/8}else return 0}}}function G(M){G.shown||(G.shown={}),G.shown[M]||(G.shown[M]=1,B(M))}function ge(M,N){if(typeof WebAssembly.Function=="function"){for(var j={i:"i32",j:"i64",f:"f32",d:"f64"},ne={parameters:[],results:N[0]=="v"?[]:[j[N[0]]]},me=1;me<N.length;++me)ne.parameters.push(j[N[me]]);return new WebAssembly.Function(ne,M)}var ve=[1,0,1,96],Oe=N.slice(0,1),Pe=N.slice(1),qe={i:127,j:126,f:125,d:124};ve.push(Pe.length);for(var me=0;me<Pe.length;++me)ve.push(qe[Pe[me]]);Oe=="v"?ve.push(0):ve=ve.concat([1,qe[Oe]]),ve[1]=ve.length-2;var nt=new Uint8Array([0,97,115,109,1,0,0,0].concat(ve,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),Qt=new WebAssembly.Module(nt),er=new WebAssembly.Instance(Qt,{e:{f:M}}),un=er.exports.f;return un}var pe=[],fe;function Ee(){if(pe.length)return pe.pop();try{Ve.grow(1)}catch(M){throw M instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":M}return Ve.length-1}function De(M,N){if(!fe){fe=new WeakMap;for(var j=0;j<Ve.length;j++){var ne=Ve.get(j);ne&&fe.set(ne,j)}}if(fe.has(M))return fe.get(M);var me=Ee();try{Ve.set(me,M)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;ue(typeof N!="undefined","Missing signature argument to addFunction: "+M);var ve=ge(M,N);Ve.set(me,ve)}return fe.set(M,me),me}function Ie(M){fe.delete(Ve.get(M)),pe.push(M)}function Mt(M,N){return ue(typeof M!="undefined"),De(M,N)}function Gt(M,N,j){return j?+(M>>>0)+ +(N>>>0)*4294967296:+(M>>>0)+ +(N|0)*4294967296}var At=0,yn=function(M){At=M},ft=function(){return At};function vn(M){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for getCompilerSetting or emscripten_get_compiler_setting to work"}var rn;o.wasmBinary&&(rn=o.wasmBinary),Object.getOwnPropertyDescriptor(o,"wasmBinary")||Object.defineProperty(o,"wasmBinary",{configurable:!0,get:function(){k("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var ct;o.noExitRuntime&&(ct=o.noExitRuntime),Object.getOwnPropertyDescriptor(o,"noExitRuntime")||Object.defineProperty(o,"noExitRuntime",{configurable:!0,get:function(){k("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),typeof WebAssembly!="object"&&k("no native wasm support detected");function dr(M,N,j,ne){switch(j=j||"i8",j.charAt(j.length-1)==="*"&&(j="i32"),j){case"i1":mt[M>>0]=N;break;case"i8":mt[M>>0]=N;break;case"i16":Tn[M>>1]=N;break;case"i32":Dt[M>>2]=N;break;case"i64":wr=[N>>>0,(sn=N,+Math.abs(sn)>=1?sn>0?(Math.min(+Math.floor(sn/4294967296),4294967295)|0)>>>0:~~+Math.ceil((sn-+(~~sn>>>0))/4294967296)>>>0:0)],Dt[M>>2]=wr[0],Dt[M+4>>2]=wr[1];break;case"float":mr[M>>2]=N;break;case"double":zn[M>>3]=N;break;default:k("invalid type for setValue: "+j)}}function ie(M,N,j){switch(N=N||"i8",N.charAt(N.length-1)==="*"&&(N="i32"),N){case"i1":return mt[M>>0];case"i8":return mt[M>>0];case"i16":return Tn[M>>1];case"i32":return Dt[M>>2];case"i64":return Dt[M>>2];case"float":return mr[M>>2];case"double":return zn[M>>3];default:k("invalid type for getValue: "+N)}return null}var Y,ae=!1,he=0;function ue(M,N){M||k("Assertion failed: "+N)}function Ce(M){var N=o["_"+M];return ue(N,"Cannot call unknown function "+M+", make sure it is exported"),N}function ke(M,N,j,ne,me){var ve={string:function(ht){var yt=0;if(ht!=null&&ht!==0){var Vn=(ht.length<<2)+1;yt=Jn(Vn),Yn(ht,yt,Vn)}return yt},array:function(ht){var yt=Jn(ht.length);return ai(ht,yt),yt}};function Oe(ht){return N==="string"?fr(ht):N==="boolean"?Boolean(ht):ht}var Pe=Ce(M),qe=[],nt=0;if(ue(N!=="array",'Return type should not be "array".'),ne)for(var Qt=0;Qt<ne.length;Qt++){var er=ve[j[Qt]];er?(nt===0&&(nt=Je()),qe[Qt]=er(ne[Qt])):qe[Qt]=ne[Qt]}var un=Pe.apply(null,qe);return un=Oe(un),nt!==0&&_t(nt),un}function Ze(M,N,j,ne){return function(){return ke(M,N,j,arguments,ne)}}var $e=0,lt=1;function bn(M,N){var j;return ue(typeof N=="number","allocate no longer takes a type argument"),ue(typeof M!="number","allocate no longer takes a number as arg0"),N==lt?j=Jn(M.length):j=Pr(M.length),M.subarray||M.slice?Rt.set(M,j):Rt.set(new Uint8Array(M),j),j}var Wt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function pr(M,N,j){for(var ne=N+j,me=N;M[me]&&!(me>=ne);)++me;if(me-N>16&&M.subarray&&Wt)return Wt.decode(M.subarray(N,me));for(var ve="";N<me;){var Oe=M[N++];if(!(Oe&128)){ve+=String.fromCharCode(Oe);continue}var Pe=M[N++]&63;if((Oe&224)==192){ve+=String.fromCharCode((Oe&31)<<6|Pe);continue}var qe=M[N++]&63;if((Oe&240)==224?Oe=(Oe&15)<<12|Pe<<6|qe:((Oe&248)!=240&&G("Invalid UTF-8 leading byte 0x"+Oe.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),Oe=(Oe&7)<<18|Pe<<12|qe<<6|M[N++]&63),Oe<65536)ve+=String.fromCharCode(Oe);else{var nt=Oe-65536;ve+=String.fromCharCode(55296|nt>>10,56320|nt&1023)}}return ve}function fr(M,N){return M?pr(Rt,M,N):""}function En(M,N,j,ne){if(!(ne>0))return 0;for(var me=j,ve=j+ne-1,Oe=0;Oe<M.length;++Oe){var Pe=M.charCodeAt(Oe);if(Pe>=55296&&Pe<=57343){var qe=M.charCodeAt(++Oe);Pe=65536+((Pe&1023)<<10)|qe&1023}if(Pe<=127){if(j>=ve)break;N[j++]=Pe}else if(Pe<=2047){if(j+1>=ve)break;N[j++]=192|Pe>>6,N[j++]=128|Pe&63}else if(Pe<=65535){if(j+2>=ve)break;N[j++]=224|Pe>>12,N[j++]=128|Pe>>6&63,N[j++]=128|Pe&63}else{if(j+3>=ve)break;Pe>=2097152&&G("Invalid Unicode code point 0x"+Pe.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),N[j++]=240|Pe>>18,N[j++]=128|Pe>>12&63,N[j++]=128|Pe>>6&63,N[j++]=128|Pe&63}}return N[j]=0,j-me}function Yn(M,N,j){return ue(typeof j=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),En(M,Rt,N,j)}function On(M){for(var N=0,j=0;j<M.length;++j){var ne=M.charCodeAt(j);ne>=55296&&ne<=57343&&(ne=65536+((ne&1023)<<10)|M.charCodeAt(++j)&1023),ne<=127?++N:ne<=2047?N+=2:ne<=65535?N+=3:N+=4}return N}function Kr(M){for(var N="";;){var j=Rt[M++>>0];if(!j)return N;N+=String.fromCharCode(j)}}function Qr(M,N){return ui(M,N,!1)}var $r=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function Rs(M,N){ue(M%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var j=M,ne=j>>1,me=ne+N/2;!(ne>=me)&&Yr[ne];)++ne;if(j=ne<<1,j-M>32&&$r)return $r.decode(Rt.subarray(M,j));for(var ve=0,Oe="";;){var Pe=Tn[M+ve*2>>1];if(Pe==0||ve==N/2)return Oe;++ve,Oe+=String.fromCharCode(Pe)}}function Ds(M,N,j){if(ue(N%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),ue(typeof j=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),j===void 0&&(j=2147483647),j<2)return 0;j-=2;for(var ne=N,me=j<M.length*2?j/2:M.length,ve=0;ve<me;++ve){var Oe=M.charCodeAt(ve);Tn[N>>1]=Oe,N+=2}return Tn[N>>1]=0,N-ne}function oi(M){return M.length*2}function ii(M,N){ue(M%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var j=0,ne="";!(j>=N/4);){var me=Dt[M+j*4>>2];if(me==0)break;if(++j,me>=65536){var ve=me-65536;ne+=String.fromCharCode(55296|ve>>10,56320|ve&1023)}else ne+=String.fromCharCode(me)}return ne}function Ns(M,N,j){if(ue(N%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),ue(typeof j=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),j===void 0&&(j=2147483647),j<4)return 0;for(var ne=N,me=ne+j-4,ve=0;ve<M.length;++ve){var Oe=M.charCodeAt(ve);if(Oe>=55296&&Oe<=57343){var Pe=M.charCodeAt(++ve);Oe=65536+((Oe&1023)<<10)|Pe&1023}if(Dt[N>>2]=Oe,N+=4,N+4>me)break}return Dt[N>>2]=0,N-ne}function Fs(M){for(var N=0,j=0;j<M.length;++j){var ne=M.charCodeAt(j);ne>=55296&&ne<=57343&&++j,N+=4}return N}function Ls(M){var N=On(M)+1,j=Pr(N);return j&&En(M,mt,j,N),j}function Us(M){var N=On(M)+1,j=Jn(N);return En(M,mt,j,N),j}function si(M,N,j){G("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var ne,me;j&&(me=N+On(M),ne=mt[me]),Yn(M,N,1/0),j&&(mt[me]=ne)}function ai(M,N){ue(M.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),mt.set(M,N)}function ui(M,N,j){for(var ne=0;ne<M.length;++ne)ue(M.charCodeAt(ne)===M.charCodeAt(ne)&255),mt[N++>>0]=M.charCodeAt(ne);j||(mt[N>>0]=0)}var ks=16384,Ln=65536;function js(M,N){return M%N>0&&(M+=N-M%N),M}var ci,Un,mt,Rt,Tn,Yr,Dt,kn,mr,zn;function li(M){Un=M,o.HEAP8=mt=new Int8Array(M),o.HEAP16=Tn=new Int16Array(M),o.HEAP32=Dt=new Int32Array(M),o.HEAPU8=Rt=new Uint8Array(M),o.HEAPU16=Yr=new Uint16Array(M),o.HEAPU32=kn=new Uint32Array(M),o.HEAPF32=mr=new Float32Array(M),o.HEAPF64=zn=new Float64Array(M)}var zr=5288480,xs=zr,Sn=45600;ue(zr%16===0,"stack must start aligned");var gr=5242880;o.TOTAL_STACK&&ue(gr===o.TOTAL_STACK,"the stack size can no longer be determined at runtime");var wn=o.INITIAL_MEMORY||16777216;Object.getOwnPropertyDescriptor(o,"INITIAL_MEMORY")||Object.defineProperty(o,"INITIAL_MEMORY",{configurable:!0,get:function(){k("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),ue(wn>=gr,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+wn+"! (TOTAL_STACK="+gr+")"),ue(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support"),o.wasmMemory?Y=o.wasmMemory:Y=new WebAssembly.Memory({initial:wn/Ln,maximum:wn/Ln}),Y&&(Un=Y.buffer),wn=Un.byteLength,ue(wn%Ln===0),li(Un);var Ve;function Zr(){ue((Sn&3)==0),kn[(Sn>>2)+1]=34821223,kn[(Sn>>2)+2]=2310721022,Dt[0]=1668509029}function Kt(){if(!ae){var M=kn[(Sn>>2)+1],N=kn[(Sn>>2)+2];(M!=34821223||N!=2310721022)&&k("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+N.toString(16)+" "+M.toString(16)),Dt[0]!==1668509029&&k("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var M=new Int16Array(1),N=new Int8Array(M.buffer);if(M[0]=25459,N[0]!==115||N[1]!==99)throw"Runtime error: expected the system to be little-endian!"})();function Bs(M,N){k("Invalid function pointer "+M+" called with signature '"+N+"'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this). Build with ASSERTIONS=2 for more info.")}var Jr=[],_r=[],hr=[],di=[],yr=[],vr=!1,qr=!1;function pi(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)br(o.preRun.shift());Zn(Jr)}function fi(){Kt(),ue(!vr),vr=!0,Zn(_r)}function eo(){Kt(),Zn(hr)}function to(){Kt(),qr=!0}function no(){if(Kt(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)ro(o.postRun.shift());Zn(yr)}function br(M){Jr.unshift(M)}function Vs(M){_r.unshift(M)}function mi(M){hr.unshift(M)}function Er(M){}function ro(M){yr.unshift(M)}ue(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ue(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ue(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),ue(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var on=0,Jt=null,In=null,qt={};function Hs(M){for(var N=M;;){if(!qt[M])return M;M=N+Math.random()}}function oo(M){on++,o.monitorRunDependencies&&o.monitorRunDependencies(on),M?(ue(!qt[M]),qt[M]=1,Jt===null&&typeof setInterval!="undefined"&&(Jt=setInterval(function(){if(ae){clearInterval(Jt),Jt=null;return}var N=!1;for(var j in qt)N||(N=!0,B("still waiting on run dependencies:")),B("dependency: "+j);N&&B("(end of list)")},1e4))):B("warning: run dependency added without ID")}function Or(M){if(on--,o.monitorRunDependencies&&o.monitorRunDependencies(on),M?(ue(qt[M]),delete qt[M]):B("warning: run dependency removed without ID"),on==0&&(Jt!==null&&(clearInterval(Jt),Jt=null),In)){var N=In;In=null,N()}}o.preloadedImages={},o.preloadedAudios={};function k(M){o.onAbort&&o.onAbort(M),M+="",B(M),ae=!0,he=1;var N="abort("+M+") at "+bi();M=N;var j=new WebAssembly.RuntimeError(M);throw a(j),j}var rt={error:function(){k("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){rt.error()},createDataFile:function(){rt.error()},createPreloadedFile:function(){rt.error()},createLazyFile:function(){rt.error()},open:function(){rt.error()},mkdev:function(){rt.error()},registerDevice:function(){rt.error()},analyzePath:function(){rt.error()},loadFilesFromDB:function(){rt.error()},ErrnoError:function(){rt.error()}};o.FS_createDataFile=rt.createDataFile,o.FS_createPreloadedFile=rt.createPreloadedFile;function Tr(M,N){return String.prototype.startsWith?M.startsWith(N):M.indexOf(N)===0}var io="data:application/octet-stream;base64,";function so(M){return Tr(M,io)}var ao="file://";function Sr(M){return Tr(M,ao)}function Ye(M,N){return function(){var j=M,ne=N;return N||(ne=o.asm),ue(vr,"native function `"+j+"` called before runtime initialization"),ue(!qr,"native function `"+j+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ne[M]||ue(ne[M],"exported native function `"+j+"` not found"),ne[M].apply(null,arguments)}}var Nt="firmware.wasm";so(Nt)||(Nt=D(Nt));function uo(){try{if(rn)return new Uint8Array(rn);if(re)return re(Nt);throw"both async and sync fetching of the wasm failed"}catch(M){k(M)}}function gi(){return!rn&&(R||E)&&typeof fetch=="function"&&!Sr(Nt)?fetch(Nt,{credentials:"same-origin"}).then(function(M){if(!M.ok)throw"failed to load wasm binary file at '"+Nt+"'";return M.arrayBuffer()}).catch(function(){return uo()}):Promise.resolve().then(uo)}function _i(){var M={env:gt,wasi_snapshot_preview1:gt};function N(Pe,qe){var nt=Pe.exports;o.asm=nt,Ve=o.asm.__indirect_function_table,ue(Ve,"table not found in wasm exports"),Or("wasm-instantiate")}oo("wasm-instantiate");var j=o;function ne(Pe){ue(o===j,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),j=null,N(Pe.instance)}function me(Pe){return gi().then(function(qe){return WebAssembly.instantiate(qe,M)}).then(Pe,function(qe){B("failed to asynchronously prepare wasm: "+qe),k(qe)})}function ve(){return!rn&&typeof WebAssembly.instantiateStreaming=="function"&&!so(Nt)&&!Sr(Nt)&&typeof fetch=="function"?fetch(Nt,{credentials:"same-origin"}).then(function(Pe){var qe=WebAssembly.instantiateStreaming(Pe,M);return qe.then(ne,function(nt){return B("wasm streaming compile failed: "+nt),B("falling back to ArrayBuffer instantiation"),me(ne)})}):me(ne)}if(o.instantiateWasm)try{var Oe=o.instantiateWasm(M,N);return Oe}catch(Pe){return B("Module.instantiateWasm callback failed with error: "+Pe),!1}return ve().catch(a),{}}var sn,wr,Xs={};function Gs(M){k("Stack overflow! Attempted to allocate "+M+" bytes on the stack, but stack has only "+(Sn-Je()+M)+" bytes available!")}function Zn(M){for(;M.length>0;){var N=M.shift();if(typeof N=="function"){N(o);continue}var j=N.func;typeof j=="number"?N.arg===void 0?Ve.get(j)():Ve.get(j)(N.arg):j(N.arg===void 0?null:N.arg)}}function Ir(M){return G("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),M}function hi(M){var N=/\b_Z[\w\d_]+/g;return M.replace(N,function(j){var ne=Ir(j);return j===ne?j:ne+" ["+j+"]"})}function yi(M,N,j){return ue("dynCall_"+M in o,"bad function pointer type - no table for sig '"+M+"'"),j&&j.length?ue(j.length===M.substring(1).replace(/j/g,"--").length):ue(M.length==1),j&&j.length?o["dynCall_"+M].apply(null,[N].concat(j)):o["dynCall_"+M].call(null,N)}function Ws(M,N,j){return M.indexOf("j")!=-1?yi(M,N,j):(ue(Ve.get(N),"missing table entry in dynCall: "+N),Ve.get(N).apply(null,j))}function vi(){var M=new Error;if(!M.stack){try{throw new Error}catch(N){M=N}if(!M.stack)return"(no stack trace available)"}return M.stack.toString()}function bi(){var M=vi();return o.extraStackTrace&&(M+=`
`+o.extraStackTrace()),hi(M)}function Xe(M,N){throw Lt(M,N||1),"longjmp"}function He(M,N){return Xe(M,N)}function Ei(M,N,j){Rt.copyWithin(M,N,N+j)}function Ks(){return Rt.length}function Oi(M){k("Cannot enlarge memory arrays to size "+M+" bytes (OOM). Either (1) compile with  -s INITIAL_MEMORY=X  with X higher than the current value "+mt.length+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Ti(M){M=M>>>0,Oi(M)}function Si(){return ft()|0}function wi(M,N){if(o.api.compile_callback){let j=Rt.subarray(M,M+N);o.api.compile_callback(j)}}function co(){if(typeof window=="undefined"){var M=o.ccall("mp_hal_get_interrupt_char","number",["number"],["null"]),N=u(98770),j=_.alloc(1);try{var ne=N.readSync(p.stdin.fd,j,0,1);ne>0&&(j[0]==M?o.ccall("mp_keyboard_interrupt","null",["null"],["null"]):p.stdout.write(String.fromCharCode(j[0])))}catch(me){if(me.code!=="EAGAIN")throw me}}}function Ii(M,N){if(o.api.stdout_callback){let j=Rt.subarray(M,M+N);o.api.stdout_callback(j)}}function ot(){return new Date().getTime()-MP_JS_EPOCH}function lo(M){yn(M|0)}var jn=!0;function Pi(M,N,j){var ne=j>0?j:On(M)+1,me=new Array(ne),ve=En(M,me,0,me.length);return N&&(me.length=ve),me}function po(M){for(var N=[],j=0;j<M.length;j++){var ne=M[j];ne>255&&(jn&&ue(!1,"Character code "+ne+" ("+String.fromCharCode(ne)+")  at offset "+j+" not in 0x00-0xFF."),ne&=255),N.push(String.fromCharCode(ne))}return N.join("")}_r.push({func:function(){fo()}});var gt={emscripten_longjmp:He,emscripten_memcpy_big:Ei,emscripten_resize_heap:Ti,getTempRet0:Si,invoke_i:ho,invoke_ii:Ni,invoke_iii:qn,invoke_iiii:_o,invoke_iiiii:Mr,invoke_v:Li,invoke_vi:Pn,invoke_vii:yo,invoke_viii:Fi,invoke_viiii:Ar,memory:Y,mp_js_compile_callback:wi,mp_js_hook:co,mp_js_stdout_callback:Ii,mp_js_ticks_ms:ot,setTempRet0:lo},Ci=_i(),fo=o.___wasm_call_ctors=Ye("__wasm_call_ctors"),Pr=o._malloc=Ye("malloc"),Mi=o._testSetjmp=Ye("testSetjmp"),Ai=o._saveSetjmp=Ye("saveSetjmp"),Ri=o._free=Ye("free"),Tt=o._mp_keyboard_interrupt=Ye("mp_keyboard_interrupt"),Qs=o._mp_js_do_str=Ye("mp_js_do_str"),Ft=o._mp_js_compile_str=Ye("mp_js_compile_str"),$s=o._mp_js_process_char=Ye("mp_js_process_char"),Di=o._mp_js_init=Ye("mp_js_init"),an=o._mp_js_init_repl=Ye("mp_js_init_repl"),Cr=o._mp_hal_get_interrupt_char=Ye("mp_hal_get_interrupt_char"),mo=o.___errno_location=Ye("__errno_location"),Ke=o._fflush=Ye("fflush"),Je=o.stackSave=Ye("stackSave"),_t=o.stackRestore=Ye("stackRestore"),Jn=o.stackAlloc=Ye("stackAlloc"),go=o._realloc=Ye("realloc"),Lt=o._setThrew=Ye("setThrew");function Ni(M,N){var j=Je();try{return Ve.get(M)(N)}catch(ne){if(_t(j),ne!==ne+0&&ne!=="longjmp")throw ne;Lt(1,0)}}function Fi(M,N,j,ne){var me=Je();try{Ve.get(M)(N,j,ne)}catch(ve){if(_t(me),ve!==ve+0&&ve!=="longjmp")throw ve;Lt(1,0)}}function _o(M,N,j,ne){var me=Je();try{return Ve.get(M)(N,j,ne)}catch(ve){if(_t(me),ve!==ve+0&&ve!=="longjmp")throw ve;Lt(1,0)}}function qn(M,N,j){var ne=Je();try{return Ve.get(M)(N,j)}catch(me){if(_t(ne),me!==me+0&&me!=="longjmp")throw me;Lt(1,0)}}function Pn(M,N){var j=Je();try{Ve.get(M)(N)}catch(ne){if(_t(j),ne!==ne+0&&ne!=="longjmp")throw ne;Lt(1,0)}}function Li(M){var N=Je();try{Ve.get(M)()}catch(j){if(_t(N),j!==j+0&&j!=="longjmp")throw j;Lt(1,0)}}function ho(M){var N=Je();try{return Ve.get(M)()}catch(j){if(_t(N),j!==j+0&&j!=="longjmp")throw j;Lt(1,0)}}function yo(M,N,j){var ne=Je();try{Ve.get(M)(N,j)}catch(me){if(_t(ne),me!==me+0&&me!=="longjmp")throw me;Lt(1,0)}}function Mr(M,N,j,ne,me){var ve=Je();try{return Ve.get(M)(N,j,ne,me)}catch(Oe){if(_t(ve),Oe!==Oe+0&&Oe!=="longjmp")throw Oe;Lt(1,0)}}function Ar(M,N,j,ne,me){var ve=Je();try{Ve.get(M)(N,j,ne,me)}catch(Oe){if(_t(ve),Oe!==Oe+0&&Oe!=="longjmp")throw Oe;Lt(1,0)}}Object.getOwnPropertyDescriptor(o,"intArrayFromString")||(o.intArrayFromString=function(){k("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"intArrayToString")||(o.intArrayToString=function(){k("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),o.ccall=ke,o.cwrap=Ze,Object.getOwnPropertyDescriptor(o,"setValue")||(o.setValue=function(){k("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getValue")||(o.getValue=function(){k("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocate")||(o.allocate=function(){k("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF8ArrayToString")||(o.UTF8ArrayToString=function(){k("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF8ToString")||(o.UTF8ToString=function(){k("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF8Array")||(o.stringToUTF8Array=function(){k("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF8")||(o.stringToUTF8=function(){k("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF8")||(o.lengthBytesUTF8=function(){k("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackTrace")||(o.stackTrace=function(){k("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPreRun")||(o.addOnPreRun=function(){k("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnInit")||(o.addOnInit=function(){k("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPreMain")||(o.addOnPreMain=function(){k("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnExit")||(o.addOnExit=function(){k("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPostRun")||(o.addOnPostRun=function(){k("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeStringToMemory")||(o.writeStringToMemory=function(){k("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeArrayToMemory")||(o.writeArrayToMemory=function(){k("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeAsciiToMemory")||(o.writeAsciiToMemory=function(){k("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addRunDependency")||(o.addRunDependency=function(){k("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"removeRunDependency")||(o.removeRunDependency=function(){k("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createFolder")||(o.FS_createFolder=function(){k("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"FS_createPath")||(o.FS_createPath=function(){k("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createDataFile")||(o.FS_createDataFile=function(){k("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createPreloadedFile")||(o.FS_createPreloadedFile=function(){k("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createLazyFile")||(o.FS_createLazyFile=function(){k("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createLink")||(o.FS_createLink=function(){k("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"FS_createDevice")||(o.FS_createDevice=function(){k("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_unlink")||(o.FS_unlink=function(){k("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"getLEB")||(o.getLEB=function(){k("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFunctionTables")||(o.getFunctionTables=function(){k("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"alignFunctionTables")||(o.alignFunctionTables=function(){k("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registerFunctions")||(o.registerFunctions=function(){k("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),o.addFunction=Mt,Object.getOwnPropertyDescriptor(o,"removeFunction")||(o.removeFunction=function(){k("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFuncWrapper")||(o.getFuncWrapper=function(){k("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"prettyPrint")||(o.prettyPrint=function(){k("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"makeBigInt")||(o.makeBigInt=function(){k("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCall")||(o.dynCall=function(){k("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getCompilerSetting")||(o.getCompilerSetting=function(){k("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"print")||(o.print=function(){k("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"printErr")||(o.printErr=function(){k("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getTempRet0")||(o.getTempRet0=function(){k("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setTempRet0")||(o.setTempRet0=function(){k("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"callMain")||(o.callMain=function(){k("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"abort")||(o.abort=function(){k("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToNewUTF8")||(o.stringToNewUTF8=function(){k("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"abortOnCannotGrowMemory")||(o.abortOnCannotGrowMemory=function(){k("'abortOnCannotGrowMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscripten_realloc_buffer")||(o.emscripten_realloc_buffer=function(){k("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ENV")||(o.ENV=function(){k("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ERRNO_CODES")||(o.ERRNO_CODES=function(){k("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ERRNO_MESSAGES")||(o.ERRNO_MESSAGES=function(){k("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setErrNo")||(o.setErrNo=function(){k("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"DNS")||(o.DNS=function(){k("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getHostByName")||(o.getHostByName=function(){k("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GAI_ERRNO_MESSAGES")||(o.GAI_ERRNO_MESSAGES=function(){k("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Protocols")||(o.Protocols=function(){k("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Sockets")||(o.Sockets=function(){k("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getRandomDevice")||(o.getRandomDevice=function(){k("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"traverseStack")||(o.traverseStack=function(){k("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UNWIND_CACHE")||(o.UNWIND_CACHE=function(){k("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"withBuiltinMalloc")||(o.withBuiltinMalloc=function(){k("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readAsmConstArgsArray")||(o.readAsmConstArgsArray=function(){k("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readAsmConstArgs")||(o.readAsmConstArgs=function(){k("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"mainThreadEM_ASM")||(o.mainThreadEM_ASM=function(){k("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jstoi_q")||(o.jstoi_q=function(){k("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jstoi_s")||(o.jstoi_s=function(){k("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getExecutableName")||(o.getExecutableName=function(){k("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"listenOnce")||(o.listenOnce=function(){k("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"autoResumeAudioContext")||(o.autoResumeAudioContext=function(){k("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCallLegacy")||(o.dynCallLegacy=function(){k("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getDynCaller")||(o.getDynCaller=function(){k("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCall")||(o.dynCall=function(){k("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"callRuntimeCallbacks")||(o.callRuntimeCallbacks=function(){k("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"abortStackOverflow")||(o.abortStackOverflow=function(){k("'abortStackOverflow' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"reallyNegative")||(o.reallyNegative=function(){k("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"unSign")||(o.unSign=function(){k("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"reSign")||(o.reSign=function(){k("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"formatString")||(o.formatString=function(){k("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PATH")||(o.PATH=function(){k("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PATH_FS")||(o.PATH_FS=function(){k("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SYSCALLS")||(o.SYSCALLS=function(){k("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"syscallMmap2")||(o.syscallMmap2=function(){k("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"syscallMunmap")||(o.syscallMunmap=function(){k("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"flush_NO_FILESYSTEM")||(o.flush_NO_FILESYSTEM=function(){k("'flush_NO_FILESYSTEM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"JSEvents")||(o.JSEvents=function(){k("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"specialHTMLTargets")||(o.specialHTMLTargets=function(){k("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"maybeCStringToJsString")||(o.maybeCStringToJsString=function(){k("'maybeCStringToJsString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"findEventTarget")||(o.findEventTarget=function(){k("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"findCanvasEventTarget")||(o.findCanvasEventTarget=function(){k("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"polyfillSetImmediate")||(o.polyfillSetImmediate=function(){k("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"demangle")||(o.demangle=function(){k("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"demangleAll")||(o.demangleAll=function(){k("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jsStackTrace")||(o.jsStackTrace=function(){k("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackTrace")||(o.stackTrace=function(){k("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getEnvStrings")||(o.getEnvStrings=function(){k("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"checkWasiClock")||(o.checkWasiClock=function(){k("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64")||(o.writeI53ToI64=function(){k("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64Clamped")||(o.writeI53ToI64Clamped=function(){k("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64Signaling")||(o.writeI53ToI64Signaling=function(){k("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToU64Clamped")||(o.writeI53ToU64Clamped=function(){k("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToU64Signaling")||(o.writeI53ToU64Signaling=function(){k("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readI53FromI64")||(o.readI53FromI64=function(){k("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readI53FromU64")||(o.readI53FromU64=function(){k("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"convertI32PairToI53")||(o.convertI32PairToI53=function(){k("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"convertU32PairToI53")||(o.convertU32PairToI53=function(){k("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exceptionLast")||(o.exceptionLast=function(){k("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exceptionCaught")||(o.exceptionCaught=function(){k("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ExceptionInfoAttrs")||(o.ExceptionInfoAttrs=function(){k("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ExceptionInfo")||(o.ExceptionInfo=function(){k("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"CatchInfo")||(o.CatchInfo=function(){k("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exception_addRef")||(o.exception_addRef=function(){k("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exception_decRef")||(o.exception_decRef=function(){k("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Browser")||(o.Browser=function(){k("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"funcWrappers")||(o.funcWrappers=function(){k("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFuncWrapper")||(o.getFuncWrapper=function(){k("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setMainLoop")||(o.setMainLoop=function(){k("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"FS")||(o.FS=function(){k("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"mmapAlloc")||(o.mmapAlloc=function(){k("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"MEMFS")||(o.MEMFS=function(){k("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"TTY")||(o.TTY=function(){k("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PIPEFS")||(o.PIPEFS=function(){k("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SOCKFS")||(o.SOCKFS=function(){k("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"tempFixedLengthArray")||(o.tempFixedLengthArray=function(){k("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"miniTempWebGLFloatBuffers")||(o.miniTempWebGLFloatBuffers=function(){k("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"heapObjectForWebGLType")||(o.heapObjectForWebGLType=function(){k("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"heapAccessShiftForWebGLHeap")||(o.heapAccessShiftForWebGLHeap=function(){k("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GL")||(o.GL=function(){k("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGet")||(o.emscriptenWebGLGet=function(){k("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"computeUnpackAlignedImageSize")||(o.computeUnpackAlignedImageSize=function(){k("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetTexPixelData")||(o.emscriptenWebGLGetTexPixelData=function(){k("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetUniform")||(o.emscriptenWebGLGetUniform=function(){k("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetVertexAttrib")||(o.emscriptenWebGLGetVertexAttrib=function(){k("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeGLArray")||(o.writeGLArray=function(){k("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"AL")||(o.AL=function(){k("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_unicode")||(o.SDL_unicode=function(){k("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_ttfContext")||(o.SDL_ttfContext=function(){k("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_audio")||(o.SDL_audio=function(){k("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL")||(o.SDL=function(){k("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_gfx")||(o.SDL_gfx=function(){k("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLUT")||(o.GLUT=function(){k("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"EGL")||(o.EGL=function(){k("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLFW_Window")||(o.GLFW_Window=function(){k("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLFW")||(o.GLFW=function(){k("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLEW")||(o.GLEW=function(){k("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"IDBStore")||(o.IDBStore=function(){k("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"runAndAbortIfError")||(o.runAndAbortIfError=function(){k("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"warnOnce")||(o.warnOnce=function(){k("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackSave")||(o.stackSave=function(){k("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackRestore")||(o.stackRestore=function(){k("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackAlloc")||(o.stackAlloc=function(){k("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"AsciiToString")||(o.AsciiToString=function(){k("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToAscii")||(o.stringToAscii=function(){k("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF16ToString")||(o.UTF16ToString=function(){k("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF16")||(o.stringToUTF16=function(){k("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF16")||(o.lengthBytesUTF16=function(){k("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF32ToString")||(o.UTF32ToString=function(){k("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF32")||(o.stringToUTF32=function(){k("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF32")||(o.lengthBytesUTF32=function(){k("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocateUTF8")||(o.allocateUTF8=function(){k("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocateUTF8OnStack")||(o.allocateUTF8OnStack=function(){k("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),o.writeStackCookie=Zr,o.checkStackCookie=Kt,Object.getOwnPropertyDescriptor(o,"ALLOC_NORMAL")||Object.defineProperty(o,"ALLOC_NORMAL",{configurable:!0,get:function(){k("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(o,"ALLOC_STACK")||Object.defineProperty(o,"ALLOC_STACK",{configurable:!0,get:function(){k("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var xn;function vo(M){this.name="ExitStatus",this.message="Program terminated with exit("+M+")",this.status=M}var bo=!1;In=function M(){xn||Bn(),xn||(In=M)};function Bn(M){if(M=M||g,on>0||(Zr(),pi(),on>0))return;function N(){xn||(xn=!0,o.calledRun=!0,!ae&&(fi(),eo(),m(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),ue(!o._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),no()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),N()},1)):N(),Kt()}o.run=Bn;function Ui(){var M=F,N=B,j=!1;F=B=function(me){j=!0};try{var ne=null;ne&&ne()}catch(me){}F=M,B=N,j&&(G("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc."),G("(this may also be due to not including full filesystem support - try building with -s FORCE_FILESYSTEM=1)"))}function St(M,N){if(Ui(),!(N&&ct&&M===0)){if(ct){if(!N){var j="program exited (with status: "+M+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";a(j),B(j)}}else he=M,to(),o.onExit&&o.onExit(M),ae=!0;P(M,new vo(M))}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return ct=!0,Bn(),o.ready}}();S.exports=c},31796:(S,n,u)=>{"use strict";var r;r={value:!0};const i=u(4527);n.K=i},4527:function(S,n,u){"use strict";var r=this&&this.__awaiter||function(h,y,o,m){return new(o||(o=Promise))(function(a,l){function v(P){try{I(m.next(P))}catch(R){l(R)}}function g(P){try{I(m.throw(P))}catch(R){l(R)}}function I(P){P.done?a(P.value):new o(function(R){R(P.value)}).then(v,g)}I((m=m.apply(h,y||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i={},_=h=>(window&&u(9065)("sha1")||u(5634).createHash("sha1")).update(h).digest("hex");function p(h,y){return r(this,void 0,void 0,function*(){const o=[],m=document.createElementNS("http://www.w3.org/2000/svg","defs"),a=Math.random(),l=[],v=Array.from(h.getElementsByTagName("use"));for(const P of v){const R=P.getAttribute("xlink:href");if(R&&!l.includes(R))if(R.startsWith("#")){const E=R.substr(1);if(o.indexOf(E)===-1){const T=document.getElementById(E);if(T){const b=T.cloneNode(!0);l.push(R),m.appendChild(b),o.push(E)}}}else{const E=_(a+R);if(o.indexOf(E)===-1){let T;if(new URL(R,"http://example.com").pathname.endsWith(".svg")){const D=yield(yield fetch(R)).text();T=new DOMParser().parseFromString(D,"image/svg+xml").documentElement}else{let w;i[R]?w=i[R]:(w=yield f(R,P.width.baseVal.value,P.height.baseVal.value),i[R]=w),T=document.createElementNS("http://www.w3.org/2000/svg","image"),T.setAttribute("xlink:href",w),T.setAttribute("width",P.getAttribute("width")),T.setAttribute("height",P.getAttribute("height"))}T.setAttribute("id",E),m.appendChild(T),o.push(E)}P.setAttribute("xlink:href","#"+E)}}const g=Array.from(h.getElementsByTagName("image")),I=["transform","x","y"];for(const P of g){const R=P.parentNode,E=P.getAttribute("xlink:href");if(!E||!R)continue;const T=E.startsWith("data:"),b=_(a+E);if(o.indexOf(b)===-1){if(!T){let L;i[E]?L=i[E]:(L=yield f(E,P.width.baseVal.value,P.height.baseVal.value,y),i[E]=L),P.setAttribute("xlink:href",L)}P.setAttribute("id",b);const D=P.cloneNode();I.forEach(L=>D.removeAttribute(L)),m.appendChild(D),o.push(b)}const w=document.createElementNS("http://www.w3.org/2000/svg","use");w.setAttribute("xlink:href","#"+b),I.forEach(D=>{const L=P.getAttribute(D);L&&w.setAttribute(D,L)}),R.replaceChild(w,P)}h.appendChild(m)})}function f(h,y,o,m){return r(this,void 0,void 0,function*(){const a=document.createElement("canvas");a.width=y,a.height=o;const l=a.getContext("2d");if(!l)return"";const g=yield(yield fetch(h)).text(),I=new Image;return new Promise(P=>{const R="data:image/svg+xml;base64,"+btoa(g);m||P(R),I.src=R,I.onload=()=>{l.drawImage(I,0,0,y,o),P(a.toDataURL())}})})}function c(h,y={}){return r(this,void 0,void 0,function*(){const o=Object.assign({withSize:!1,withStyle:""},y),m=h.cloneNode(!0),a=o.withRect||h.getBBox();m.setAttribute("transform","translate("+-a.x+","+-a.y+")");const l=Math.ceil(a.width),v=Math.ceil(a.height),I=`<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1" ${o.withSize?`width="${l+2}" height="${v+2}"`:""}
    preserveAspectRatio="xMidYMid meet"
    viewBox="0 0 ${l} ${v}">`;yield p(m,y.convertAssetsToBitmaps);const P="<style>"+o.withStyle+"</style>",R=new XMLSerializer().serializeToString(m);return I+P+R+"</svg>"})}n.isolateSvgGroup=c},8908:(S,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LPF2_FLIPPER_MOTOR_SMALL=65,n.LPF2_FLIPPER_MOTOR_MEDIUM=48,n.LPF2_FLIPPER_MOTOR_LARGE=49,n.LPF2_FLIPPER_COLOR=61,n.LPF2_FLIPPER_DISTANCE=62,n.LPF2_FLIPPER_FORCE=63,n.LPF2_ACCELERATION=57,n.LPF2_GYRO=58,n.LPF2_ORIENTATION=59,n.LPF2_STONE_GREY_MOTOR_MEDIUM=75,n.LPF2_STONE_GREY_MOTOR_LARGE=76,n.LPF2_BOOST_VISION=37,n.LPF2_BOOST_EXTERNAL_ENCODED_MOTOR=38,n.LPF2_CONVOY_L_MOTOR=46,n.LPF2_CONVOY_XL_MOTOR=47,n.LPF2_SIMPLE_LIGHT=8,n.LPF2_WEDO_TILT=34,n.LPF2_WEDO_MOTION=35,n.DEFAULT_MODES={[n.LPF2_FLIPPER_MOTOR_SMALL]:[1,2,3,0],[n.LPF2_FLIPPER_MOTOR_MEDIUM]:[1,2,3,0],[n.LPF2_FLIPPER_MOTOR_LARGE]:[1,2,3,0],[n.LPF2_FLIPPER_COLOR]:[1,0,2,3,4],[n.LPF2_FLIPPER_FORCE]:[0,1,4],[n.LPF2_STONE_GREY_MOTOR_MEDIUM]:[1,2,3,0],[n.LPF2_STONE_GREY_MOTOR_LARGE]:[1,2,3,0],[n.LPF2_BOOST_VISION]:[0,2,3,1],[n.LPF2_BOOST_EXTERNAL_ENCODED_MOTOR]:[1,2,0],[n.LPF2_CONVOY_L_MOTOR]:[1,2,3,0],[n.LPF2_CONVOY_XL_MOTOR]:[1,2,3,0],[n.LPF2_SIMPLE_LIGHT]:[],[n.LPF2_WEDO_TILT]:[0,1],[n.LPF2_WEDO_MOTION]:[0]},n.PORT_A_IDX=0,n.PORT_B_IDX=1,n.PORT_C_IDX=2,n.PORT_D_IDX=3,n.PORT_E_IDX=4,n.PORT_F_IDX=5,n.ACCELEROMETER_IDX=6,n.GYROSCOPE_IDX=7,n.POSITION_IDX=8,n.DISPLAY_IDX=9,n.TIME_IDX=10,n.SENSOR_DATA_NOTIFICATION=0,n.STORAGE_STATUS_NOTIFICATION=1,n.BATTERY_STATUS_NOTIFICATION=2,n.BUTTON_EVENT_NOTIFICATION=3,n.GESTURE_STATUS_NOTIFICATION=4,n.DISPLAY_STATUS_NOTIFICATION=5,n.FIRMWARE_STATUS_NOTIFICATION=6,n.STACK_START_NOTIFICATION=7,n.STACK_STOP_NOTIFICATION=8,n.INFO_STATUS_NOTIFICATION=9,n.ERROR_NOTIFICATION=10,n.VM_STATE_NOTIFICATION=11,n.PROGRAM_RUNNING_NOTIFICATION=12,n.LINEGRAPH_TIMER_RESET_NOTIFICATION=13,n.ORIENTATION_STATUS_NOTIFICATION=14,n.HUB_SIGNAL_NOTIFICATION=15,n.default={SENSOR_TYPES:{LPF2_FLIPPER_MOTOR_SMALL:n.LPF2_FLIPPER_MOTOR_SMALL,LPF2_FLIPPER_MOTOR_MEDIUM:n.LPF2_FLIPPER_MOTOR_MEDIUM,LPF2_FLIPPER_MOTOR_LARGE:n.LPF2_FLIPPER_MOTOR_LARGE,LPF2_FLIPPER_COLOR:n.LPF2_FLIPPER_COLOR,LPF2_FLIPPER_DISTANCE:n.LPF2_FLIPPER_DISTANCE,LPF2_FLIPPER_FORCE:n.LPF2_FLIPPER_FORCE,LPF2_ACCELERATION:n.LPF2_ACCELERATION,LPF2_GYRO:n.LPF2_GYRO,LPF2_ORIENTATION:n.LPF2_ORIENTATION,LPF2_STONE_GREY_MOTOR_MEDIUM:n.LPF2_STONE_GREY_MOTOR_MEDIUM,LPF2_STONE_GREY_MOTOR_LARGE:n.LPF2_STONE_GREY_MOTOR_LARGE,LPF2_BOOST_VISION:n.LPF2_BOOST_VISION,LPF2_CONVOY_L_MOTOR:n.LPF2_CONVOY_L_MOTOR,LPF2_CONVOY_XL_MOTOR:n.LPF2_CONVOY_XL_MOTOR},DEFAULT_MODES:n.DEFAULT_MODES,SENSOR_DATA_INDICES:{PORT_A_IDX:n.PORT_A_IDX,PORT_B_IDX:n.PORT_B_IDX,PORT_C_IDX:n.PORT_C_IDX,PORT_D_IDX:n.PORT_D_IDX,PORT_E_IDX:n.PORT_E_IDX,PORT_F_IDX:n.PORT_F_IDX,ACCELEROMETER_IDX:n.ACCELEROMETER_IDX,GYROSCOPE_IDX:n.GYROSCOPE_IDX,POSITION_IDX:n.POSITION_IDX,DISPLAY_IDX:n.DISPLAY_IDX,TIME_IDX:n.TIME_IDX},NOTIFICATION_METHODS:{SENSOR_DATA_NOTIFICATION:n.SENSOR_DATA_NOTIFICATION,STORAGE_STATUS_NOTIFICATION:n.STORAGE_STATUS_NOTIFICATION,BATTERY_STATUS_NOTIFICATION:n.BATTERY_STATUS_NOTIFICATION,BUTTON_EVENT_NOTIFICATION:n.BUTTON_EVENT_NOTIFICATION,GESTURE_STATUS_NOTIFICATION:n.GESTURE_STATUS_NOTIFICATION,DISPLAY_STATUS_NOTIFICATION:n.DISPLAY_STATUS_NOTIFICATION,FIRMWARE_STATUS_NOTIFICATION:n.FIRMWARE_STATUS_NOTIFICATION,INFO_STATUS_NOTIFICATION:n.INFO_STATUS_NOTIFICATION,ERROR_NOTIFICATION:n.ERROR_NOTIFICATION,VM_STATE_NOTIFICATION:n.VM_STATE_NOTIFICATION,PROGRAM_RUNNING_NOTIFICATION:n.PROGRAM_RUNNING_NOTIFICATION,LINEGRAPH_TIMER_RESET_NOTIFICATION:n.LINEGRAPH_TIMER_RESET_NOTIFICATION}}},20927:(S,n,u)=>{"use strict";function r(i){for(var _ in i)n.hasOwnProperty(_)||(n[_]=i[_])}Object.defineProperty(n,"__esModule",{value:!0}),r(u(8908)),n.isRequest=i=>i.hasOwnProperty("i")&&i.hasOwnProperty("m")&&i.hasOwnProperty("p"),n.isResponse=i=>i.hasOwnProperty("i")&&i.hasOwnProperty("r"),n.isError=i=>i.hasOwnProperty("i")&&i.hasOwnProperty("e"),n.isNotification=i=>!i.hasOwnProperty("i")&&i.hasOwnProperty("m")&&i.hasOwnProperty("p"),n.request=(i,_,p)=>{const f={i,m:_,p};return`${JSON.stringify(f)}\r`},n.response=(i,_)=>{const p={i,r:_};return`${JSON.stringify(p)}\r`},n.notification=(i,_)=>{const p={m:i,p:_};return`${JSON.stringify(p)}\r`}},66873:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/e01eeae17b3657515f6c83f2831a9971.mpy"},94829:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/458b9a535e1b70a0daffa1918cc83e07.mpy"},22447:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/35598376cf96a10a3d1be28a2bff2d06.mpy"},90044:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9905d466fab1c6ba84b1028561f5a0d0.mpy"},83065:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b3d00604872634c48ff8b4601625b8e9.mpy"},96761:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/eb381fbb8f353709a971d182021a5720.mpy"},56832:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/1783d19a96cc8c5a74e42b94afd9fdbb.mpy"},50776:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/0b9b7f3cb30fcff31077307bbc5a0ce7.mpy"},30786:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b81c945833fd674f449d857a5cffc8f4.mpy"},60209:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/53190b7ea6ac48c3235d36dfff4e3ea9.mpy"},68285:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/6ccd4f5b52c205dce642d5e1c15e8b86.mpy"},99058:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/056a72f197e5f8cdc2a8d5ec9b6e0942.mpy"},46483:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/6a718e9f57601dce94d67416bbaff977.mpy"},86348:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f5997cb28706e97a6554e1c24c2dddbf.mpy"},26478:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/216f321c79b6b6949d8518b72c176b68.mpy"},10092:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9d10140b00e3bd4caa0c3e5ddca6a9b0.mpy"},1067:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/145f2660bb17ad28943df67b0b27104e.py"},63128:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/2a14738ccd7f13b1eeecee9028d438f9.mpy"},58401:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/06446e052f4693152c46962cbe98defe.mpy"},20889:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/d9a0eb4e3a32efdae9705095040933f1.mpy"},6051:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/03ad333713e1920d5e03e37f19a217f3.mpy"},1533:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/868da947dd9e7043cd7d27b685161505.mpy"},69089:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/fd59196cb72fb43f2963666c952ba3e5.mpy"},26314:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/3feeafe6e2696088316c4367528ea6f5.mpy"},19730:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/46975335321962ed797c068c0b9452f3.mpy"},93847:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9da3df9261369083187db3eb654dd33a.mpy"},3588:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b9fa399c8432b5a9cd03385cfaa40b66.mpy"},4218:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/ae741103cf848f8d2079a937f2d30f6b.mpy"},83542:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/a1e8d564d8c859efa857d719857d0ef0.mpy"},63387:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c93f5fee1f1abf39273f1b945657e36d.mpy"},23400:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/5d7b54139aa2276f12d72e8740c6394e.mpy"},34526:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/e31fd701ae2eb9455b099a303f4e2c93.py"},8488:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/290caa081a63e7c265bbf16e654692cc.mpy"},83037:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/58f56aff9df10fb201cf7aa89c5e00f6.mpy"},21731:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/461f1ed222da6bca3a4fda5211695155.mpy"},18223:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c6070bfeb4e21543adc28514a1d5385b.mpy"},74694:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9feb72f74b90d11580a9afee4fda631f.mpy"},56739:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/42f9438179bbad4a017bce82a36aa7f5.mpy"},92325:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/60321f8da41dfaa6e44905cd0fe2bd0b.mpy"},12047:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/5c86ff10fd4c35bc3727a8b14b5bc9b0.mpy"},79715:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/a8f976bcf0cf575085decf5f202115c7.mpy"},83515:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/1f1d5dd340205e0d058301edee83707e.mpy"},10024:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/cdcb7561504bf9c0e1d132127a4e72a7.mpy"},65155:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/79c50504586194e15ce58f10f878eb6e.mpy"},43027:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9d4c51a1d3276a109df5a8cbd05ebcab.mpy"},638:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/2e32547462a9832df9c779f9df41d0df.mpy"},39020:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/81e9a39349a80127d5f6c90306ea260e.mpy"},86822:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/06de2b96e96486e709492f1ef9c56253.mpy"},96989:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/296d59e5fcf02a8f2e93800d9de1781e.mpy"},21292:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b4abe424c7b5b230639128f25ff4581d.mpy"},63424:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/3272666064487a474d91457664ef1771.mpy"},28366:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/2253e181017ca09d96aa1ed415d68783.mpy"},43954:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/86408ff5ae0c7b9d9074ad69d7d6b074.mpy"},34488:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/0830aa8a6d73c4e2129da657ce32ed9c.mpy"},24072:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/123e2489c7d0c8b52647ff16943e7a2f.mpy"},396:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/e7085bf3769edcf8b29cb891342c3218.mpy"},61009:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/041dc8c13478ea83bfadfe5009784da8.mpy"},77782:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/659b0573d4b8a2e24d0327b3fce341c5.mpy"},94178:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f70bf0ceb9c4c9d68ca8f50f8d64ffd2.mpy"},52278:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c205e40842ef9612ccbe91592f9269de.mpy"},70876:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/17b2d2ab3ab771aa54e32c8bc05f5170.mpy"},79336:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/6ff69b4d18681b5042ef2f8a8452ba12.mpy"},46074:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/cc93d843d565475e867e226b73b4406c.mpy"},75635:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/ad9344d036d07f8118583df04c7dd25c.mpy"},79008:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/2e991306c231d274b8bd75f4e4767ef6.mpy"},15862:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/12c0cfb0b39955b0b09e4a9ca515f14b.mpy"},32235:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/e48ab40b9c783f93965f520b9f85cf7a.bin"},43473:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b240bf3ce2017b6273808926f221d172.bin"},75142:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/770cf12dba91e7794970f55ae4576f16.bin"},79503:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9dfee7b4e744658852319c9348603b18.bin"},74820:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/517488874de92806d45e39336f0a16a8.bin"},3513:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/71c333dc37950ab3eed499587b953690.bin"},81808:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/b9076e04a1b92e1074a9ff07c4b39e1c.mpy"},36878:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/d713b202c91b2a1899f2480e5bfe4ada.mpy"},24890:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/da4a28d87adaeedaa55c298294886992.mpy"},3876:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f6386882ebeade2a840a4401d8012b36.mpy"},47451:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/34dedebf53ab9ad773fbb86f21b5a6b5.mpy"},12183:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/abeb2e5fca7fbfd918b388690823dbd4.mpy"},91009:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/34c1a872f382b18a97f848841b402dfe.mpy"},48597:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c2516ae7377f1a89a12b2eba3bd1ca76.mpy"},5035:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/908b44209d6ba332e086cb409bb426d7.mpy"},44944:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/97aefeda9b3b192254bfe9503127331d.mpy"},52535:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c8b06a9f732364809dd6f554214baaae.mpy"},16946:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c8c710e7571fe073e1267f8bb0941a9b.mpy"},67494:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/a22274105948169bb7f6b2c1f9962933.mpy"},39302:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/913b57270a86b6568245f32b17deb0ca.mpy"},22044:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/6ab99c754a2ee19fe7d654ba4d27b5dc.mpy"},59556:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/d1df61128b99d5b8b12f4f979c94f471.mpy"},35761:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/a559aca758026fc98dae98a51ee31e60.mpy"},47270:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/3b5c20366a3889c862c7b26e32f89218.mpy"},63816:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/7e3f4809c0095c5c1fcec59989829563.mpy"},2693:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f03af98e83a9dc4bdbb3f7de7c0f5b76.mpy"},27533:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/2aa3e777672ef33ee3c40fc81213d473.mpy"},20804:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/ec6334f218cb3f36211e1f51a8517b89.mpy"},4496:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/71544619978764e5f045d870e603624a.mpy"},26304:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/61a71aa37efda3ca15074123a41d030b.mpy"},31405:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/69af2e3a3649f2477d304a2aefc7caaa.mpy"},10370:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/3e57f0eda2fb70daa57aad02343b04a4.mpy"},83968:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/271a16c78226e537189f892e577482ab.mpy"},55904:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/e11cfa3d3ea3724f1b6e76b469a50b38.mpy"},97935:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f9470893b6809fcdc14744efb40e1c4e.mpy"},68152:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/7380d0875ba375aeda35821bd0f58d1e.mpy"},94306:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/1286068aa88b923a9352fc1eff3f9360.mpy"},81332:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/07509edf0ce5ad29d14171e440ec414c.mpy"},68124:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/fa6cad4d647392ede7da0d26d8bf32ea.mpy"},27341:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/56f22cb0ad708b9d40a6c8924d7b4af3.mpy"},31037:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/c1068ea09d73bf41c277ea5db479bd2c.mpy"},76510:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/540dc25ce8062970cd98edae03aafde6.mpy"},75073:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/93126641f14fd0deb2fcc7ba89b8416d.mpy"},72567:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/4dddaea9a9f66115171e4577b805bbc0.mpy"},89785:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/f7401eac4a1ce0b71b47febce8486597.mpy"},17398:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9d2ac9d53f7e3a676681aba26704962b.mpy"},87199:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/1323df7c0c32bb393f31c1b5d3a99b62.mpy"},30021:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/83d606a52e8bb773caa82e5ae574a443.mpy"},82232:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/7473b6b810347366339f4c6fa439fd40.mpy"},35920:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/764128c4908968e24d739f0e847a87a2.mpy"},98312:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/d7a38b7c4f54d587b8c51d5ad6048d49.mpy"},80888:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/9c79d22074bb93bc6b7bcd868b860083.mpy"},95914:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/ac311a9f691ac90df7f315be09c31bcd.mpy"},31440:(S,n,u)=>{S.exports=u.p+"flipper-hub/flash/78808a2c7354595c6517aac18ce3fda3.py"},75127:(S,n,u)=>{S.exports=u.p+"flipper-hub/firmware/15bc498f956dc12eda9f78cf1ed7119b.bin"},80825:(S,n,u)=>{S.exports=u.p+"flipper-hub/firmware/a8f5f825e8692ccdbcae344871ded6a3.bin"},9346:S=>{"use strict";S.exports={version:"18.0.0"}},8952:S=>{"use strict";S.exports=JSON.parse('{"name":"@lls/clutchpower-tracking","version":"1.10.0","description":"Track your app","license":"UNLICENSED","main":"dist/src/index.js","types":"dist/src/index.d.ts","scripts":{"build":"yarn tsc","prepublishOnly":"yarn build"},"devDependencies":{"@types/fetch-mock":"7.3.2","@types/jest":"24.0.11","@types/luxon":"1.21.0","@types/uuid":"3.4.4","@typescript-eslint/eslint-plugin":"4.4.1","eslint":"^7.9.0","eslint-config-prettier":"6.13.0","jest":"26.4.2","parcel":"1.12.3","parcel-bundler":"1.12.3","ts-jest":"24.0.1","tsc-watch":"2.1.2","typedoc":"0.19.2","typescript":"4.0.3"},"dependencies":{"bcp47-validate":"1.0.0","snowplow-tracker-core":"0.9.3","uuid":"3.3.2","winston":"3.2.1"}}')}}]);
